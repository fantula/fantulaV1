import{b_ as ue,c0 as we,c3 as de,f as ce,cZ as De,b9 as le,g as u,c as Q,o as F,a as V,D as H,aI as B,n as k,l as e,t as Ie,b as j,w as A,G as x,M as ke,es as Ae,E as Se,aD as fe,dg as Te,b$ as ae,b7 as _e,c_ as Be,cf as se,r as S,bX as Pe,et as Fe,cA as $e,bu as Le,bw as Oe,ci as ne,J as W,h as Ne,dP as te,cj as Re,K as Me,bY as ze,c2 as Ue,T as Ve,c4 as re,i as je,b0 as Ke,aU as qe,c5 as Ge,c6 as Ze}from"./gYbOYKrZ.js";import{u as Je,E as Ye,a as Xe}from"./DEN0lkI5.js";import{F as Qe,E as We}from"./CUkNyi1D.js";import{t as He,E as xe}from"./BlcygIWm.js";import{c as eo}from"./D6FW0B1r.js";import{U as ve}from"./BB_Ol6Sd.js";import{u as oo}from"./Djfz0t-N.js";import{u as lo}from"./D4AXxtJy.js";const ge=Symbol("dialogInjectionKey"),ie="dialog-fade",me=ue({center:Boolean,alignCenter:{type:Boolean,default:void 0},closeIcon:{type:we},draggable:{type:Boolean,default:void 0},overflow:{type:Boolean,default:void 0},fullscreen:Boolean,headerClass:String,bodyClass:String,footerClass:String,showClose:{type:Boolean,default:!0},title:{type:String,default:""},ariaLevel:{type:String,default:"2"}}),ao={close:()=>!0},so=["aria-level"],no=["aria-label"],to=["id"],ro=ce({name:"ElDialogContent",__name:"dialog-content",props:me,emits:ao,setup(o,{expose:d}){const{t:g}=De(),{Close:N}=Ae,n=o,{dialogRef:m,headerRef:T,bodyId:_,ns:r,style:c}=le(ge),{focusTrapRef:h}=le(Qe),E=eo(h,m),w=u(()=>!!n.draggable),p=u(()=>!!n.overflow),{resetPosition:y,updatePosition:b,isDragging:P}=Je(m,T,w,p),$=u(()=>[r.b(),r.is("fullscreen",n.fullscreen),r.is("draggable",w.value),r.is("dragging",P.value),r.is("align-center",!!n.alignCenter),{[r.m("center")]:n.center}]);return d({resetPosition:y,updatePosition:b}),(t,D)=>(F(),Q("div",{ref:e(E),class:k($.value),style:fe(e(c)),tabindex:"-1"},[V("header",{ref_key:"headerRef",ref:T,class:k([e(r).e("header"),t.headerClass,{"show-close":t.showClose}])},[B(t.$slots,"header",{},()=>[V("span",{role:"heading","aria-level":t.ariaLevel,class:k(e(r).e("title"))},Ie(t.title),11,so)]),t.showClose?(F(),Q("button",{key:0,"aria-label":e(g)("el.dialog.close"),class:k(e(r).e("headerbtn")),type:"button",onClick:D[0]||(D[0]=R=>t.$emit("close"))},[j(e(Se),{class:k(e(r).e("close"))},{default:A(()=>[(F(),x(ke(t.closeIcon||e(N))))]),_:1},8,["class"])],10,no)):H("v-if",!0)],2),V("div",{id:e(_),class:k([e(r).e("body"),t.bodyClass])},[B(t.$slots,"default")],10,to),t.$slots.footer?(F(),Q("footer",{key:0,class:k([e(r).e("footer"),t.footerClass])},[B(t.$slots,"footer")],2)):H("v-if",!0)],6))}});var io=de(ro,[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog-content.vue"]]);const uo=ue({...me,appendToBody:Boolean,appendTo:{type:He.to.type,default:"body"},beforeClose:{type:ae(Function)},destroyOnClose:Boolean,closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},modalPenetrable:Boolean,openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:Boolean,modalClass:String,headerClass:String,bodyClass:String,footerClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:Boolean,headerAriaLevel:{type:String,default:"2"},transition:{type:ae([String,Object]),default:void 0}}),co={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[ve]:o=>Te(o),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},fo=(o,d)=>{var g;const n=_e().emit,{nextZIndex:m}=Be();let T="";const _=se(),r=se(),c=S(!1),h=S(!1),E=S(!1),w=S((g=o.zIndex)!=null?g:m()),p=S(!1);let y,b;const P=Pe(),$=u(()=>{var l,s;return(s=(l=P.value)==null?void 0:l.namespace)!=null?s:Fe}),t=u(()=>{var l;return(l=P.value)==null?void 0:l.dialog}),D=u(()=>{const l={},s=`--${$.value}-dialog`;if(!o.fullscreen){o.top&&(l[`${s}-margin-top`]=o.top);const i=$e(o.width);i&&(l[`${s}-width`]=i)}return l}),R=u(()=>{var l,s,i;return((i=(s=o.draggable)!=null?s:(l=t.value)==null?void 0:l.draggable)!=null?i:!1)&&!o.fullscreen}),M=u(()=>{var l,s,i;return(i=(s=o.alignCenter)!=null?s:(l=t.value)==null?void 0:l.alignCenter)!=null?i:!1}),K=u(()=>{var l,s,i;return(i=(s=o.overflow)!=null?s:(l=t.value)==null?void 0:l.overflow)!=null?i:!1}),q=u(()=>M.value?{display:"flex"}:{}),G=u(()=>{var l,s,i;const Y=(i=(s=o.transition)!=null?s:(l=t.value)==null?void 0:l.transition)!=null?i:ie,he={name:Y,onAfterEnter:L,onBeforeLeave:O,onAfterLeave:f};if(Le(Y)){const C={...Y},X=(U,Ee)=>ee=>{Oe(U)?U.forEach(oe=>{ne(oe)&&oe(ee)}):ne(U)&&U(ee),Ee()};return C.onAfterEnter=X(C.onAfterEnter,L),C.onBeforeLeave=X(C.onBeforeLeave,O),C.onAfterLeave=X(C.onAfterLeave,f),C.name||(C.name=ie),C}return he});function L(){n("opened")}function f(){n("closed"),n(ve,!1),o.destroyOnClose&&(E.value=!1),p.value=!1}function O(){p.value=!0,n("close")}function Z(){b?.(),y?.(),o.openDelay&&o.openDelay>0?{stop:y}=te(()=>I(),o.openDelay):I()}function a(){y?.(),b?.(),o.closeDelay&&o.closeDelay>0?{stop:b}=te(()=>J(),o.closeDelay):J()}function v(){function l(s){s||(h.value=!0,c.value=!1)}o.beforeClose?o.beforeClose(l):a()}function z(){o.closeOnClickModal&&v()}function I(){Re&&(c.value=!0)}function J(){c.value=!1}function pe(){n("openAutoFocus")}function ye(){n("closeAutoFocus")}function be(l){var s;((s=l.detail)==null?void 0:s.focusReason)==="pointer"&&l.preventDefault()}o.lockScroll&&oo(c);function Ce(){o.closeOnPressEscape&&v()}return W(()=>o.zIndex,()=>{var l;w.value=(l=o.zIndex)!=null?l:m()}),W(()=>o.modelValue,l=>{var s;l?(h.value=!1,p.value=!1,Z(),E.value=!0,w.value=(s=o.zIndex)!=null?s:m(),Me(()=>{n("open"),d.value&&(d.value.parentElement.scrollTop=0,d.value.parentElement.scrollLeft=0,d.value.scrollTop=0)})):c.value&&a()}),W(()=>o.fullscreen,l=>{d.value&&(l?(T=d.value.style.transform,d.value.style.transform=""):d.value.style.transform=T)}),Ne(()=>{o.modelValue&&(c.value=!0,E.value=!0,Z())}),{afterEnter:L,afterLeave:f,beforeLeave:O,handleClose:v,onModalClick:z,close:a,doClose:J,onOpenAutoFocus:pe,onCloseAutoFocus:ye,onCloseRequested:Ce,onFocusoutPrevented:be,titleId:_,bodyId:r,closed:h,style:D,overlayDialogStyle:q,rendered:E,visible:c,zIndex:w,transitionConfig:G,_draggable:R,_alignCenter:M,_overflow:K,closing:p}},vo=["aria-label","aria-labelledby","aria-describedby"],go=ce({name:"ElDialog",inheritAttrs:!1,__name:"dialog",props:uo,emits:co,setup(o,{expose:d}){const g=o,N=ze();lo({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},u(()=>!!N.title));const n=Ue("dialog"),m=S(),T=S(),_=S(),{visible:r,titleId:c,bodyId:h,style:E,overlayDialogStyle:w,rendered:p,transitionConfig:y,zIndex:b,_draggable:P,_alignCenter:$,_overflow:t,handleClose:D,onModalClick:R,onOpenAutoFocus:M,onCloseAutoFocus:K,onCloseRequested:q,onFocusoutPrevented:G,closing:L}=fo(g,m);Ge(ge,{dialogRef:m,headerRef:T,bodyId:h,ns:n,rendered:p,style:E});const f=Xe(R),O=u(()=>g.modalPenetrable&&!g.modal&&!g.fullscreen);return d({visible:r,dialogContentRef:_,resetPosition:()=>{var a;(a=_.value)==null||a.resetPosition()},handleClose:D}),(a,v)=>(F(),x(e(xe),{to:a.appendTo,disabled:a.appendTo!=="body"?!1:!a.appendToBody},{default:A(()=>[j(Ve,re(e(y),{persisted:""}),{default:A(()=>{var z;return[je(j(e(Ye),{"custom-mask-event":"",mask:a.modal,"overlay-class":[(z=a.modalClass)!=null?z:"",`${e(n).namespace.value}-modal-dialog`,e(n).is("penetrable",O.value)],"z-index":e(b)},{default:A(()=>[V("div",{role:"dialog","aria-modal":"true","aria-label":a.title||void 0,"aria-labelledby":a.title?void 0:e(c),"aria-describedby":e(h),class:k([`${e(n).namespace.value}-overlay-dialog`,e(n).is("closing",e(L))]),style:fe(e(w)),onClick:v[0]||(v[0]=(...I)=>e(f).onClick&&e(f).onClick(...I)),onMousedown:v[1]||(v[1]=(...I)=>e(f).onMousedown&&e(f).onMousedown(...I)),onMouseup:v[2]||(v[2]=(...I)=>e(f).onMouseup&&e(f).onMouseup(...I))},[j(e(We),{loop:"",trapped:e(r),"focus-start-el":"container",onFocusAfterTrapped:e(M),onFocusAfterReleased:e(K),onFocusoutPrevented:e(G),onReleaseRequested:e(q)},{default:A(()=>[e(p)?(F(),x(io,re({key:0,ref_key:"dialogContentRef",ref:_},a.$attrs,{center:a.center,"align-center":e($),"close-icon":a.closeIcon,draggable:e(P),overflow:e(t),fullscreen:a.fullscreen,"header-class":a.headerClass,"body-class":a.bodyClass,"footer-class":a.footerClass,"show-close":a.showClose,title:a.title,"aria-level":a.headerAriaLevel,onClose:e(D)}),Ke({header:A(()=>[a.$slots.title?B(a.$slots,"title",{key:1}):B(a.$slots,"header",{key:0,close:e(D),titleId:e(c),titleClass:e(n).e("title")})]),default:A(()=>[B(a.$slots,"default")]),_:2},[a.$slots.footer?{name:"footer",fn:A(()=>[B(a.$slots,"footer")]),key:"0"}:void 0]),1040,["center","align-center","close-icon","draggable","overflow","fullscreen","header-class","body-class","footer-class","show-close","title","aria-level","onClose"])):H("v-if",!0)]),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,vo)]),_:3},8,["mask","overlay-class","z-index"]),[[qe,e(r)]])]}),_:3},16)]),_:3},8,["to","disabled"]))}});var mo=de(go,[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog.vue"]]);const Io=Ze(mo);export{ie as D,Io as E,uo as a,ge as b,co as d,fo as u};
