import{r as D,J as A,dw as U,ds as le,b_ as Sl,b9 as Te,g as r,bu as Q,dx as ft,b7 as ke,c3 as De,f as be,i as pe,aU as Ae,c as T,o as m,aI as B,a as L,t as G,aG as de,n as h,c2 as fe,cf as Ol,l as Pe,ch as Ue,am as ve,cg as wl,K as j,D as P,aD as Ve,h as je,cx as ee,cZ as vt,bY as mt,dy as bt,bw as q,cu as gt,dz as ht,co as Ie,dA as pl,cz as yt,dB as St,ci as ce,dC as Ot,c8 as fl,c9 as z,cw as wt,cj as Ct,cp as It,bn as Et,dD as Vt,b$ as K,aT as Tt,c0 as vl,aQ as kt,c1 as Dt,c5 as Cl,dE as $t,ck as Rt,bd as Mt,ca as Z,dF as Lt,b as _,w as W,G as H,F as ue,k as Ee,c4 as Fe,d as ml,v as Bt,M as ze,bv as Nt,E as Wt,c6 as Pt,c7 as Il}from"./o2XBa361.js";import{u as bl,a as Ft,E as zt}from"./qVmxJdp3.js";import{s as Ht,E as Kt}from"./ClnTspdU.js";import{t as gl,E as At}from"./DC3lfPj1.js";import{e as Ut,c as jt}from"./B8yeDp5P.js";import{t as Gt,d as hl}from"./Cq9Fpw4b.js";import{c as J}from"./BlW_46uR.js";import{s as Qt}from"./Ds34GQx2.js";import{a as qt,d as Zt,c as Jt,b as Yt}from"./Culj45X8.js";import{u as Xt,a as xt}from"./1SfIsks3.js";import{U as ne,C as El}from"./BB_Ol6Sd.js";import{b as _t}from"./Z6faUBN3.js";import{u as en}from"./CqX7ZdKI.js";import{C as ln}from"./KSqZSeJ0.js";import{f as tn}from"./CQuNCUIC.js";function nn(e,n,s,p){for(var f=e.length,u=s+(p?1:-1);p?u--:++u<f;)if(n(e[u],u,e))return u;return-1}function an(e,n,s){var p=e==null?0:e.length;if(!p)return-1;var f=p-1;return nn(e,_t(n),f,!0)}const He={label:"label",value:"value",disabled:"disabled",options:"options"};function on(e){const n=D({...He,...e.props});let s={...e.props};return A(()=>e.props,t=>{le(t,s)||(n.value={...He,...t},s={...t})},{deep:!0}),{aliasProps:n,getLabel:t=>U(t,n.value.label),getValue:t=>U(t,n.value.value),getDisabled:t=>U(t,n.value.disabled),getOptions:t=>U(t,n.value.options)}}const Vl=Symbol("ElSelectGroup"),$e=Symbol("ElSelect"),Ke="ElOption",sn=Sl({value:{type:[String,Number,Boolean,Object],required:!0},label:{type:[String,Number]},created:Boolean,disabled:Boolean});function rn(e,n){const s=Te($e);s||Gt(Ke,"usage: <el-select><el-option /></el-select/>");const p=Te(Vl,{disabled:!1}),f=r(()=>b(J(s.props.modelValue),e.value)),u=r(()=>{var d;if(s.props.multiple){const I=J((d=s.props.modelValue)!=null?d:[]);return!f.value&&I.length>=s.props.multipleLimit&&s.props.multipleLimit>0}else return!1}),y=r(()=>{var d;return(d=e.label)!=null?d:Q(e.value)?"":e.value}),t=r(()=>e.value||e.label||""),S=r(()=>e.disabled||n.groupDisabled||u.value),w=ke(),b=(d=[],I)=>{if(Q(e.value)){const g=s.props.valueKey;return d&&d.some(i=>ft(U(i,g))===U(I,g))}else return d&&d.includes(I)},k=()=>{S.value||(s.states.hoveringIndex=s.optionsArray.indexOf(w.proxy))},C=d=>{const I=new RegExp(Ut(d),"i");n.visible=I.test(String(y.value))||e.created};return A(()=>y.value,()=>{!e.created&&!s.props.remote&&s.setSelected()}),A(()=>e.value,(d,I)=>{const{remote:g,valueKey:i}=s.props;if((g?d!==I:!le(d,I))&&(s.onOptionDestroy(I,w.proxy),s.onOptionCreate(w.proxy)),!e.created&&!g){if(i&&Q(d)&&Q(I)&&d[i]===I[i])return;s.setSelected()}}),A(()=>p.disabled,()=>{n.groupDisabled=p.disabled},{immediate:!0}),{select:s,currentLabel:y,currentValue:t,itemSelected:f,isDisabled:S,hoverItem:k,updateOption:C}}const un=be({name:Ke,componentName:Ke,props:sn,setup(e){const n=fe("select"),s=Ol(),p=r(()=>[n.be("dropdown","item"),n.is("disabled",Pe(t)),n.is("selected",Pe(y)),n.is("hovering",Pe(C))]),f=ve({index:-1,groupDisabled:!1,visible:!0,hover:!1}),{currentLabel:u,itemSelected:y,isDisabled:t,select:S,hoverItem:w,updateOption:b}=rn(e,f),{visible:k,hover:C}=Ue(f),d=ke().proxy;S.onOptionCreate(d),wl(()=>{const g=d.value;j(()=>{const{selected:i}=S.states,$=i.some(v=>v.value===d.value);S.states.cachedOptions.get(g)===d&&!$&&S.states.cachedOptions.delete(g)}),S.onOptionDestroy(g,d)});function I(){t.value||S.handleOptionSelect(d)}return{ns:n,id:s,containerKls:p,currentLabel:u,itemSelected:y,isDisabled:t,select:S,visible:k,hover:C,states:f,hoverItem:w,updateOption:b,selectOptionClick:I}}}),dn=["id","aria-disabled","aria-selected"];function cn(e,n,s,p,f,u){return pe((m(),T("li",{id:e.id,class:h(e.containerKls),role:"option","aria-disabled":e.isDisabled||void 0,"aria-selected":e.itemSelected,onMousemove:n[0]||(n[0]=(...y)=>e.hoverItem&&e.hoverItem(...y)),onClick:n[1]||(n[1]=de((...y)=>e.selectOptionClick&&e.selectOptionClick(...y),["stop"]))},[B(e.$slots,"default",{},()=>[L("span",null,G(e.currentLabel),1)])],42,dn)),[[Ae,e.visible]])}var Ge=De(un,[["render",cn],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/option.vue"]]);const Tl=11,pn=2,fn=be({name:"ElSelectDropdown",componentName:"ElSelectDropdown",setup(){const e=Te($e),n=fe("select"),s=r(()=>e.props.popperClass),p=r(()=>e.props.multiple),f=r(()=>e.props.fitInputWidth),u=D("");function y(){var t;const S=(t=e.selectRef)==null?void 0:t.offsetWidth;S?u.value=`${S-pn}px`:u.value=""}return je(()=>{y(),ee(e.selectRef,y)}),{ns:n,minWidth:u,popperClass:s,isMultiple:p,isFitInputWidth:f}}});function vn(e,n,s,p,f,u){return m(),T("div",{class:h([e.ns.b("dropdown"),e.ns.is("multiple",e.isMultiple),e.popperClass]),style:Ve({[e.isFitInputWidth?"width":"minWidth"]:e.minWidth})},[e.$slots.header?(m(),T("div",{key:0,class:h(e.ns.be("dropdown","header"))},[B(e.$slots,"header")],2)):P("v-if",!0),B(e.$slots,"default"),e.$slots.footer?(m(),T("div",{key:1,class:h(e.ns.be("dropdown","footer"))},[B(e.$slots,"footer")],2)):P("v-if",!0)],6)}var mn=De(fn,[["render",vn],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/select-dropdown.vue"]]);const bn=(e,n)=>{const{t:s}=vt(),p=mt(),f=Ol(),u=fe("select"),y=fe("input"),t=ve({inputValue:"",options:new Map,cachedOptions:new Map,optionValues:[],selected:[],selectionWidth:0,collapseItemWidth:0,selectedLabel:"",hoveringIndex:-1,previousQuery:null,inputHovering:!1,menuVisibleOnFocus:!1,isBeforeHide:!1}),S=D(),w=D(),b=D(),k=D(),C=D(),d=D(),I=D(),g=D(),i=D(),$=D(),v=D(),c=D(!1),V=D(),te=D(!1),{form:ae,formItem:R}=qt(),{inputId:qe}=Zt(e,{formItemContext:R}),{valueOnClear:Y,isEmptyValue:kl}=bt(e),{isComposing:Re,handleCompositionStart:Dl,handleCompositionUpdate:$l,handleCompositionEnd:Rl}=Xt({afterComposition:l=>tl(l)}),oe=Jt(),{wrapperRef:Ze,isFocused:Me,handleBlur:Ml}=xt(C,{disabled:oe,afterFocus(){e.automaticDropdown&&!c.value&&(c.value=!0,t.menuVisibleOnFocus=!0)},beforeBlur(l){var a,o;return((a=b.value)==null?void 0:a.isFocusInsideContent(l))||((o=k.value)==null?void 0:o.isFocusInsideContent(l))},afterBlur(){var l;c.value=!1,t.menuVisibleOnFocus=!1,e.validateEvent&&((l=R?.validate)==null||l.call(R,"blur").catch(a=>hl()))}}),Le=r(()=>q(e.modelValue)?e.modelValue.length>0:!kl(e.modelValue)),Ll=r(()=>{var l;return(l=ae?.statusIcon)!=null?l:!1}),Bl=r(()=>e.clearable&&!oe.value&&Le.value&&(Me.value||t.inputHovering)),Je=r(()=>e.remote&&e.filterable&&!e.remoteShowSuffix?"":e.suffixIcon),Nl=r(()=>u.is("reverse",!!(Je.value&&c.value))),Be=r(()=>R?.validateState||""),Wl=r(()=>Be.value&&gt[Be.value]),Pl=r(()=>e.remote?e.debounce:0),Fl=r(()=>e.remote&&!t.inputValue&&t.options.size===0),zl=r(()=>e.loading?e.loadingText||s("el.select.loading"):e.filterable&&t.inputValue&&t.options.size>0&&se.value===0?e.noMatchText||s("el.select.noMatch"):t.options.size===0?e.noDataText||s("el.select.noData"):null),se=r(()=>M.value.filter(l=>l.visible).length),M=r(()=>{const l=Array.from(t.options.values()),a=[];return t.optionValues.forEach(o=>{const O=l.findIndex(E=>E.value===o);O>-1&&a.push(l[O])}),a.length>=l.length?a:l}),Hl=r(()=>Array.from(t.cachedOptions.values())),Kl=r(()=>{const l=M.value.filter(a=>!a.created).some(a=>a.currentLabel===t.inputValue);return e.filterable&&e.allowCreate&&t.inputValue!==""&&!l}),Ye=()=>{e.filterable&&ce(e.filterMethod)||e.filterable&&e.remote&&ce(e.remoteMethod)||M.value.forEach(l=>{var a;(a=l.updateOption)==null||a.call(l,t.inputValue)})},Xe=Yt(),Al=r(()=>["small"].includes(Xe.value)?"small":"default"),xe=r({get(){return c.value&&(e.loading||!Fl.value||e.remote&&!!p.empty)&&(!te.value||!ht(t.previousQuery))},set(l){c.value=l}}),Ul=r(()=>{if(e.multiple&&!Ie(e.modelValue))return J(e.modelValue).length===0&&!t.inputValue;const l=q(e.modelValue)?e.modelValue[0]:e.modelValue;return e.filterable||Ie(l)?!t.inputValue:!0}),jl=r(()=>{var l;const a=(l=e.placeholder)!=null?l:s("el.select.placeholder");return e.multiple||!Le.value?a:t.selectedLabel}),Gl=r(()=>pl?null:"mouseenter");A(()=>e.modelValue,(l,a)=>{e.multiple&&e.filterable&&!e.reserveKeyword&&(t.inputValue="",ge("")),he(),!le(l,a)&&e.validateEvent&&R?.validate("change").catch(o=>hl())},{flush:"post",deep:!0}),A(()=>c.value,l=>{l?ge(t.inputValue):(t.inputValue="",t.previousQuery=null,t.isBeforeHide=!0)}),A(()=>t.options.entries(),()=>{Ct&&(he(),e.defaultFirstOption&&(e.filterable||e.remote)&&se.value&&_e())},{flush:"post"}),A([()=>t.hoveringIndex,M],([l])=>{It(l)&&l>-1?V.value=M.value[l]||{}:V.value={},M.value.forEach(a=>{a.hover=V.value===a})}),yt(()=>{t.isBeforeHide||Ye()});const ge=l=>{t.previousQuery===l||Re.value||(t.previousQuery=l,e.filterable&&ce(e.filterMethod)?e.filterMethod(l):e.filterable&&e.remote&&ce(e.remoteMethod)&&e.remoteMethod(l),e.defaultFirstOption&&(e.filterable||e.remote)&&se.value?j(_e):j(Ql))},_e=()=>{const l=M.value.filter(E=>E.visible&&!E.disabled&&!E.states.groupDisabled),a=l.find(E=>E.created),o=l[0],O=M.value.map(E=>E.value);t.hoveringIndex=il(O,a||o)},he=()=>{if(e.multiple)t.selectedLabel="";else{const a=q(e.modelValue)?e.modelValue[0]:e.modelValue,o=Ne(a);t.selectedLabel=o.currentLabel,t.selected=[o];return}const l=[];Ie(e.modelValue)||J(e.modelValue).forEach(a=>{l.push(Ne(a))}),t.selected=l},Ne=l=>{let a;const o=Ot(l);for(let N=t.cachedOptions.size-1;N>=0;N--){const F=Hl.value[N];if(o?U(F.value,e.valueKey)===U(l,e.valueKey):F.value===l){a={index:M.value.filter(x=>!x.created).indexOf(F),value:l,currentLabel:F.currentLabel,get isDisabled(){return F.isDisabled}};break}}if(a)return a;const O=o?l.label:l??"";return{index:-1,value:l,currentLabel:O}},Ql=()=>{const l=t.selected.length;if(l>0){const a=t.selected[l-1];t.hoveringIndex=M.value.findIndex(o=>Se(a)===Se(o))}else t.hoveringIndex=-1},ql=()=>{t.selectionWidth=Number.parseFloat(window.getComputedStyle(w.value).width)},Zl=()=>{t.collapseItemWidth=$.value.getBoundingClientRect().width},We=()=>{var l,a;(a=(l=b.value)==null?void 0:l.updatePopper)==null||a.call(l)},el=()=>{var l,a;(a=(l=k.value)==null?void 0:l.updatePopper)==null||a.call(l)},ll=()=>{t.inputValue.length>0&&!c.value&&(c.value=!0),ge(t.inputValue)},tl=l=>{if(t.inputValue=l.target.value,e.remote)te.value=!0,nl();else return ll()},nl=St(()=>{ll(),te.value=!1},Pl),ie=l=>{le(e.modelValue,l)||n(El,l)},Jl=l=>an(l,a=>{const o=t.cachedOptions.get(a);return!o?.disabled&&!o?.states.groupDisabled}),al=l=>{const a=fl(l);if(e.multiple&&a!==z.delete&&l.target.value.length<=0){const o=J(e.modelValue).slice(),O=Jl(o);if(O<0)return;const E=o[O];o.splice(O,1),n(ne,o),ie(o),n("remove-tag",E)}},Yl=(l,a)=>{const o=t.selected.indexOf(a);if(o>-1&&!oe.value){const O=J(e.modelValue).slice();O.splice(o,1),n(ne,O),ie(O),n("remove-tag",a.value)}l.stopPropagation(),ye()},ol=l=>{l.stopPropagation();const a=e.multiple?[]:Y.value;if(e.multiple)for(const o of t.selected)o.isDisabled&&a.push(o.value);n(ne,a),ie(a),t.hoveringIndex=-1,c.value=!1,n("clear"),ye()},sl=l=>{var a;if(e.multiple){const o=J((a=e.modelValue)!=null?a:[]).slice(),O=il(o,l);O>-1?o.splice(O,1):(e.multipleLimit<=0||o.length<e.multipleLimit)&&o.push(l.value),n(ne,o),ie(o),l.created&&ge(""),e.filterable&&!e.reserveKeyword&&(t.inputValue="")}else!le(e.modelValue,l.value)&&n(ne,l.value),ie(l.value),c.value=!1;ye(),!c.value&&j(()=>{re(l)})},il=(l,a)=>Ie(a)?-1:Q(a.value)?l.findIndex(o=>le(U(o,e.valueKey),Se(a))):l.indexOf(a.value),re=l=>{var a,o,O,E,N;const F=q(l)?l[l.length-1]:l;let X=null;if(!wt(F?.value)){const x=M.value.filter(pt=>pt.value===F.value);x.length>0&&(X=x[0].$el)}if(b.value&&X){const x=(E=(O=(o=(a=b.value)==null?void 0:a.popperRef)==null?void 0:o.contentRef)==null?void 0:O.querySelector)==null?void 0:E.call(O,`.${u.be("dropdown","wrap")}`);x&&Qt(x,X)}(N=v.value)==null||N.handleScroll()},Xl=l=>{t.options.set(l.value,l),t.cachedOptions.set(l.value,l)},xl=(l,a)=>{t.options.get(l)===a&&t.options.delete(l)},_l=r(()=>{var l,a;return(a=(l=b.value)==null?void 0:l.popperRef)==null?void 0:a.contentRef}),et=()=>{t.isBeforeHide=!1,j(()=>{var l;(l=v.value)==null||l.update(),re(t.selected)})},ye=()=>{var l;(l=C.value)==null||l.focus()},lt=()=>{var l;if(c.value){c.value=!1,j(()=>{var a;return(a=C.value)==null?void 0:a.blur()});return}(l=C.value)==null||l.blur()},tt=l=>{ol(l)},nt=l=>{if(c.value=!1,Me.value){const a=new FocusEvent("blur",l);j(()=>Ml(a))}},rl=()=>{t.inputValue.length>0?t.inputValue="":c.value=!1},ul=l=>{var a;oe.value||e.filterable&&c.value&&l&&!((a=I.value)!=null&&a.contains(l.target))||(pl&&(t.inputHovering=!0),t.menuVisibleOnFocus?t.menuVisibleOnFocus=!1:c.value=!c.value)},dl=()=>{if(!c.value)ul();else{const l=M.value[t.hoveringIndex];l&&!l.isDisabled&&sl(l)}},Se=l=>Q(l.value)?U(l.value,e.valueKey):l.value,at=r(()=>M.value.filter(l=>l.visible).every(l=>l.isDisabled)),ot=r(()=>e.multiple?e.collapseTags?t.selected.slice(0,e.maxCollapseTags):t.selected:[]),st=r(()=>e.multiple?e.collapseTags?t.selected.slice(e.maxCollapseTags):[]:[]),Oe=l=>{if(!c.value){c.value=!0;return}if(!(t.options.size===0||se.value===0||Re.value)&&!at.value){l==="next"?(t.hoveringIndex++,t.hoveringIndex===t.options.size&&(t.hoveringIndex=0)):l==="prev"&&(t.hoveringIndex--,t.hoveringIndex<0&&(t.hoveringIndex=t.options.size-1));const a=M.value[t.hoveringIndex];(a.isDisabled||!a.visible)&&Oe(l),j(()=>re(V.value))}},cl=(l,a,o,O)=>{for(let E=a;E>=0&&E<O;E+=o){const N=l[E];if(!N?.isDisabled&&N?.visible)return E}return null},we=(l,a)=>{var o;const O=t.options.size;if(O===0)return;const E=jt(l,0,O-1),N=M.value,F=a==="up"?-1:1,X=(o=cl(N,E,F,O))!=null?o:cl(N,E-F,-F,O);X!=null&&(t.hoveringIndex=X,j(()=>re(V.value)))},it=l=>{const a=fl(l);let o=!0;switch(a){case z.up:Oe("prev");break;case z.down:Oe("next");break;case z.enter:case z.numpadEnter:Re.value||dl();break;case z.esc:rl();break;case z.backspace:o=!1,al(l);return;case z.home:if(!c.value)return;we(0,"down");break;case z.end:if(!c.value)return;we(t.options.size-1,"up");break;case z.pageUp:if(!c.value)return;we(t.hoveringIndex-10,"up");break;case z.pageDown:if(!c.value)return;we(t.hoveringIndex+10,"down");break;default:o=!1;break}o&&(l.preventDefault(),l.stopPropagation())},rt=()=>{if(!w.value)return 0;const l=window.getComputedStyle(w.value);return Number.parseFloat(l.gap||"6px")},ut=r(()=>{const l=rt(),a=e.filterable?l+Tl:0;return{maxWidth:`${$.value&&e.maxCollapseTags===1?t.selectionWidth-t.collapseItemWidth-l-a:t.selectionWidth-a}px`}}),dt=r(()=>({maxWidth:`${t.selectionWidth}px`})),ct=l=>{n("popup-scroll",l)};ee(w,ql),ee(Ze,We),ee(i,el),ee($,Zl);let Ce;return A(()=>xe.value,l=>{l?Ce=ee(g,We).stop:(Ce?.(),Ce=void 0),n("visible-change",l)}),je(()=>{he()}),{inputId:qe,contentId:f,nsSelect:u,nsInput:y,states:t,isFocused:Me,expanded:c,optionsArray:M,hoverOption:V,selectSize:Xe,filteredOptionsCount:se,updateTooltip:We,updateTagTooltip:el,debouncedOnInputChange:nl,onInput:tl,deletePrevTag:al,deleteTag:Yl,deleteSelected:ol,handleOptionSelect:sl,scrollToOption:re,hasModelValue:Le,shouldShowPlaceholder:Ul,currentPlaceholder:jl,mouseEnterEventName:Gl,needStatusIcon:Ll,showClearBtn:Bl,iconComponent:Je,iconReverse:Nl,validateState:Be,validateIcon:Wl,showNewOption:Kl,updateOptions:Ye,collapseTagSize:Al,setSelected:he,selectDisabled:oe,emptyText:zl,handleCompositionStart:Dl,handleCompositionUpdate:$l,handleCompositionEnd:Rl,handleKeydown:it,onOptionCreate:Xl,onOptionDestroy:xl,handleMenuEnter:et,focus:ye,blur:lt,handleClearClick:tt,handleClickOutside:nt,handleEsc:rl,toggleMenu:ul,selectOption:dl,getValueKey:Se,navigateOptions:Oe,dropdownMenuVisible:xe,showTagList:ot,collapseTagList:st,popupScroll:ct,getOption:Ne,tagStyle:ut,collapseTagStyle:dt,popperRef:_l,inputRef:C,tooltipRef:b,tagTooltipRef:k,prefixRef:d,suffixRef:I,selectRef:S,wrapperRef:Ze,selectionRef:w,scrollbarRef:v,menuRef:g,tagMenuRef:i,collapseItemRef:$}};var gn=be({name:"ElOptions",setup(e,{slots:n}){const s=Te($e);let p=[];return()=>{var f,u;const y=(f=n.default)==null?void 0:f.call(n),t=[];function S(w){q(w)&&w.forEach(b=>{var k,C,d,I;const g=(k=b?.type||{})==null?void 0:k.name;g==="ElOptionGroup"?S(!Et(b.children)&&!q(b.children)&&ce((C=b.children)==null?void 0:C.default)?(d=b.children)==null?void 0:d.default():b.children):g==="ElOption"?t.push((I=b.props)==null?void 0:I.value):q(b.children)&&S(b.children)})}return y.length&&S((u=y[0])==null?void 0:u.children),le(t,p)||(p=t,s&&(s.states.optionValues=t)),y}}});const hn=Sl({name:String,id:String,modelValue:{type:K([Array,String,Number,Boolean,Object]),default:void 0},autocomplete:{type:String,default:"off"},automaticDropdown:Boolean,size:Dt,effect:{type:K(String),default:"light"},disabled:{type:Boolean,default:void 0},clearable:Boolean,filterable:Boolean,allowCreate:Boolean,loading:Boolean,popperClass:{type:String,default:""},popperStyle:{type:K([String,Object])},popperOptions:{type:K(Object),default:()=>({})},remote:Boolean,debounce:{type:Number,default:300},loadingText:String,noMatchText:String,noDataText:String,remoteMethod:{type:K(Function)},filterMethod:{type:K(Function)},multiple:Boolean,multipleLimit:{type:Number,default:0},placeholder:{type:String},defaultFirstOption:Boolean,reserveKeyword:{type:Boolean,default:!0},valueKey:{type:String,default:"value"},collapseTags:Boolean,collapseTagsTooltip:Boolean,maxCollapseTags:{type:Number,default:1},teleported:bl.teleported,persistent:{type:Boolean,default:!0},clearIcon:{type:vl,default:kt},fitInputWidth:Boolean,suffixIcon:{type:vl,default:Tt},tagType:{...gl.type,default:"info"},tagEffect:{...gl.effect,default:"light"},validateEvent:{type:Boolean,default:!0},remoteShowSuffix:Boolean,showArrow:{type:Boolean,default:!0},offset:{type:Number,default:12},placement:{type:K(String),values:Ft,default:"bottom-start"},fallbackPlacements:{type:K(Array),default:["bottom-start","top-start","right","left"]},tabindex:{type:[String,Number],default:0},appendTo:bl.appendTo,options:{type:K(Array)},props:{type:K(Object),default:()=>He},...Vt,...en(["ariaLabel"])});Ht.scroll;const yn=be({name:"ElOptionGroup",componentName:"ElOptionGroup",props:{label:String,disabled:Boolean},setup(e){const n=fe("select"),s=D(),p=ke(),f=D([]);Cl(Vl,ve({...Ue(e)}));const u=r(()=>f.value.some(w=>w.visible===!0)),y=w=>{var b;return w.type.name==="ElOption"&&!!((b=w.component)!=null&&b.proxy)},t=w=>{const b=J(w),k=[];return b.forEach(C=>{var d;Rt(C)&&(y(C)?k.push(C.component.proxy):q(C.children)&&C.children.length?k.push(...t(C.children)):(d=C.component)!=null&&d.subTree&&k.push(...t(C.component.subTree)))}),k},S=()=>{f.value=t(p.subTree)};return je(()=>{S()}),$t(s,S,{attributes:!0,subtree:!0,childList:!0}),{groupRef:s,visible:u,ns:n}}});function Sn(e,n,s,p,f,u){return pe((m(),T("ul",{ref:"groupRef",class:h(e.ns.be("group","wrap"))},[L("li",{class:h(e.ns.be("group","title"))},G(e.label),3),L("li",null,[L("ul",{class:h(e.ns.b("group"))},[B(e.$slots,"default")],2)])],2)),[[Ae,e.visible]])}var Qe=De(yn,[["render",Sn],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/option-group.vue"]]);function On(){const e=Mt(),n=D(0),s=r(()=>({minWidth:`${Math.max(n.value,Tl)}px`}));return ee(e,()=>{var f,u;n.value=(u=(f=e.value)==null?void 0:f.getBoundingClientRect().width)!=null?u:0}),{calculatorRef:e,calculatorWidth:n,inputStyle:s}}const yl="ElSelect",me=new WeakMap,wn=e=>(...n)=>{var s,p;const f=n[0];if(!f||f.includes('Slot "default" invoked outside of the render function')&&((s=n[2])!=null&&s.includes("ElTreeSelect")))return;const u=(p=me.get(e))==null?void 0:p.originalWarnHandler;if(u){u(...n);return}console.warn(...n)},Cn=e=>{let n=me.get(e);return n||(n={originalWarnHandler:e.config.warnHandler,handler:wn(e),count:0},me.set(e,n)),n},In=be({name:yl,componentName:yl,components:{ElSelectMenu:mn,ElOption:Ge,ElOptions:gn,ElOptionGroup:Qe,ElTag:At,ElScrollbar:Kt,ElTooltip:zt,ElIcon:Wt},directives:{ClickOutside:ln},props:hn,emits:[ne,El,"remove-tag","clear","visible-change","focus","blur","popup-scroll"],setup(e,{emit:n,slots:s}){const p=ke(),f=Cn(p.appContext);f.count+=1,p.appContext.config.warnHandler=f.handler;const u=r(()=>{const{modelValue:v,multiple:c}=e,V=c?[]:void 0;return q(v)?c?v:V:c?V:v}),y=ve({...Ue(e),modelValue:u}),t=bn(y,n),{calculatorRef:S,inputStyle:w}=On(),{getLabel:b,getValue:k,getOptions:C,getDisabled:d}=on(e),I=v=>({label:b(v),value:k(v),disabled:d(v)}),g=v=>v.reduce((c,V)=>(c.push(V),V.children&&V.children.length>0&&c.push(...g(V.children)),c),[]),i=v=>{tn(v||[]).forEach(V=>{var te;if(Q(V)&&(V.type.name==="ElOption"||V.type.name==="ElTree")){const ae=V.type.name;if(ae==="ElTree"){const R=((te=V.props)==null?void 0:te.data)||[];g(R).forEach(Y=>{Y.currentLabel=Y.label||(Q(Y.value)?"":Y.value),t.onOptionCreate(Y)})}else if(ae==="ElOption"){const R={...V.props};R.currentLabel=R.label||(Q(R.value)?"":R.value),t.onOptionCreate(R)}}})};A(()=>{var v;return[(v=s.default)==null?void 0:v.call(s),u.value]},()=>{var v;e.persistent||t.expanded.value||(t.states.options.clear(),i((v=s.default)==null?void 0:v.call(s)))},{immediate:!0}),Cl($e,ve({props:y,states:t.states,selectRef:t.selectRef,optionsArray:t.optionsArray,setSelected:t.setSelected,handleOptionSelect:t.handleOptionSelect,onOptionCreate:t.onOptionCreate,onOptionDestroy:t.onOptionDestroy}));const $=r(()=>e.multiple?t.states.selected.map(v=>v.currentLabel):t.states.selectedLabel);return wl(()=>{const v=me.get(p.appContext);v&&(v.count-=1,v.count<=0&&(p.appContext.config.warnHandler=v.originalWarnHandler,me.delete(p.appContext)))}),{...t,modelValue:u,selectedLabel:$,calculatorRef:S,inputStyle:w,getLabel:b,getValue:k,getOptions:C,getDisabled:d,getOptionProps:I}}}),En=["id","name","disabled","autocomplete","tabindex","readonly","aria-activedescendant","aria-controls","aria-expanded","aria-label"],Vn=["textContent"],Tn={key:1};function kn(e,n,s,p,f,u){const y=Z("el-tag"),t=Z("el-tooltip"),S=Z("el-icon"),w=Z("el-option"),b=Z("el-option-group"),k=Z("el-options"),C=Z("el-scrollbar"),d=Z("el-select-menu"),I=Lt("click-outside");return pe((m(),T("div",Fe({ref:"selectRef",class:[e.nsSelect.b(),e.nsSelect.m(e.selectSize)]},{[Nt(e.mouseEnterEventName)]:n[11]||(n[11]=g=>e.states.inputHovering=!0)},{onMouseleave:n[12]||(n[12]=g=>e.states.inputHovering=!1)}),[_(t,{ref:"tooltipRef",visible:e.dropdownMenuVisible,placement:e.placement,teleported:e.teleported,"popper-class":[e.nsSelect.e("popper"),e.popperClass],"popper-style":e.popperStyle,"popper-options":e.popperOptions,"fallback-placements":e.fallbackPlacements,effect:e.effect,pure:"",trigger:"click",transition:`${e.nsSelect.namespace.value}-zoom-in-top`,"stop-popper-mouse-event":!1,"gpu-acceleration":!1,persistent:e.persistent,"append-to":e.appendTo,"show-arrow":e.showArrow,offset:e.offset,onBeforeShow:e.handleMenuEnter,onHide:n[10]||(n[10]=g=>e.states.isBeforeHide=!1)},{default:W(()=>{var g;return[L("div",{ref:"wrapperRef",class:h([e.nsSelect.e("wrapper"),e.nsSelect.is("focused",e.isFocused),e.nsSelect.is("hovering",e.states.inputHovering),e.nsSelect.is("filterable",e.filterable),e.nsSelect.is("disabled",e.selectDisabled)]),onClick:n[7]||(n[7]=de((...i)=>e.toggleMenu&&e.toggleMenu(...i),["prevent"]))},[e.$slots.prefix?(m(),T("div",{key:0,ref:"prefixRef",class:h(e.nsSelect.e("prefix"))},[B(e.$slots,"prefix")],2)):P("v-if",!0),L("div",{ref:"selectionRef",class:h([e.nsSelect.e("selection"),e.nsSelect.is("near",e.multiple&&!e.$slots.prefix&&!!e.states.selected.length)])},[e.multiple?B(e.$slots,"tag",{key:0,data:e.states.selected,deleteTag:e.deleteTag,selectDisabled:e.selectDisabled},()=>[(m(!0),T(ue,null,Ee(e.showTagList,i=>(m(),T("div",{key:e.getValueKey(i),class:h(e.nsSelect.e("selected-item"))},[_(y,{closable:!e.selectDisabled&&!i.isDisabled,size:e.collapseTagSize,type:e.tagType,effect:e.tagEffect,"disable-transitions":"",style:Ve(e.tagStyle),onClose:$=>e.deleteTag($,i)},{default:W(()=>[L("span",{class:h(e.nsSelect.e("tags-text"))},[B(e.$slots,"label",{index:i.index,label:i.currentLabel,value:i.value},()=>[ml(G(i.currentLabel),1)])],2)]),_:2},1032,["closable","size","type","effect","style","onClose"])],2))),128)),e.collapseTags&&e.states.selected.length>e.maxCollapseTags?(m(),H(t,{key:0,ref:"tagTooltipRef",disabled:e.dropdownMenuVisible||!e.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],effect:e.effect,placement:"bottom","popper-class":e.popperClass,"popper-style":e.popperStyle,teleported:e.teleported,"popper-options":e.popperOptions},{default:W(()=>[L("div",{ref:"collapseItemRef",class:h(e.nsSelect.e("selected-item"))},[_(y,{closable:!1,size:e.collapseTagSize,type:e.tagType,effect:e.tagEffect,"disable-transitions":"",style:Ve(e.collapseTagStyle)},{default:W(()=>[L("span",{class:h(e.nsSelect.e("tags-text"))}," + "+G(e.states.selected.length-e.maxCollapseTags),3)]),_:1},8,["size","type","effect","style"])],2)]),content:W(()=>[L("div",{ref:"tagMenuRef",class:h(e.nsSelect.e("selection"))},[(m(!0),T(ue,null,Ee(e.collapseTagList,i=>(m(),T("div",{key:e.getValueKey(i),class:h(e.nsSelect.e("selected-item"))},[_(y,{class:"in-tooltip",closable:!e.selectDisabled&&!i.isDisabled,size:e.collapseTagSize,type:e.tagType,effect:e.tagEffect,"disable-transitions":"",onClose:$=>e.deleteTag($,i)},{default:W(()=>[L("span",{class:h(e.nsSelect.e("tags-text"))},[B(e.$slots,"label",{index:i.index,label:i.currentLabel,value:i.value},()=>[ml(G(i.currentLabel),1)])],2)]),_:2},1032,["closable","size","type","effect","onClose"])],2))),128))],2)]),_:3},8,["disabled","effect","popper-class","popper-style","teleported","popper-options"])):P("v-if",!0)]):P("v-if",!0),L("div",{class:h([e.nsSelect.e("selected-item"),e.nsSelect.e("input-wrapper"),e.nsSelect.is("hidden",!e.filterable||e.selectDisabled)])},[pe(L("input",{id:e.inputId,ref:"inputRef","onUpdate:modelValue":n[0]||(n[0]=i=>e.states.inputValue=i),type:"text",name:e.name,class:h([e.nsSelect.e("input"),e.nsSelect.is(e.selectSize)]),disabled:e.selectDisabled,autocomplete:e.autocomplete,style:Ve(e.inputStyle),tabindex:e.tabindex,role:"combobox",readonly:!e.filterable,spellcheck:"false","aria-activedescendant":((g=e.hoverOption)==null?void 0:g.id)||"","aria-controls":e.contentId,"aria-expanded":e.dropdownMenuVisible,"aria-label":e.ariaLabel,"aria-autocomplete":"none","aria-haspopup":"listbox",onKeydown:n[1]||(n[1]=(...i)=>e.handleKeydown&&e.handleKeydown(...i)),onCompositionstart:n[2]||(n[2]=(...i)=>e.handleCompositionStart&&e.handleCompositionStart(...i)),onCompositionupdate:n[3]||(n[3]=(...i)=>e.handleCompositionUpdate&&e.handleCompositionUpdate(...i)),onCompositionend:n[4]||(n[4]=(...i)=>e.handleCompositionEnd&&e.handleCompositionEnd(...i)),onInput:n[5]||(n[5]=(...i)=>e.onInput&&e.onInput(...i)),onClick:n[6]||(n[6]=de((...i)=>e.toggleMenu&&e.toggleMenu(...i),["stop"]))},null,46,En),[[Bt,e.states.inputValue]]),e.filterable?(m(),T("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:h(e.nsSelect.e("input-calculator")),textContent:G(e.states.inputValue)},null,10,Vn)):P("v-if",!0)],2),e.shouldShowPlaceholder?(m(),T("div",{key:1,class:h([e.nsSelect.e("selected-item"),e.nsSelect.e("placeholder"),e.nsSelect.is("transparent",!e.hasModelValue||e.expanded&&!e.states.inputValue)])},[e.hasModelValue?B(e.$slots,"label",{key:0,index:e.getOption(e.modelValue).index,label:e.currentPlaceholder,value:e.modelValue},()=>[L("span",null,G(e.currentPlaceholder),1)]):(m(),T("span",Tn,G(e.currentPlaceholder),1))],2)):P("v-if",!0)],2),L("div",{ref:"suffixRef",class:h(e.nsSelect.e("suffix"))},[e.iconComponent&&!e.showClearBtn?(m(),H(S,{key:0,class:h([e.nsSelect.e("caret"),e.nsSelect.e("icon"),e.iconReverse])},{default:W(()=>[(m(),H(ze(e.iconComponent)))]),_:1},8,["class"])):P("v-if",!0),e.showClearBtn&&e.clearIcon?(m(),H(S,{key:1,class:h([e.nsSelect.e("caret"),e.nsSelect.e("icon"),e.nsSelect.e("clear")]),onClick:e.handleClearClick},{default:W(()=>[(m(),H(ze(e.clearIcon)))]),_:1},8,["class","onClick"])):P("v-if",!0),e.validateState&&e.validateIcon&&e.needStatusIcon?(m(),H(S,{key:2,class:h([e.nsInput.e("icon"),e.nsInput.e("validateIcon"),e.nsInput.is("loading",e.validateState==="validating")])},{default:W(()=>[(m(),H(ze(e.validateIcon)))]),_:1},8,["class"])):P("v-if",!0)],2)],2)]}),content:W(()=>[_(d,{ref:"menuRef"},{default:W(()=>[e.$slots.header?(m(),T("div",{key:0,class:h(e.nsSelect.be("dropdown","header")),onClick:n[8]||(n[8]=de(()=>{},["stop"]))},[B(e.$slots,"header")],2)):P("v-if",!0),pe(_(C,{id:e.contentId,ref:"scrollbarRef",tag:"ul","wrap-class":e.nsSelect.be("dropdown","wrap"),"view-class":e.nsSelect.be("dropdown","list"),class:h([e.nsSelect.is("empty",e.filteredOptionsCount===0)]),role:"listbox","aria-label":e.ariaLabel,"aria-orientation":"vertical",onScroll:e.popupScroll},{default:W(()=>[e.showNewOption?(m(),H(w,{key:0,value:e.states.inputValue,created:!0},null,8,["value"])):P("v-if",!0),_(k,null,{default:W(()=>[B(e.$slots,"default",{},()=>[(m(!0),T(ue,null,Ee(e.options,(g,i)=>{var $;return m(),T(ue,{key:i},[($=e.getOptions(g))!=null&&$.length?(m(),H(b,{key:0,label:e.getLabel(g),disabled:e.getDisabled(g)},{default:W(()=>[(m(!0),T(ue,null,Ee(e.getOptions(g),v=>(m(),H(w,Fe({key:e.getValue(v)},{ref_for:!0},e.getOptionProps(v)),null,16))),128))]),_:2},1032,["label","disabled"])):(m(),H(w,Fe({key:1,ref_for:!0},e.getOptionProps(g)),null,16))],64)}),128))])]),_:3})]),_:3},8,["id","wrap-class","view-class","class","aria-label","onScroll"]),[[Ae,e.states.options.size>0&&!e.loading]]),e.$slots.loading&&e.loading?(m(),T("div",{key:1,class:h(e.nsSelect.be("dropdown","loading"))},[B(e.$slots,"loading")],2)):e.loading||e.filteredOptionsCount===0?(m(),T("div",{key:2,class:h(e.nsSelect.be("dropdown","empty"))},[B(e.$slots,"empty",{},()=>[L("span",null,G(e.emptyText),1)])],2)):P("v-if",!0),e.$slots.footer?(m(),T("div",{key:3,class:h(e.nsSelect.be("dropdown","footer")),onClick:n[9]||(n[9]=de(()=>{},["stop"]))},[B(e.$slots,"footer")],2)):P("v-if",!0)]),_:3},512)]),_:3},8,["visible","placement","teleported","popper-class","popper-style","popper-options","fallback-placements","effect","transition","persistent","append-to","show-arrow","offset","onBeforeShow"])],16)),[[I,e.handleClickOutside,e.popperRef]])}var Dn=De(In,[["render",kn],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/select.vue"]]);const Gn=Pt(Dn,{Option:Ge,OptionGroup:Qe}),Qn=Il(Ge);Il(Qe);export{pn as B,Qn as E,Tl as M,Gn as a,$e as b,hn as c,Vl as s,On as u};
