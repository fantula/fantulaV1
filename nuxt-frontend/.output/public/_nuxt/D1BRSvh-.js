import{bX as he,cm as $e,bV as Le,r as w,g as L,l as e,J as Y,ba as He,h as Ve,cu as Oe,cd as pe,c2 as Pe,ch as ze,bk as De,b4 as ge,c0 as ye,f as Ie,b$ as Ce,cW as Re,c as G,o as $,G as ce,D as U,a as O,b as K,w as q,i as Z,aD as Q,n as P,E as ve,a2 as Ge,aR as x,T as fe,L as Fe,aF as be,aA as we,F as We,k as Ke,t as Ue,b6 as je,am as Xe,cl as Je,c4 as Ye,c3 as qe}from"./CEI0siaN.js";import{u as Qe}from"./IibC-tXt.js";import{C as Ze}from"./BB_Ol6Sd.js";import{f as xe}from"./OwHC_0Ap.js";import{t as me}from"./DAIghOY5.js";const et=he({initialIndex:{type:Number,default:0},height:{type:String,default:""},trigger:{type:String,values:["hover","click"],default:"hover"},autoplay:{type:Boolean,default:!0},interval:{type:Number,default:3e3},indicatorPosition:{type:String,values:["","none","outside"],default:""},arrow:{type:String,values:["always","hover","never"],default:"hover"},type:{type:String,values:["","card"],default:""},cardScale:{type:Number,default:.83},loop:{type:Boolean,default:!0},direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},pauseOnHover:{type:Boolean,default:!0},motionBlur:Boolean}),tt={change:(s,v)=>[s,v].every($e)},Se=Symbol("carouselContextKey"),le="ElCarouselItem",de=300,at=(s,v,p)=>{const{children:o,addChild:H,removeChild:M,ChildrenSorter:S}=Qe(ge(),le),E=Le(),a=w(-1),g=w(null),y=w(!1),_=w(),N=w(0),d=w(!0),F=L(()=>s.arrow!=="never"&&!e(I)),z=L(()=>o.value.some(t=>t.props.label.toString().length>0)),k=L(()=>s.type==="card"),I=L(()=>s.direction==="vertical"),A=L(()=>s.height!=="auto"?{height:s.height}:{height:`${N.value}px`,overflow:"hidden"}),D=me(t=>{C(t)},de,{trailing:!0}),n=me(t=>{se(t)},de),r=t=>d.value?a.value<=1?t<=1:t>1:!0;function f(){g.value&&(clearInterval(g.value),g.value=null)}function m(){s.interval<=0||!s.autoplay||g.value||(g.value=setInterval(()=>T(),s.interval))}const T=()=>{a.value<o.value.length-1?a.value=a.value+1:s.loop&&(a.value=0)};function C(t){if(De(t)){const V=o.value.filter(W=>W.props.name===t);V.length>0&&(t=o.value.indexOf(V[0]))}if(t=Number(t),Number.isNaN(t)||t!==Math.floor(t))return;const c=o.value.length,B=a.value;t<0?a.value=s.loop?c-1:0:t>=c?a.value=s.loop?0:c-1:a.value=t,B===a.value&&b(B),h()}function b(t){o.value.forEach((c,B)=>{c.translateItem(B,a.value,t)})}function j(t,c){var B,V,W,re;const J=e(o),ie=J.length;if(ie===0||!t.states.inStage)return!1;const _e=c+1,Ee=c-1,ue=ie-1,Ne=J[ue].states.active,Me=J[0].states.active,Ae=(V=(B=J[_e])==null?void 0:B.states)==null?void 0:V.active,Be=(re=(W=J[Ee])==null?void 0:W.states)==null?void 0:re.active;return c===ue&&Me||Ae?"left":c===0&&Ne||Be?"right":!1}function i(){y.value=!0,s.pauseOnHover&&f()}function X(){y.value=!1,m()}function ee(t){e(I)||o.value.forEach((c,B)=>{t===j(c,B)&&(c.states.hover=!0)})}function te(){e(I)||o.value.forEach(t=>{t.states.hover=!1})}function ae(t){a.value=t}function se(t){s.trigger==="hover"&&t!==a.value&&(a.value=t)}function u(){C(a.value-1)}function l(){C(a.value+1)}function h(){f(),s.pauseOnHover||m()}function R(t){s.height==="auto"&&(N.value=t)}function oe(){var t;const c=(t=E.default)==null?void 0:t.call(E);if(!c)return null;const V=xe(c).filter(W=>ze(W)&&W.type.name===le);return V?.length===2&&s.loop&&!k.value?(d.value=!0,V):(d.value=!1,null)}Y(()=>a.value,(t,c)=>{b(c),d.value&&(t=t%2,c=c%2),c>-1&&v(Ze,t,c)});const Te=L({get:()=>d.value?a.value%2:a.value,set:t=>a.value=t});Y(()=>s.autoplay,t=>{t?m():f()}),Y(()=>s.loop,()=>{C(a.value)}),Y(()=>s.interval,()=>{h()});const ne=He();return Ve(()=>{Y(()=>o.value,()=>{o.value.length>0&&C(s.initialIndex)},{immediate:!0}),ne.value=Oe(_.value,()=>{b()}),m()}),pe(()=>{f(),_.value&&ne.value&&ne.value.stop()}),Pe(Se,{root:_,isCardType:k,isVertical:I,items:o,loop:s.loop,cardScale:s.cardScale,addItem:H,removeItem:M,setActiveItem:C,setContainerHeight:R}),{root:_,activeIndex:a,exposeActiveIndex:Te,arrowDisplay:F,hasLabel:z,hover:y,isCardType:k,items:o,isVertical:I,containerStyle:A,isItemsTwoLength:d,handleButtonEnter:ee,handleButtonLeave:te,handleIndicatorClick:ae,handleMouseEnter:i,handleMouseLeave:X,setActiveItem:C,prev:u,next:l,PlaceholderItem:oe,isTwoLengthShow:r,ItemsSorter:S,throttledArrowClick:D,throttledIndicatorHover:n}},st=["aria-label"],ot=["aria-label"],nt=["onMouseenter","onClick"],lt=["aria-label"],rt={key:0},it={key:2,xmlns:"http://www.w3.org/2000/svg",version:"1.1",style:{display:"none"}},ut="ElCarousel",ct=Ie({name:ut,__name:"carousel",props:et,emits:tt,setup(s,{expose:v,emit:p}){const o=s,H=p,{root:M,activeIndex:S,exposeActiveIndex:E,arrowDisplay:a,hasLabel:g,hover:y,isCardType:_,items:N,isVertical:d,containerStyle:F,handleButtonEnter:z,handleButtonLeave:k,handleIndicatorClick:I,handleMouseEnter:A,handleMouseLeave:D,setActiveItem:n,prev:r,next:f,PlaceholderItem:m,isTwoLengthShow:T,ItemsSorter:C,throttledArrowClick:b,throttledIndicatorHover:j}=at(o,H),i=Ce("carousel"),{t:X}=Re(),ee=L(()=>{const u=[i.b(),i.m(o.direction)];return e(_)&&u.push(i.m("card")),u}),te=L(()=>{const u=[i.e("indicators"),i.em("indicators",o.direction)];return e(g)&&u.push(i.em("indicators","labels")),o.indicatorPosition==="outside"&&u.push(i.em("indicators","outside")),e(d)&&u.push(i.em("indicators","right")),u});function ae(u){if(!o.motionBlur)return;const l=e(d)?`${i.namespace.value}-transitioning-vertical`:`${i.namespace.value}-transitioning`;u.currentTarget.classList.add(l)}function se(u){if(!o.motionBlur)return;const l=e(d)?`${i.namespace.value}-transitioning-vertical`:`${i.namespace.value}-transitioning`;u.currentTarget.classList.remove(l)}return v({activeIndex:E,setActiveItem:n,prev:r,next:f}),(u,l)=>($(),G("div",{ref_key:"root",ref:M,class:P(ee.value),onMouseenter:l[6]||(l[6]=Q((...h)=>e(A)&&e(A)(...h),["stop"])),onMouseleave:l[7]||(l[7]=Q((...h)=>e(D)&&e(D)(...h),["stop"]))},[e(a)?($(),ce(fe,{key:0,name:"carousel-arrow-left",persisted:""},{default:q(()=>[Z(O("button",{type:"button",class:P([e(i).e("arrow"),e(i).em("arrow","left")]),"aria-label":e(X)("el.carousel.leftArrow"),onMouseenter:l[0]||(l[0]=h=>e(z)("left")),onMouseleave:l[1]||(l[1]=(...h)=>e(k)&&e(k)(...h)),onClick:l[2]||(l[2]=Q(h=>e(b)(e(S)-1),["stop"]))},[K(e(ve),null,{default:q(()=>[K(e(Ge))]),_:1})],42,st),[[x,(u.arrow==="always"||e(y))&&(u.loop||e(S)>0)]])]),_:1})):U("v-if",!0),e(a)?($(),ce(fe,{key:1,name:"carousel-arrow-right",persisted:""},{default:q(()=>[Z(O("button",{type:"button",class:P([e(i).e("arrow"),e(i).em("arrow","right")]),"aria-label":e(X)("el.carousel.rightArrow"),onMouseenter:l[3]||(l[3]=h=>e(z)("right")),onMouseleave:l[4]||(l[4]=(...h)=>e(k)&&e(k)(...h)),onClick:l[5]||(l[5]=Q(h=>e(b)(e(S)+1),["stop"]))},[K(e(ve),null,{default:q(()=>[K(e(Fe))]),_:1})],42,ot),[[x,(u.arrow==="always"||e(y))&&(u.loop||e(S)<e(N).length-1)]])]),_:1})):U("v-if",!0),O("div",{class:P(e(i).e("container")),style:we(e(F)),onTransitionstart:ae,onTransitionend:se},[K(e(m)),be(u.$slots,"default")],38),K(e(C),null,{default:q(()=>[u.indicatorPosition!=="none"?($(),G("ul",{key:0,class:P(te.value)},[($(!0),G(We,null,Ke(e(N),(h,R)=>Z(($(),G("li",{key:R,class:P([e(i).e("indicator"),e(i).em("indicator",u.direction),e(i).is("active",R===e(S))]),onMouseenter:oe=>e(j)(R),onClick:Q(oe=>e(I)(R),["stop"])},[O("button",{class:P(e(i).e("button")),"aria-label":e(X)("el.carousel.indicator",{index:R+1})},[e(g)?($(),G("span",rt,Ue(h.props.label),1)):U("v-if",!0)],10,lt)],42,nt)),[[x,e(T)(R)]])),128))],2)):U("v-if",!0)]),_:1}),u.motionBlur?($(),G("svg",it,[...l[8]||(l[8]=[O("defs",null,[O("filter",{id:"elCarouselHorizontal"},[O("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"12,0"})]),O("filter",{id:"elCarouselVertical"},[O("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"0,10"})])],-1)])])):U("v-if",!0)],34))}});var vt=ye(ct,[["__file","/home/runner/work/element-plus/element-plus/packages/components/carousel/src/carousel.vue"]]);const ft=he({name:{type:String,default:""},label:{type:[String,Number],default:""}}),mt=s=>{const v=je(Se),p=ge(),o=w(),H=w(!1),M=w(0),S=w(1),E=w(!1),a=w(!1),g=w(!1),y=w(!1),{isCardType:_,isVertical:N,cardScale:d}=v;function F(n,r,f){const m=f-1,T=r-1,C=r+1,b=f/2;return r===0&&n===m?-1:r===m&&n===0?f:n<T&&r-n>=b?f+1:n>C&&n-r>=b?-2:n}function z(n,r){var f,m;const T=e(N)?((f=v.root.value)==null?void 0:f.offsetHeight)||0:((m=v.root.value)==null?void 0:m.offsetWidth)||0;return g.value?T*((2-d)*(n-r)+1)/4:n<r?-(1+d)*T/4:(3+d)*T/4}function k(n,r,f){const m=v.root.value;return m?((f?m.offsetHeight:m.offsetWidth)||0)*(n-r):0}const I=(n,r,f)=>{var m;const T=e(_),C=(m=v.items.value.length)!=null?m:Number.NaN,b=n===r;!T&&!Je(f)&&(y.value=b||n===f),!b&&C>2&&v.loop&&(n=F(n,r,C));const j=e(N);E.value=b,T?(g.value=Math.round(Math.abs(n-r))<=1,M.value=z(n,r),S.value=e(E)?1:d):M.value=k(n,r,j),a.value=!0,b&&o.value&&v.setContainerHeight(o.value.offsetHeight)};function A(){if(v&&e(_)){const n=v.items.value.findIndex(({uid:r})=>r===p.uid);v.setActiveItem(n)}}const D={props:s,states:Xe({hover:H,translate:M,scale:S,active:E,ready:a,inStage:g,animating:y}),uid:p.uid,getVnode:()=>p.vnode,translateItem:I};return v.addItem(D),pe(()=>{v.removeItem(D)}),{carouselItemRef:o,active:E,animating:y,hover:H,inStage:g,isVertical:N,translate:M,isCardType:_,scale:S,ready:a,handleItemClick:A}},dt=Ie({name:le,__name:"carousel-item",props:ft,setup(s){const v=s,p=Ce("carousel"),{carouselItemRef:o,active:H,animating:M,hover:S,inStage:E,isVertical:a,translate:g,isCardType:y,scale:_,ready:N,handleItemClick:d}=mt(v),F=L(()=>[p.e("item"),p.is("active",H.value),p.is("in-stage",E.value),p.is("hover",S.value),p.is("animating",M.value),{[p.em("item","card")]:y.value,[p.em("item","card-vertical")]:y.value&&a.value}]),z=L(()=>{const I=`${`translate${e(a)?"Y":"X"}`}(${e(g)}px)`,A=`scale(${e(_)})`;return{transform:[I,A].join(" ")}});return(k,I)=>Z(($(),G("div",{ref_key:"carouselItemRef",ref:o,class:P(F.value),style:we(z.value),onClick:I[0]||(I[0]=(...A)=>e(d)&&e(d)(...A))},[e(y)?Z(($(),G("div",{key:0,class:P(e(p).e("mask"))},null,2)),[[x,!e(H)]]):U("v-if",!0),be(k.$slots,"default")],6)),[[x,e(N)]])}});var ke=ye(dt,[["__file","/home/runner/work/element-plus/element-plus/packages/components/carousel/src/carousel-item.vue"]]);const Ct=qe(vt,{CarouselItem:ke}),bt=Ye(ke);export{le as C,Ct as E,bt as a,et as b,tt as c,ft as d,Se as e};
