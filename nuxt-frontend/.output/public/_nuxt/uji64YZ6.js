import{f as V,r as c,g as y,h as B,u as E,c as n,o as l,a as s,i as Q,v as N,j as R,F as q,k as w,n as f,t as p,b as v,w as b,l as k,p as T,E as $,d as D,s as K,m as C,_ as M}from"./o2XBa361.js";import{u as S}from"./DxN84sMZ.js";const j={class:"faq-page force-light"},z={class:"page-content"},H={class:"content-container"},P={class:"search-section"},U={class:"search-box"},G={class:"category-section"},J=["onClick"],O={class:"faq-list-section"},W={key:0,class:"loading-state"},X={key:1,class:"empty-state"},Y={key:2,class:"faq-card-list"},Z=["onClick"],ee={class:"faq-card-header"},se={class:"faq-question-text"},te={class:"toggle-icon"},ae={class:"min-h-0-wrapper"},oe={class:"answer-wrapper"},ne={class:"faq-answer-text"},le={class:"contact-section"},ie={class:"contact-btn"},ce={class:"contact-icon"},de=V({__name:"faq",setup(re){S({title:"常见问题 - 凡图拉",meta:[{name:"description",content:"凡图拉常见问题解答，帮助您快速了解平台使用方法和相关政策。"},{name:"keywords",content:"凡图拉,常见问题,FAQ,帮助,客服,使用指南"}]});const r=c(""),d=c("all"),i=c(null),_=c(!0),h=c([]),u=c([]),x=y(()=>[{id:"all",name:"全部问题"},...h.value]),F=async()=>{_.value=!0;try{const[a,e]=await Promise.all([C.getCategories(),C.getFaqs()]);a.success&&(h.value=a.categories),e.success&&(u.value=e.faqs)}catch(a){console.error("Failed to fetch FAQs",a)}finally{_.value=!1}},g=y(()=>{let a=u.value||[];if(d.value!=="all"&&(a=a.filter(e=>e.category_id===d.value)),r.value.trim()){const e=r.value.toLowerCase();a=a.filter(o=>o.question.toLowerCase().includes(e)||o.answer&&o.answer.toLowerCase().includes(e))}return a}),m=()=>{},I=a=>{d.value=a,i.value=null},A=a=>{i.value===a?i.value=null:i.value=a};return B(async()=>{await F();const e=E().query.q;if(e&&u.value.length>0){const o=u.value.find(t=>t.id===e);o&&(o.category_id&&(d.value=o.category_id),i.value=e,setTimeout(()=>{const t=document.getElementById(`faq-${e}`);t&&t.scrollIntoView({behavior:"smooth",block:"center"})},100))}}),(a,e)=>{const o=$;return l(),n("div",j,[s("div",z,[s("div",H,[e[7]||(e[7]=s("div",{class:"header-section"},[s("h1",{class:"main-title"},"常见问题")],-1)),s("div",P,[e[1]||(e[1]=s("h3",{class:"search-title"},"有问题？快速搜索解答",-1)),s("div",U,[Q(s("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>r.value=t),type:"text",placeholder:"输入您的问题关键词...",class:"search-input",onKeyup:R(m,["enter"])},null,544),[[N,r.value]]),s("button",{onClick:m,class:"search-btn"},"搜索")])]),s("div",G,[(l(!0),n(q,null,w(x.value,t=>(l(),n("button",{key:t.id,class:f(["category-btn",{active:d.value===t.id}]),onClick:L=>I(t.id)},p(t.name),11,J))),128))]),s("div",O,[_.value?(l(),n("div",W,"加载中...")):g.value.length===0?(l(),n("div",X,"暂无相关问题")):(l(),n("div",Y,[(l(!0),n(q,null,w(g.value,(t,L)=>(l(),n("div",{key:t.id,class:f(["faq-card",{active:i.value===t.id}]),onClick:ue=>A(t.id)},[s("div",ee,[e[2]||(e[2]=s("div",{class:"q-badge"},"Q",-1)),s("div",se,p(t.question),1),s("div",te,[v(o,null,{default:b(()=>[v(k(T))]),_:1})])]),s("div",{class:f(["faq-card-body-grid",{"is-expanded":i.value===t.id}])},[s("div",ae,[s("div",oe,[e[3]||(e[3]=s("div",{class:"a-badge"},"A",-1)),s("div",ne,p(t.answer),1)])])],2)],10,Z))),128))]))]),s("div",le,[e[5]||(e[5]=s("h3",{class:"contact-title"},"没有找到您的问题？",-1)),e[6]||(e[6]=s("p",{class:"contact-desc"},"我们的客服团队随时为您提供帮助，平均响应时间不超过3分钟，解决率高达99.8%!",-1)),s("button",ie,[s("span",ce,[v(o,null,{default:b(()=>[v(k(K))]),_:1})]),e[4]||(e[4]=D(" 联系在线客服 ",-1))])])])])])}}}),fe=M(de,[["__scopeId","data-v-bd484e3d"]]);export{fe as default};
