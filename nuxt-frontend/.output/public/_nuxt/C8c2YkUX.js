import{b_ as G,cp as J,c3 as K,f as O,c2 as j,J as T,c as d,o as u,aI as k,b as V,l as s,n,b7 as H,c5 as ee,c0 as se,r as I,b9 as te,h as ae,g as c,cg as ne,D as E,a as C,aD as x,G as _,w as $,M as re,E as B,ag as le,d1 as ie,t as P,d as A,c6 as oe,c7 as ce}from"./o2XBa361.js";import{C as L}from"./BB_Ol6Sd.js";import{u as ue}from"./DxBhpsT5.js";const pe=G({space:{type:[Number,String],default:""},active:{type:Number,default:0},direction:{type:String,default:"horizontal",values:["horizontal","vertical"]},alignCenter:{type:Boolean},simple:{type:Boolean},finishStatus:{type:String,values:["wait","process","finish","error","success"],default:"finish"},processStatus:{type:String,values:["wait","process","finish","error","success"],default:"process"}}),ve={[L]:(m,f)=>[m,f].every(J)},U="ElSteps",de=O({name:"ElSteps",__name:"steps",props:pe,emits:ve,setup(m,{emit:f}){const t=m,i=f,S=j("steps"),{children:o,addChild:a,removeChild:h,ChildrenSorter:y}=ue(H(),"ElStep");return T(o,()=>{o.value.forEach((r,l)=>{r.setIndex(l)})}),ee(U,{props:t,steps:o,addStep:a,removeStep:h}),T(()=>t.active,(r,l)=>{i(L,r,l)}),(r,l)=>(u(),d("div",{class:n([s(S).b(),s(S).m(r.simple?"simple":r.direction)])},[k(r.$slots,"default"),V(s(y))],2))}});var me=K(de,[["__file","/home/runner/work/element-plus/element-plus/packages/components/steps/src/steps.vue"]]);const fe=G({title:{type:String,default:""},icon:{type:se},description:{type:String,default:""},status:{type:String,values:["","wait","process","finish","error","success"],default:""}}),Se=O({name:"ElStep",__name:"item",props:fe,setup(m){const f=m,t=j("step"),i=I(-1),S=I({}),o=I(""),a=te(U),h=H();let y=0,r=0;ae(()=>{T([()=>a.props.active,()=>a.props.processStatus,()=>a.props.finishStatus],([e],[v])=>{r=v||0,y=e-r,Z(e)},{immediate:!0})});const l=c(()=>f.status||o.value),q=c(()=>{const e=a.steps.value[i.value-1];return e?e.internalStatus.value:"wait"}),w=c(()=>a.props.alignCenter),D=c(()=>a.props.direction==="vertical"),p=c(()=>a.props.simple),b=c(()=>a.steps.value.length),z=c(()=>{var e;return((e=a.steps.value[b.value-1])==null?void 0:e.uid)===h.uid}),g=c(()=>p.value?"":a.props.space),F=c(()=>[t.b(),t.is(p.value?"simple":a.props.direction),t.is("flex",z.value&&!g.value&&!w.value),t.is("center",w.value&&!D.value&&!p.value)]),Q=c(()=>{const e={flexBasis:J(g.value)?`${g.value}px`:g.value?g.value:`${100/(b.value-(w.value?0:1))}%`};return D.value||z.value&&(e.maxWidth=`${100/b.value}%`),e}),R=e=>{i.value=e},X=e=>{const v=e==="wait",N={transitionDelay:`${Math.abs(y)===1?0:y>0?(i.value+1-r)*150:-(i.value+1-a.props.active)*150}ms`},W=e===a.props.processStatus||v?0:100;N.borderWidth=W&&!p.value?"1px":0,N[a.props.direction==="vertical"?"height":"width"]=`${W}%`,S.value=N},Z=e=>{e>i.value?o.value=a.props.finishStatus:e===i.value&&q.value!=="error"?o.value=a.props.processStatus:o.value="wait";const v=a.steps.value[i.value-1];v&&v.calcProgress(o.value)},M={uid:h.uid,getVnode:()=>h.vnode,currentStatus:l,internalStatus:o,setIndex:R,calcProgress:X};return a.addStep(M),ne(()=>{a.removeStep(M)}),(e,v)=>(u(),d("div",{style:x(Q.value),class:n(F.value)},[E(" icon & line "),C("div",{class:n([s(t).e("head"),s(t).is(l.value)])},[p.value?E("v-if",!0):(u(),d("div",{key:0,class:n(s(t).e("line"))},[C("i",{class:n(s(t).e("line-inner")),style:x(S.value)},null,6)],2)),C("div",{class:n([s(t).e("icon"),s(t).is(e.icon||e.$slots.icon?"icon":"text")])},[k(e.$slots,"icon",{},()=>[e.icon?(u(),_(s(B),{key:0,class:n(s(t).e("icon-inner"))},{default:$(()=>[(u(),_(re(e.icon)))]),_:1},8,["class"])):l.value==="success"?(u(),_(s(B),{key:1,class:n([s(t).e("icon-inner"),s(t).is("status")])},{default:$(()=>[V(s(le))]),_:1},8,["class"])):l.value==="error"?(u(),_(s(B),{key:2,class:n([s(t).e("icon-inner"),s(t).is("status")])},{default:$(()=>[V(s(ie))]),_:1},8,["class"])):p.value?E("v-if",!0):(u(),d("div",{key:3,class:n(s(t).e("icon-inner"))},P(i.value+1),3))])],2)],2),E(" title & description "),C("div",{class:n(s(t).e("main"))},[C("div",{class:n([s(t).e("title"),s(t).is(l.value)])},[k(e.$slots,"title",{},()=>[A(P(e.title),1)])],2),p.value?(u(),d("div",{key:0,class:n(s(t).e("arrow"))},null,2)):(u(),d("div",{key:1,class:n([s(t).e("description"),s(t).is(l.value)])},[k(e.$slots,"description",{},()=>[A(P(e.description),1)])],2))],2)],6))}});var Y=K(Se,[["__file","/home/runner/work/element-plus/element-plus/packages/components/steps/src/item.vue"]]);const Ee=oe(me,{Step:Y}),_e=ce(Y);export{Ee as E,U as S,_e as a,ve as b,pe as c,fe as s};
