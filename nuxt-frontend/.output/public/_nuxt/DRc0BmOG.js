import{b as C,E as k}from"./-Yx_0iEM.js";import{b_ as A,bL as M,c0 as _,c3 as L,f as q,cZ as G,c2 as U,r as E,g as s,l as t,cA as Z,G as f,o as u,w as a,aI as P,D as S,a as m,n as l,d,E as j,aD as F,M as H,t as v,b as w,c4 as J,c6 as K}from"./o2XBa361.js";import{b as R,u as y,E as O}from"./qVmxJdp3.js";const Q=A({title:String,confirmButtonText:String,cancelButtonText:String,confirmButtonType:{type:String,values:C,default:"primary"},cancelButtonType:{type:String,values:C,default:"text"},icon:{type:_,default:()=>M},iconColor:{type:String,default:"#f90"},hideIcon:Boolean,hideAfter:{type:Number,default:200},effect:{...y.effect,default:"light"},teleported:y.teleported,persistent:y.persistent,width:{type:[String,Number],default:150},virtualTriggering:R.virtualTriggering,virtualRef:R.virtualRef}),W={confirm:n=>n instanceof MouseEvent,cancel:n=>n instanceof MouseEvent},X=q({name:"ElPopconfirm",__name:"popconfirm",props:Q,emits:W,setup(n,{expose:N,emit:I}){const i=n,g=I,{t:T}=G(),r=U("popconfirm"),p=E(),B=E(),$=s(()=>{var e;return(e=t(p))==null?void 0:e.popperRef}),z=()=>{var e,o;(o=(e=B.value)==null?void 0:e.focus)==null||o.call(e)},c=()=>{var e,o;(o=(e=p.value)==null?void 0:e.onClose)==null||o.call(e)},D=s(()=>({width:Z(i.width)})),h=e=>{g("confirm",e),c()},b=e=>{g("cancel",e),c()},V=s(()=>i.confirmButtonText||T("el.popconfirm.confirmButtonText")),x=s(()=>i.cancelButtonText||T("el.popconfirm.cancelButtonText"));return N({popperRef:$,hide:c}),(e,o)=>(u(),f(t(O),J({ref_key:"tooltipRef",ref:p,trigger:"click",effect:e.effect},e.$attrs,{"virtual-triggering":e.virtualTriggering,"virtual-ref":e.virtualRef,"popper-class":`${t(r).namespace.value}-popover`,"popper-style":D.value,teleported:e.teleported,"fallback-placements":["bottom","top","right","left"],"hide-after":e.hideAfter,persistent:e.persistent,loop:"",onShow:z}),{content:a(()=>[m("div",{ref_key:"rootRef",ref:B,tabindex:"-1",class:l(t(r).b())},[m("div",{class:l(t(r).e("main"))},[!e.hideIcon&&e.icon?(u(),f(t(j),{key:0,class:l(t(r).e("icon")),style:F({color:e.iconColor})},{default:a(()=>[(u(),f(H(e.icon)))]),_:1},8,["class","style"])):S("v-if",!0),d(" "+v(e.title),1)],2),m("div",{class:l(t(r).e("action"))},[P(e.$slots,"actions",{confirm:h,cancel:b},()=>[w(t(k),{size:"small",type:e.cancelButtonType==="text"?"":e.cancelButtonType,text:e.cancelButtonType==="text",onClick:b},{default:a(()=>[d(v(x.value),1)]),_:1},8,["type","text"]),w(t(k),{size:"small",type:e.confirmButtonType==="text"?"":e.confirmButtonType,text:e.confirmButtonType==="text",onClick:h},{default:a(()=>[d(v(V.value),1)]),_:1},8,["type","text"])])],2)],2)]),default:a(()=>[e.$slots.reference?P(e.$slots,"reference",{key:0}):S("v-if",!0)]),_:3},16,["effect","virtual-triggering","virtual-ref","popper-class","popper-style","teleported","hide-after","persistent"]))}});var Y=L(X,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popconfirm/src/popconfirm.vue"]]);const ne=K(Y);export{ne as E,Q as a,W as p};
