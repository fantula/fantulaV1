{"file":"faq-BJ7RB-iQ.js","mappings":"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","names":["_ssrRenderAttrs","_mergeProps","_withCtx","_createVNode","_unref","Plus","_ssrRenderList","_openBlock","_createBlock","_Fragment","_renderList","_withKeys","_ssrRenderComponent","_createTextVNode","_toDisplayString","Goods"],"sources":["../../../../pages/_mgmt_9Xfa3/help-center/faq.vue"],"sourcesContent":["<template>\n  <div class=\"faq-list-page\">\n    <div class=\"page-actions\">\n      <el-button type=\"primary\" @click=\"$router.push('/_mgmt_9Xfa3/help-center/faq/post')\">\n        <el-icon><Plus /></el-icon> 添加问题\n      </el-button>\n    </div>\n\n    <!-- Toolbar -->\n    <div class=\"toolbar-card\">\n      <el-form :inline=\"true\" class=\"search-form\">\n        <el-form-item>\n          <el-select v-model=\"filterCategory\" placeholder=\"全部分类\" clearable style=\"width: 150px\">\n            <el-option\n              v-for=\"cat in categories\"\n              :key=\"cat.id\"\n              :label=\"cat.name\"\n              :value=\"cat.id\"\n            />\n          </el-select>\n        </el-form-item>\n        <el-form-item>\n          <el-input \n            v-model=\"keyword\" \n            placeholder=\"搜索问题关键词...\" \n            prefix-icon=\"Search\"\n            clearable\n            @keyup.enter=\"fetchFaqs\"\n          />\n        </el-form-item>\n        <el-form-item>\n          <el-button type=\"primary\" @click=\"fetchFaqs\">查询</el-button>\n          <el-button @click=\"resetFilter\">重置</el-button>\n        </el-form-item>\n      </el-form>\n    </div>\n\n    <!-- Table -->\n    <div class=\"table-card\" v-loading=\"loading\">\n      <el-table :data=\"faqs\" style=\"width: 100%\" stripe>\n        <el-table-column prop=\"sort_order\" label=\"排序\" width=\"80\" align=\"center\" />\n        \n        <el-table-column label=\"问题\" min-width=\"250\">\n          <template #default=\"{ row }\">\n            <span class=\"question-text\">{{ row.question }}</span>\n          </template>\n        </el-table-column>\n\n        <el-table-column label=\"分类\" width=\"150\">\n          <template #default=\"{ row }\">\n            <el-tag v-if=\"row.category\" type=\"info\" effect=\"plain\">{{ row.category.name }}</el-tag>\n            <span v-else class=\"text-gray-400\">未分类</span>\n          </template>\n        </el-table-column>\n\n        <el-table-column label=\"关联商品\" width=\"200\">\n          <template #default=\"{ row }\">\n            <div v-if=\"row.product\" class=\"bound-product\">\n              <el-icon><Goods /></el-icon>\n              <span>{{ row.product.product_name }}</span>\n            </div>\n            <span v-else class=\"text-gray-400\">-</span>\n          </template>\n        </el-table-column>\n\n        <el-table-column label=\"状态\" width=\"100\" align=\"center\">\n          <template #default=\"{ row }\">\n            <el-tag v-if=\"row.is_active\" type=\"success\" size=\"small\">启用</el-tag>\n            <el-tag v-else type=\"danger\" size=\"small\">禁用</el-tag>\n          </template>\n        </el-table-column>\n\n        <el-table-column label=\"操作\" width=\"180\" align=\"center\" fixed=\"right\">\n          <template #default=\"{ row }\">\n            <el-button type=\"primary\" link size=\"small\" @click=\"$router.push(`/_mgmt_9Xfa3/help-center/faq/post?id=${row.id}`)\">\n              编辑\n            </el-button>\n            <el-popconfirm title=\"确定要删除这个问题吗？\" @confirm=\"handleDelete(row.id)\">\n              <template #reference>\n                <el-button type=\"danger\" link size=\"small\">删除</el-button>\n              </template>\n            </el-popconfirm>\n          </template>\n        </el-table-column>\n      </el-table>\n\n      <!-- Pagination -->\n      <div class=\"pagination-row\">\n        <el-pagination\n          v-model:current-page=\"currentPage\"\n          v-model:page-size=\"pageSize\"\n          :total=\"total\"\n          layout=\"total, prev, pager, next\"\n          @current-change=\"fetchFaqs\"\n        />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, onMounted } from 'vue'\nimport { Plus, Search, Goods } from '@element-plus/icons-vue'\nimport { ElMessage } from 'element-plus'\nimport { adminFaqApi, type AdminFaq, type AdminFaqCategory } from '@/api/admin/help-center'\n\nconst loading = ref(false)\nconst faqs = ref<AdminFaq[]>([])\nconst categories = ref<AdminFaqCategory[]>([])\nconst total = ref(0)\nconst currentPage = ref(1)\nconst pageSize = ref(20)\n\nconst keyword = ref('')\nconst filterCategory = ref('')\n\nconst fetchCategories = async () => {\n  const res = await adminFaqApi.getCategories()\n  if (res.success) categories.value = res.categories\n}\n\nconst fetchFaqs = async () => {\n  loading.value = true\n  try {\n    const res = await adminFaqApi.getFaqs({\n      page: currentPage.value,\n      page_size: pageSize.value,\n      keyword: keyword.value,\n      category_id: filterCategory.value || undefined\n    })\n    if (res.success) {\n      faqs.value = res.faqs\n      total.value = res.total\n    } else {\n      ElMessage.error(res.error || '获取列表失败')\n    }\n  } finally {\n    loading.value = false\n  }\n}\n\nconst handleDelete = async (id: string) => {\n  const res = await adminFaqApi.deleteFaq(id)\n  if (res.success) {\n    ElMessage.success('删除成功')\n    fetchFaqs()\n  } else {\n    ElMessage.error(res.error || '删除失败')\n  }\n}\n\nconst resetFilter = () => {\n  keyword.value = ''\n  filterCategory.value = ''\n  fetchFaqs()\n}\n\nonMounted(() => {\n  fetchCategories()\n  fetchFaqs()\n})\n</script>\n\n<style scoped>\n.faq-list-page {\n  padding: 0;\n}\n\n.page-actions {\n  margin-bottom: 20px;\n}\n\n.toolbar-card {\n  background: var(--el-bg-color);\n  padding: 20px;\n  border-radius: 8px;\n  margin-bottom: 20px;\n  box-shadow: var(--el-box-shadow-lighter);\n}\n.search-form {\n  margin-bottom: 0;\n}\n\n.table-card {\n  background: var(--el-bg-color);\n  padding: 20px;\n  border-radius: 8px;\n  box-shadow: var(--el-box-shadow-lighter);\n}\n\n.question-text {\n  font-weight: 500;\n  color: var(--el-text-color-primary);\n}\n\n.bound-product {\n  display: flex;\n  align-items: center;\n  gap: 6px;\n  color: var(--el-color-primary);\n  font-size: 13px;\n}\n\n.pagination-row {\n  margin-top: 20px;\n  display: flex;\n  justify-content: flex-end;\n}\n</style>\n"],"version":3}