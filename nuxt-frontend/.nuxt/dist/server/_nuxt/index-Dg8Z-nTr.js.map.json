{"file":"index-Dg8Z-nTr.js","mappings":"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","names":[],"sources":["../../../../node_modules/element-plus/es/hooks/use-same-target/index.mjs","../../../../node_modules/element-plus/es/components/overlay/src/overlay.mjs","../../../../node_modules/element-plus/es/components/overlay/index.mjs","../../../../node_modules/element-plus/es/hooks/use-draggable/index.mjs"],"sourcesContent":["import { NOOP } from '@vue/shared';\n\nconst useSameTarget = (handleClick) => {\n  if (!handleClick) {\n    return { onClick: NOOP, onMousedown: NOOP, onMouseup: NOOP };\n  }\n  let mousedownTarget = false;\n  let mouseupTarget = false;\n  const onClick = (e) => {\n    if (mousedownTarget && mouseupTarget) {\n      handleClick(e);\n    }\n    mousedownTarget = mouseupTarget = false;\n  };\n  const onMousedown = (e) => {\n    mousedownTarget = e.target === e.currentTarget;\n  };\n  const onMouseup = (e) => {\n    mouseupTarget = e.target === e.currentTarget;\n  };\n  return { onClick, onMousedown, onMouseup };\n};\n\nexport { useSameTarget };\n//# sourceMappingURL=index.mjs.map\n","import { defineComponent, createVNode, renderSlot, h } from 'vue';\nimport { useSameTarget } from '../../../hooks/use-same-target/index.mjs';\nimport { PatchFlags } from '../../../utils/vue/vnode.mjs';\nimport { buildProps, definePropType } from '../../../utils/vue/props/runtime.mjs';\nimport { useNamespace } from '../../../hooks/use-namespace/index.mjs';\n\nconst overlayProps = buildProps({\n  mask: {\n    type: Boolean,\n    default: true\n  },\n  customMaskEvent: Boolean,\n  overlayClass: {\n    type: definePropType([\n      String,\n      Array,\n      Object\n    ])\n  },\n  zIndex: {\n    type: definePropType([String, Number])\n  }\n});\nconst overlayEmits = {\n  click: (evt) => evt instanceof MouseEvent\n};\nconst BLOCK = \"overlay\";\nvar Overlay = defineComponent({\n  name: \"ElOverlay\",\n  props: overlayProps,\n  emits: overlayEmits,\n  setup(props, { slots, emit }) {\n    const ns = useNamespace(BLOCK);\n    const onMaskClick = (e) => {\n      emit(\"click\", e);\n    };\n    const { onClick, onMousedown, onMouseup } = useSameTarget(\n      props.customMaskEvent ? void 0 : onMaskClick\n    );\n    return () => {\n      return props.mask ? createVNode(\n        \"div\",\n        {\n          class: [ns.b(), props.overlayClass],\n          style: {\n            zIndex: props.zIndex\n          },\n          onClick,\n          onMousedown,\n          onMouseup\n        },\n        [renderSlot(slots, \"default\")],\n        PatchFlags.STYLE | PatchFlags.CLASS | PatchFlags.PROPS,\n        [\"onClick\", \"onMouseup\", \"onMousedown\"]\n      ) : h(\n        \"div\",\n        {\n          class: props.overlayClass,\n          style: {\n            zIndex: props.zIndex,\n            position: \"fixed\",\n            top: \"0px\",\n            right: \"0px\",\n            bottom: \"0px\",\n            left: \"0px\"\n          }\n        },\n        [renderSlot(slots, \"default\")]\n      );\n    };\n  }\n});\n\nexport { Overlay as default, overlayEmits, overlayProps };\n//# sourceMappingURL=overlay.mjs.map\n","import Overlay from './src/overlay.mjs';\nexport { overlayEmits, overlayProps } from './src/overlay.mjs';\n\nconst ElOverlay = Overlay;\n\nexport { ElOverlay, ElOverlay as default };\n//# sourceMappingURL=index.mjs.map\n","import { ref, onMounted, watchEffect, onBeforeUnmount } from 'vue';\nimport { addUnit } from '../../utils/dom/style.mjs';\n\nconst useDraggable = (targetRef, dragRef, draggable, overflow) => {\n  const transform = {\n    offsetX: 0,\n    offsetY: 0\n  };\n  const isDragging = ref(false);\n  const adjustPosition = (moveX, moveY) => {\n    if (targetRef.value) {\n      const { offsetX, offsetY } = transform;\n      const targetRect = targetRef.value.getBoundingClientRect();\n      const targetLeft = targetRect.left;\n      const targetTop = targetRect.top;\n      const targetWidth = targetRect.width;\n      const targetHeight = targetRect.height;\n      const clientWidth = document.documentElement.clientWidth;\n      const clientHeight = document.documentElement.clientHeight;\n      const minLeft = -targetLeft + offsetX;\n      const minTop = -targetTop + offsetY;\n      const maxLeft = clientWidth - targetLeft - targetWidth + offsetX;\n      const maxTop = clientHeight - targetTop - (targetHeight < clientHeight ? targetHeight : 0) + offsetY;\n      if (!(overflow == null ? void 0 : overflow.value)) {\n        moveX = Math.min(Math.max(moveX, minLeft), maxLeft);\n        moveY = Math.min(Math.max(moveY, minTop), maxTop);\n      }\n      transform.offsetX = moveX;\n      transform.offsetY = moveY;\n      targetRef.value.style.transform = `translate(${addUnit(moveX)}, ${addUnit(\n        moveY\n      )})`;\n    }\n  };\n  const onMousedown = (e) => {\n    const downX = e.clientX;\n    const downY = e.clientY;\n    const { offsetX, offsetY } = transform;\n    const onMousemove = (e2) => {\n      if (!isDragging.value) {\n        isDragging.value = true;\n      }\n      const moveX = offsetX + e2.clientX - downX;\n      const moveY = offsetY + e2.clientY - downY;\n      adjustPosition(moveX, moveY);\n    };\n    const onMouseup = () => {\n      isDragging.value = false;\n      document.removeEventListener(\"mousemove\", onMousemove);\n      document.removeEventListener(\"mouseup\", onMouseup);\n    };\n    document.addEventListener(\"mousemove\", onMousemove);\n    document.addEventListener(\"mouseup\", onMouseup);\n  };\n  const onDraggable = () => {\n    if (dragRef.value && targetRef.value) {\n      dragRef.value.addEventListener(\"mousedown\", onMousedown);\n      window.addEventListener(\"resize\", updatePosition);\n    }\n  };\n  const offDraggable = () => {\n    if (dragRef.value && targetRef.value) {\n      dragRef.value.removeEventListener(\"mousedown\", onMousedown);\n      window.removeEventListener(\"resize\", updatePosition);\n    }\n  };\n  const resetPosition = () => {\n    transform.offsetX = 0;\n    transform.offsetY = 0;\n    if (targetRef.value) {\n      targetRef.value.style.transform = \"\";\n    }\n  };\n  const updatePosition = () => {\n    const { offsetX, offsetY } = transform;\n    adjustPosition(offsetX, offsetY);\n  };\n  onMounted(() => {\n    watchEffect(() => {\n      if (draggable.value) {\n        onDraggable();\n      } else {\n        offDraggable();\n      }\n    });\n  });\n  onBeforeUnmount(() => {\n    offDraggable();\n  });\n  return {\n    isDragging,\n    resetPosition,\n    updatePosition\n  };\n};\n\nexport { useDraggable };\n//# sourceMappingURL=index.mjs.map\n"],"version":3}