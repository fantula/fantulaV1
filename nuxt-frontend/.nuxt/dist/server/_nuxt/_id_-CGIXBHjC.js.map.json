{"file":"_id_-CGIXBHjC.js","mappings":"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","names":["_ssrRenderAttrs","_mergeProps","_unref","_ssrRenderComponent","_withCtx","_createVNode","ArrowLeft","_createTextVNode","_toDisplayString","_ssrRenderList","_openBlock","_createBlock","_Fragment","_renderList","Delete","Plus","Minus","_ssrRenderAttr","_createCommentVNode"],"sources":["../../../../pages/_mgmt_9Xfa3/cdk/edit/[id].vue"],"sourcesContent":["<template>\n  <div class=\"cdk-edit-page\">\n    \n    <!-- Header -->\n    <div class=\"wizard-header\">\n      <div class=\"header-left\">\n        <el-button link class=\"back-btn\" @click=\"router.back()\">\n          <el-icon class=\"back-icon\"><ArrowLeft /></el-icon> 返回列表\n        </el-button>\n        <div class=\"header-titles\">\n          <div class=\"main-title\">编辑资源</div>\n          <div class=\"sub-title\">EDIT RESOURCE</div>\n        </div>\n      </div>\n      <div class=\"header-center\"></div>\n      <div class=\"header-right\"></div>\n    </div>\n\n    <!-- Loading State -->\n    <div v-if=\"loading\" class=\"loading-container\">\n      <el-skeleton :rows=\"8\" animated />\n    </div>\n\n    <!-- Body -->\n    <div v-else class=\"wizard-body\">\n      <div class=\"centered-container\">\n        \n        <!-- Product Selection Card -->\n        <div class=\"form-card\">\n          <h3 class=\"card-title\">基础信息</h3>\n          <el-form label-position=\"top\">\n            <el-row :gutter=\"20\">\n              <el-col :span=\"8\">\n                <el-form-item label=\"CDK 类型\">\n                  <el-tag :type=\"getStatusType(cdkData?.cdk_type)\" size=\"large\">{{ getTypeText(cdkData?.cdk_type) }}</el-tag>\n                </el-form-item>\n              </el-col>\n              <el-col :span=\"8\">\n                <el-form-item label=\"当前状态\">\n                  <el-tag :type=\"getStatusType(cdkData?.status)\">{{ getStatusText(cdkData?.status) }}</el-tag>\n                </el-form-item>\n              </el-col>\n              <el-col :span=\"8\">\n                <el-form-item label=\"CDK ID\">\n                  <el-input :value=\"cdkData?.id\" disabled size=\"small\" style=\"font-family: monospace; font-size: 12px;\" />\n                </el-form-item>\n              </el-col>\n            </el-row>\n            \n            <el-divider content-position=\"left\">商品关联</el-divider>\n            \n            <el-row :gutter=\"20\">\n              <el-col :span=\"8\">\n                <el-form-item label=\"商品分类\">\n                  <el-select v-model=\"selectedCategoryId\" placeholder=\"请选择分类\" filterable @change=\"handleCategoryChange\" style=\"width: 100%\">\n                    <el-option v-for=\"cat in categories\" :key=\"cat.id\" :label=\"cat.name\" :value=\"cat.id\" />\n                  </el-select>\n                </el-form-item>\n              </el-col>\n              <el-col :span=\"8\">\n                <el-form-item label=\"选择商品\">\n                  <el-select v-model=\"selectedProductId\" placeholder=\"请选择商品\" filterable @change=\"handleProductChange\" :disabled=\"!selectedCategoryId\" style=\"width: 100%\">\n                    <el-option v-for=\"prod in filteredProducts\" :key=\"prod.id\" :label=\"prod.product_name\" :value=\"prod.id\" />\n                  </el-select>\n                </el-form-item>\n              </el-col>\n              <el-col :span=\"8\">\n                <el-form-item label=\"关联 SKU (可多选)\">\n                  <el-select \n                    v-model=\"selectedSkuIds\" \n                    multiple\n                    placeholder=\"选择 SKU\" \n                    filterable \n                    :loading=\"loadingSkus\"\n                    :disabled=\"!selectedProductId\"\n                    style=\"width: 100%\"\n                  >\n                    <el-option v-for=\"sku in skuOptions\" :key=\"sku.id\" :label=\"sku.label\" :value=\"sku.id\" />\n                  </el-select>\n                </el-form-item>\n              </el-col>\n            </el-row>\n            \n            <el-alert \n              v-if=\"selectedSkuIds.length === 0 && skuOptions.length > 0\" \n              type=\"warning\" \n              :closable=\"false\"\n              style=\"margin-top: 8px\"\n            >\n              <template #title>⚠️ 该 CDK 未绑定 SKU，请选择 SKU 进行关联</template>\n            </el-alert>\n          </el-form>\n        </div>\n\n        <!-- Editable Content -->\n        <div class=\"form-card\">\n          <h3 class=\"card-title\">资源配置 (可编辑)</h3>\n          \n          <!-- Virtual Type -->\n          <div v-if=\"cdkData?.cdk_type === 'virtual'\">\n            <el-form :model=\"formVirtual\" label-position=\"top\">\n              <el-form-item label=\"可用库存数\">\n                <el-input-number \n                  v-model=\"formVirtual.stock\" \n                  :min=\"minStock\" \n                  size=\"large\" \n                  style=\"width: 100%\" \n                />\n                <div class=\"form-tip\">\n                  已使用: {{ usedStock }} 个，最小值不能低于已使用数量\n                </div>\n              </el-form-item>\n              \n              <el-divider content-position=\"left\">订单填写字段配置</el-divider>\n              <div class=\"dynamic-fields\">\n                <div v-for=\"(field, idx) in formVirtual.fields\" :key=\"idx\" class=\"field-row\">\n                  <el-input v-model=\"formVirtual.fields[idx]\" placeholder=\"输入字段名 (如: 游戏账号)\" />\n                  <el-button type=\"danger\" circle plain @click=\"removeVirtualField(idx)\"><el-icon><Delete /></el-icon></el-button>\n                </div>\n                <el-button type=\"dashed\" class=\"add-field-btn\" @click=\"addVirtualField\">\n                  <el-icon><Plus /></el-icon> 添加字段\n                </el-button>\n              </div>\n            </el-form>\n          </div>\n\n          <!-- Shared Type -->\n          <div v-if=\"cdkData?.cdk_type === 'shared'\">\n            <el-form label-position=\"top\">\n              <el-form-item label=\"最大车位数\">\n                <el-input-number v-model=\"formShared.maxSlots\" :min=\"1\" :max=\"10\" />\n                <div class=\"form-tip\">决定该资源可同时服务的用户数</div>\n              </el-form-item>\n              \n              <el-divider content-position=\"left\">属性配置</el-divider>\n              <div class=\"kv-list\">\n                <div v-for=\"(attr, idx) in formShared.attributes\" :key=\"idx\" class=\"kv-row\">\n                  <el-input v-model=\"attr.key\" placeholder=\"字段名(如:账号)\" style=\"width: 140px\" />\n                  <span class=\"separator\">:</span>\n                  <el-input v-model=\"attr.value\" placeholder=\"字段值\" style=\"flex: 1\" />\n                  <el-button circle plain size=\"small\" @click=\"removeSharedAttr(idx)\" v-if=\"formShared.attributes.length > 1\">\n                    <el-icon><Minus /></el-icon>\n                  </el-button>\n                </div>\n                <el-button type=\"dashed\" size=\"small\" class=\"add-attr-btn\" @click=\"addSharedAttr\">\n                  + 添加属性\n                </el-button>\n              </div>\n            </el-form>\n          </div>\n\n          <!-- One-time Type -->\n          <div v-if=\"cdkData?.cdk_type === 'one_time'\">\n            <el-form label-position=\"top\">\n              <el-form-item label=\"激活码内容\">\n                <el-input v-model=\"formOneTime.code\" placeholder=\"输入激活码\" />\n                <div class=\"form-tip\">注意：更改后会影响已关联的订单</div>\n              </el-form-item>\n            </el-form>\n          </div>\n\n          <!-- Helping Image Section (Common for all types) -->\n          <el-divider content-position=\"left\">详情页帮助图片</el-divider>\n          <div class=\"form-item\">\n            <div class=\"image-selector\" @click=\"openImagePicker\">\n              <img v-if=\"commonImage\" :src=\"commonImage\" class=\"preview-img\" />\n              <div v-else class=\"placeholder\">\n                <el-icon :size=\"24\"><Picture /></el-icon>\n                <span>点击选择图片</span>\n              </div>\n            </div>\n            <div class=\"form-tip\" style=\"margin-top: 8px\">\n              将在客户端订单详情页展示，用于引导用户使用\n            </div>\n          </div>\n        </div>\n\n        <!-- Actions -->\n        <div class=\"form-actions\">\n          <el-button @click=\"router.back()\">取消</el-button>\n          <el-button type=\"primary\" @click=\"handleSubmit\" :loading=\"submitting\">\n            保存修改\n          </el-button>\n        </div>\n      </div>\n    </div>\n\n    <!-- Image Picker Dialog -->\n    <el-dialog\n      v-model=\"imagePickerVisible\"\n      title=\"选择图片\"\n      width=\"800px\"\n      append-to-body\n    >\n      <div class=\"picker-container\">\n        <div class=\"picker-sidebar\">\n          <div \n            class=\"picker-cat-item\" \n            :class=\"{ active: pickerActiveCatId === '' }\"\n            @click=\"pickerActiveCatId = ''; fetchPickerImages()\"\n          >全部图片</div>\n          <div \n            v-for=\"cat in pickerCategories\" \n            :key=\"cat.id\" \n            class=\"picker-cat-item\"\n            :class=\"{ active: pickerActiveCatId === cat.id }\"\n            @click=\"pickerActiveCatId = cat.id; fetchPickerImages()\"\n          >{{ cat.name }}</div>\n        </div>\n        <div class=\"picker-main\" v-loading=\"pickerLoading\">\n          <div class=\"picker-toolbar\">\n            <el-upload\n              action=\"#\"\n              :auto-upload=\"false\"\n              :show-file-list=\"false\"\n              :on-change=\"handlePickerUpload\"\n            >\n              <el-button type=\"primary\" size=\"small\">上传新图片</el-button>\n            </el-upload>\n          </div>\n          <div class=\"picker-grid\">\n            <div \n              v-for=\"img in galleryImages\" \n              :key=\"img.id\" \n              class=\"picker-img-card\"\n              @click=\"selectGalleryImage(img.url)\"\n            >\n              <el-image :src=\"img.url\" fit=\"cover\" />\n              <div class=\"picker-img-name\">{{ img.name }}</div>\n            </div>\n          </div>\n          <el-empty v-if=\"galleryImages.length === 0\" description=\"暂无图片\" />\n        </div>\n      </div>\n    </el-dialog>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, reactive, computed, onMounted } from 'vue'\nimport { useRouter, useRoute } from 'vue-router'\nimport { ArrowLeft, Delete, Plus, Minus, Picture } from '@element-plus/icons-vue'\nimport { ElMessage } from 'element-plus'\nimport { adminCdkApi, adminApi, adminProductApi, adminCategoryApi, type AdminProduct } from '@/api/admin-supabase'\nimport { getAdminSupabaseClient } from '@/utils/supabase-admin'\n\nconst router = useRouter()\nconst route = useRoute()\nconst cdkId = computed(() => route.params.id as string)\n\nconst loading = ref(true)\nconst submitting = ref(false)\nconst cdkData = ref<any>(null)\n\n// Form data for different types\nconst formVirtual = reactive({\n  stock: 0,\n  fields: [] as string[]\n})\n\nconst formShared = reactive({\n  attributes: [{ key: '', value: '' }] as { key: string; value: string }[],\n  maxSlots: 1\n})\n\nconst formOneTime = reactive({\n  code: ''\n})\n\n// Calculated used stock for virtual type\nconst usedStock = computed(() => {\n  const total = cdkData.value?.account_data?.stock || 0\n  // 简化处理：idle 状态表示全部可用，using 状态表示有使用中\n  if (cdkData.value?.status === 'idle') return 0\n  return Math.max(1, Math.floor(total * 0.5)) // 估计值，实际需查订单\n})\n\nconst minStock = computed(() => usedStock.value)\n\n// Image Picker State\nconst commonImage = ref('')\nconst imagePickerVisible = ref(false)\nconst pickerLoading = ref(false)\nconst galleryImages = ref<any[]>([])\nconst pickerCategories = ref<any[]>([])\nconst pickerActiveCatId = ref('')\n\n// SKU Selection State\nconst selectedSkuIds = ref<string[]>([])\nconst skuOptions = ref<{ id: string; label: string }[]>([])\nconst loadingSkus = ref(false)\n\n// 商品选择状态 (编辑时可切换商品)\nconst categories = ref<any[]>([])\nconst products = ref<AdminProduct[]>([])\nconst selectedCategoryId = ref('')\nconst selectedProductId = ref('')\n\n// URL 类型映射\nconst typeMap: Record<string, string> = { 'virtual': 'virtual', 'shared': 'shared_account', 'one_time': 'one_time_cdk' }\nconst currentCdkType = computed(() => {\n  const urlType = route.query.type as string\n  return typeMap[urlType] || cdkData.value?.cdk_type || 'virtual'\n})\n\n// 过滤后的商品列表\nconst filteredProducts = computed(() => {\n  if (!selectedCategoryId.value) return []\n  return products.value.filter(p => p.category_id === selectedCategoryId.value)\n})\n\nonMounted(async () => {\n  if (!cdkId.value) {\n    ElMessage.error('无效的 CDK ID')\n    router.back()\n    return\n  }\n  \n  try {\n    // 1. 加载分类和商品列表\n    const [catRes, prodRes] = await Promise.all([\n      adminCategoryApi.getCategories(),\n      adminProductApi.getProducts()\n    ])\n    if (catRes.success) categories.value = catRes.categories\n    if (prodRes.success) products.value = prodRes.products\n    \n    // 2. 加载 CDK 详情\n    const res = await adminCdkApi.getCdkById(cdkId.value)\n    if (res.success && res.cdk) {\n      cdkData.value = res.cdk\n      \n      // Load helping image（新格式用 image，兼容旧格式 common_image/help_image）\n      commonImage.value = res.cdk.account_data?.image || res.cdk.account_data?.common_image || res.cdk.account_data?.help_image || ''\n      \n      // Initialize form based on type\n      if (res.cdk.cdk_type === 'virtual') {\n        // 读取库存\n        formVirtual.stock = res.cdk.stock ?? res.cdk.account_data?.stock ?? 0\n        // 新格式：从 code 读取 fields；兼容旧格式从 account_data 读取\n        try {\n          const codeData = JSON.parse(res.cdk.code || '{}')\n          formVirtual.fields = codeData.fields || res.cdk.account_data?.fields || []\n        } catch {\n          formVirtual.fields = res.cdk.account_data?.fields || []\n        }\n      } else if (res.cdk.cdk_type === 'shared') {\n        // Parse attributes from code field (JSON format)\n        let attrs: Record<string, string> = {}\n        try {\n          if (res.cdk.code) {\n            attrs = JSON.parse(res.cdk.code)\n          }\n        } catch {\n          // Fallback to account_data for legacy data\n          const fallbackAttrs = res.cdk.account_data || {}\n          attrs = Object.fromEntries(\n            Object.entries(fallbackAttrs)\n              .filter(([k]) => k !== 'template_keys' && k !== 'common_image' && k !== 'help_image' && k !== 'image')\n          )\n        }\n        formShared.attributes = Object.entries(attrs).map(([key, value]) => ({ key, value: String(value) }))\n        if (formShared.attributes.length === 0) {\n          formShared.attributes = [{ key: '', value: '' }]\n        }\n        // Initialize max_slots\n        formShared.maxSlots = res.cdk.max_slots || 1\n      } else if (res.cdk.cdk_type === 'one_time') {\n        formOneTime.code = res.cdk.code || ''\n      }\n      \n      // Initialize SKU selection from sku_mappings\n      if (res.cdk.sku_mappings && res.cdk.sku_mappings.length > 0) {\n        selectedSkuIds.value = res.cdk.sku_mappings.map((m: any) => m.sku_id)\n      }\n      \n      // 初始化商品选择（优先从 product_snapshot）\n      const snapshotProductId = res.cdk.product_snapshot?.product_id\n      let targetProductId = snapshotProductId\n      \n      // 如果没有快照，通过 SKU 映射找商品\n      if (!targetProductId && selectedSkuIds.value.length > 0) {\n        const { data: skuMap } = await getAdminSupabaseClient()\n          .from('product_sku_map')\n          .select('product_id')\n          .eq('sku_id', selectedSkuIds.value[0])\n          .maybeSingle()\n        targetProductId = skuMap?.product_id\n      }\n      \n      // 设置分类和商品选择\n      if (targetProductId) {\n        const product = products.value.find(p => p.id === targetProductId)\n        if (product) {\n          selectedCategoryId.value = product.category_id || ''\n          selectedProductId.value = targetProductId\n          await loadSkuOptions(targetProductId)\n        }\n      }\n    } else {\n      ElMessage.error(res.error || '获取 CDK 详情失败')\n      router.back()\n    }\n  } finally {\n    loading.value = false\n  }\n})\n\nconst getTypeText = (type?: string) => {\n  const map: Record<string, string> = {\n    'virtual': '虚拟充值',\n    'shared': '账号/合租',\n    'one_time': '激活码'\n  }\n  return map[type || ''] || type || '-'\n}\n\nconst getStatusText = (status?: string) => {\n  const map: Record<string, string> = { 'idle': '空闲', 'using': '使用中', 'used': '已使用' }\n  return map[status || ''] || status || '-'\n}\n\nconst getStatusType = (status?: string) => {\n  const map: Record<string, 'success' | 'warning' | 'info'> = { 'idle': 'success', 'using': 'warning', 'used': 'info' }\n  return map[status || ''] || 'info'\n}\n\n// 加载商品 SKU 列表（按 CDK 类型过滤）\nconst loadSkuOptions = async (productId: string) => {\n  loadingSkus.value = true\n  try {\n    const skuRes = await adminProductApi.getProductWithSkus(productId)\n    if (skuRes.success && skuRes.skus) {\n      const targetType = currentCdkType.value\n      let filteredSkus = skuRes.skus\n      if (targetType) {\n        filteredSkus = filteredSkus.filter((sku: any) => sku.product_type === targetType)\n      }\n      skuOptions.value = filteredSkus.map((sku: any) => {\n        const specValues = Object.values(sku.spec_combination || {}).join(' ')\n        return { id: sku.id, label: specValues || '默认规格' }\n      })\n    }\n  } finally {\n    loadingSkus.value = false\n  }\n}\n\n// 分类切换\nconst handleCategoryChange = () => {\n  selectedProductId.value = ''\n  selectedSkuIds.value = []\n  skuOptions.value = []\n}\n\n// 商品切换\nconst handleProductChange = async (productId: string) => {\n  selectedSkuIds.value = []\n  skuOptions.value = []\n  if (productId) {\n    await loadSkuOptions(productId)\n  }\n}\n\n// Virtual type helpers\nconst addVirtualField = () => formVirtual.fields.push('')\nconst removeVirtualField = (idx: number) => formVirtual.fields.splice(idx, 1)\n\n// Shared type helpers\nconst addSharedAttr = () => formShared.attributes.push({ key: '', value: '' })\nconst removeSharedAttr = (idx: number) => {\n  if (formShared.attributes.length === 1) {\n    ElMessage.warning('至少保留一个属性')\n    return\n  }\n  formShared.attributes.splice(idx, 1)\n}\n\n// Image Picker Logic\nconst openImagePicker = async () => {\n  imagePickerVisible.value = true\n  \n  if (pickerCategories.value.length === 0) {\n    const res = await adminApi.imageCategory.getCategories()\n    if (res.success) pickerCategories.value = res.categories\n  }\n  \n  fetchPickerImages()\n}\n\nconst fetchPickerImages = async () => {\n  pickerLoading.value = true\n  const res = await adminApi.image.getImages({\n    category_id: pickerActiveCatId.value\n  })\n  if (res.success) galleryImages.value = res.images\n  pickerLoading.value = false\n}\n\nconst selectGalleryImage = (url: string) => {\n  commonImage.value = url\n  imagePickerVisible.value = false\n  ElMessage.success('已选择图片')\n}\n\nconst handlePickerUpload = async (file: any) => {\n  pickerLoading.value = true\n  try {\n    const { uploadImageToStorage } = await import('@/utils/uploadImage')\n    const upRes = await uploadImageToStorage(file.raw)\n    if (upRes.success) {\n      await adminApi.image.createImage({\n        name: file.name,\n        url: upRes.url!,\n        category_id: pickerActiveCatId.value || undefined\n      })\n      selectGalleryImage(upRes.url!)\n      fetchPickerImages()\n    }\n  } finally {\n    pickerLoading.value = false\n  }\n}\n\n// Submit\nconst handleSubmit = async () => {\n  if (!cdkData.value) return\n  \n  submitting.value = true\n  try {\n    // account_data 统一只存图片\n    const updateData: any = {\n      account_data: commonImage.value ? { image: commonImage.value } : null\n    }\n    \n    // 更新商品快照（当选择了新商品时）\n    if (selectedProductId.value) {\n      const selectedProduct = products.value.find(p => p.id === selectedProductId.value)\n      if (selectedProduct) {\n        updateData.product_snapshot = {\n          product_id: selectedProduct.id,\n          product_name: selectedProduct.product_name,\n          product_image: selectedProduct.image || undefined\n        }\n      }\n    }\n\n    if (cdkData.value.cdk_type === 'virtual') {\n      if (formVirtual.stock < minStock.value) {\n        ElMessage.error(`库存不能小于已使用数量 (${minStock.value})`)\n        return\n      }\n      // 库存写入独立字段\n      updateData.stock = formVirtual.stock\n      // code 存储字段配置 JSON\n      updateData.code = JSON.stringify({\n        fields: formVirtual.fields.filter(f => f.trim())\n      })\n    } else if (cdkData.value.cdk_type === 'shared') {\n      const attrObj: Record<string, string> = {}\n      formShared.attributes.forEach(a => {\n        if (a.key) attrObj[a.key] = a.value\n      })\n      // code 字段只存属性键值对\n      updateData.code = JSON.stringify(attrObj)\n      // 更新 max_slots\n      updateData.max_slots = formShared.maxSlots\n    } else if (cdkData.value.cdk_type === 'one_time') {\n      if (!formOneTime.code.trim()) {\n        ElMessage.error('激活码不能为空')\n        return\n      }\n      updateData.code = formOneTime.code.trim()\n    }\n    \n    // Update CDK basic info first\n    const res = await adminCdkApi.updateCdk(cdkId.value!, updateData)\n    if (!res.success) {\n      ElMessage.error(res.error || '保存失败')\n      return\n    }\n    \n    // Handle SKU mappings - 比较新旧列表进行增删\n    const currentMappings = cdkData.value.sku_mappings || []\n    const currentSkuIds = currentMappings.map((m: any) => m.sku_id)\n    \n    // 1. 删除取消的绑定 (Prioritize delete to avoid potential unique constraints)\n    const toRemove = currentMappings.filter((m: any) => !selectedSkuIds.value.includes(m.sku_id))\n    for (const mapping of toRemove) {\n      const rmRes = await adminCdkApi.removeCdkSkuMapping(mapping.id)\n      if (!rmRes.success) {\n        ElMessage.error(`解绑失败: ${rmRes.error}`)\n      }\n    }\n\n    // 2. 添加新的绑定\n    const toAdd = selectedSkuIds.value.filter(id => !currentSkuIds.includes(id))\n    for (const skuId of toAdd) {\n      const addRes = await adminCdkApi.addCdkSkuMapping(cdkId.value!, skuId)\n      if (!addRes.success) {\n        ElMessage.warning(`SKU 绑定失败: ${addRes.error}`)\n      }\n    }\n\n    ElMessage.success('保存成功')\n    // Navigate back to the correct CDK type page\n    const typeRouteMap: Record<string, string> = {\n      'virtual': 'virtual',\n      'shared': 'accounts',\n      'one_time': 'keys'\n    }\n    const targetRoute = typeRouteMap[cdkData.value?.cdk_type || ''] || 'virtual'\n    router.push(`/_mgmt_9Xfa3/cdk/${targetRoute}`)\n  } finally {\n    submitting.value = false\n  }\n}\n</script>\n\n<style scoped>\n.cdk-edit-page {\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  background: transparent;\n  padding-bottom: 80px;\n}\n\n.wizard-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 24px 40px;\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  border-radius: 0 0 24px 24px;\n  margin-bottom: 30px;\n}\n\n.header-left {\n  display: flex;\n  align-items: center;\n  gap: 24px;\n}\n\n.back-btn {\n  color: rgba(255,255,255,0.85) !important;\n  font-size: 14px;\n}\n\n.back-icon {\n  margin-right: 4px;\n}\n\n.header-titles {\n  display: flex;\n  flex-direction: column;\n}\n\n.main-title {\n  font-size: 26px;\n  font-weight: 700;\n  color: #fff;\n}\n\n.sub-title {\n  font-size: 12px;\n  color: rgba(255,255,255,0.7);\n  letter-spacing: 2px;\n}\n\n.wizard-body {\n  flex: 1;\n  display: flex;\n  justify-content: center;\n}\n\n.centered-container {\n  width: 700px;\n  max-width: 95vw;\n}\n\n.loading-container {\n  padding: 60px;\n}\n\n.form-card {\n  background: var(--el-bg-color);\n  border-radius: 18px;\n  padding: 32px;\n  margin-bottom: 24px;\n  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.06);\n}\n\n.readonly-card {\n  background: #f8f9fa;\n}\n\n.card-title {\n  font-size: 18px;\n  font-weight: 600;\n  color: #333;\n  margin: 0 0 24px 0;\n  padding-bottom: 12px;\n  border-bottom: 1px solid #eee;\n}\n\n.form-tip {\n  font-size: 12px;\n  color: #909399;\n  margin-top: 8px;\n}\n\n.dynamic-fields, .kv-list {\n  display: flex;\n  flex-direction: column;\n  gap: 12px;\n}\n\n.field-row, .kv-row { display: flex; align-items: center; margin-bottom: 8px; gap: 8px; }\n.separator { color: #dcdfe6; }\n.add-attr-btn { width: 100%; border-style: dashed; }\n\n/* Image Selector */\n.image-selector {\n  width: 100px; height: 100px;\n  border: 1px dashed #dcdfe6;\n  border-radius: 6px;\n  display: flex; align-items: center; justify-content: center;\n  cursor: pointer;\n  background: #fbfbfc;\n  transition: all 0.3s;\n}\n.image-selector:hover { border-color: #409EFF; }\n.preview-img { width: 100%; height: 100%; border-radius: 6px; object-fit: cover; }\n.placeholder { display: flex; flex-direction: column; align-items: center; color: #909399; font-size: 12px; gap: 4px; }\n\n/* Picker Logic reused styles */\n.picker-container { display: flex; height: 400px; }\n.picker-sidebar { width: 120px; border-right: 1px solid #ebeef5; overflow-y: auto; }\n.picker-cat-item { padding: 10px; cursor: pointer; color: #606266; font-size: 13px; }\n.picker-cat-item:hover, .picker-cat-item.active { background: #ecf5ff; color: #409EFF; }\n.picker-main { flex: 1; padding: 16px; display: flex; flex-direction: column; overflow-y: auto; }\n.picker-toolbar { margin-bottom: 12px; display: flex; justify-content: flex-end; }\n.picker-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(100px, 1fr)); gap: 12px; }\n.picker-img-card { cursor: pointer; border: 1px solid #ebeef5; border-radius: 4px; overflow: hidden; }\n.picker-img-card:hover { border-color: #409EFF; }\n.picker-img-card .el-image { width: 100%; height: 80px; display: block; }\n.picker-img-name { font-size: 12px; padding: 4px; text-align: center; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; color: #606266; }\n</style>\n"],"version":3}