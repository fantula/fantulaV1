{"file":"index-BRVMzk_h.js","mappings":"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","names":["_ssrRenderAttrs","_mergeProps","_unref","Refresh","_createVNode","_createTextVNode","_toDisplayString","_openBlock","_createBlock","_createCommentVNode","_push","Check","_withCtx","Loading","_Fragment"],"sources":["../../../../pages/_mgmt_9Xfa3/orders/refund/index.vue"],"sourcesContent":["<template>\n  <div class=\"page-container\">\n    <PageTipHeader title=\"退款管理\" description=\"显示退款中和已退款的订单，审核用户的退款申请\" />\n\n    <AdminActionCard>\n      <template #actions>\n        <el-select v-model=\"statusFilter\" placeholder=\"状态筛选\" style=\"width: 120px; margin-right: 12px;\">\n          <el-option label=\"全部\" value=\"\" />\n          <el-option label=\"退款中\" value=\"refunding\" />\n          <el-option label=\"已退款\" value=\"refunded\" />\n        </el-select>\n        <el-button @click=\"loadList\" :icon=\"Refresh\">刷新</el-button>\n      </template>\n    </AdminActionCard>\n\n    <AdminDataTable\n      :data=\"list\"\n      :loading=\"loading\"\n      :total=\"total\"\n      v-model:current-page=\"page\"\n      v-model:page-size=\"pageSize\"\n      @page-change=\"loadList\"\n    >\n      <!-- 订单号 -->\n      <el-table-column label=\"订单号\" min-width=\"150\">\n        <template #default=\"{ row }\">\n          <span class=\"mono-text\" @click=\"handleCopy(row.order_no)\">{{ row.order_no }}</span>\n        </template>\n      </el-table-column>\n\n      <!-- 用户ID+头像 -->\n      <el-table-column label=\"用户\" min-width=\"140\">\n        <template #default=\"{ row }\">\n          <div class=\"user-cell\">\n            <el-avatar :size=\"28\" :src=\"row._profile?.avatar || DEFAULT_AVATAR\" />\n            <span class=\"uid-text\">{{ row._profile?.uid || '无UID' }}</span>\n          </div>\n        </template>\n      </el-table-column>\n\n      <!-- 商品名称+头图 -->\n      <el-table-column label=\"商品\" min-width=\"200\">\n        <template #default=\"{ row }\">\n          <div class=\"product-cell\">\n            <img v-if=\"row.product_snapshot?.image\" :src=\"row.product_snapshot.image\" class=\"product-thumb\" />\n            <span>{{ row.product_snapshot?.product_name || '未知商品' }}</span>\n          </div>\n        </template>\n      </el-table-column>\n\n      <!-- SKU规格 -->\n      <el-table-column label=\"规格\" min-width=\"140\">\n        <template #default=\"{ row }\">\n          <span class=\"spec-text\">{{ formatSpec(row.sku_snapshot?.spec_combination) }}</span>\n        </template>\n      </el-table-column>\n\n      <!-- 数量 -->\n      <el-table-column label=\"数量\" width=\"60\" align=\"center\">\n        <template #default=\"{ row }\">\n          <span>{{ row.quantity || 1 }}</span>\n        </template>\n      </el-table-column>\n\n      <!-- 总支付 -->\n      <el-table-column label=\"总支付\" width=\"90\">\n        <template #default=\"{ row }\">\n          <span class=\"amount\">{{ formatPrice(row.total_amount) }}</span>\n        </template>\n      </el-table-column>\n\n      <!-- 优惠券抵扣 -->\n      <el-table-column label=\"优惠券\" width=\"80\">\n        <template #default=\"{ row }\">\n          <span v-if=\"row.coupon_snapshot?.discount_amount\" class=\"discount\">\n            -{{ formatPrice(row.coupon_snapshot.discount_amount) }}\n          </span>\n          <span v-else class=\"no-discount\">-</span>\n        </template>\n      </el-table-column>\n\n      <!-- 状态 -->\n      <el-table-column label=\"状态\" width=\"90\">\n        <template #default=\"{ row }\">\n          <el-tag :type=\"getStatusType(row.status) || 'info'\" size=\"small\">{{ getStatusText(row.status) }}</el-tag>\n        </template>\n      </el-table-column>\n\n      <!-- 创建时间 -->\n      <el-table-column label=\"创建时间\" width=\"150\">\n        <template #default=\"{ row }\">\n          {{ formatTime(row.created_at) }}\n        </template>\n      </el-table-column>\n\n      <!-- 到期时间 -->\n      <el-table-column label=\"到期时间\" width=\"150\">\n        <template #default=\"{ row }\">\n          {{ formatTime(row.end_time || row.expires_at) }}\n        </template>\n      </el-table-column>\n\n      <!-- 操作 -->\n      <el-table-column label=\"操作\" width=\"120\" fixed=\"right\" align=\"center\">\n        <template #default=\"{ row }\">\n          <el-button \n            link \n            type=\"primary\" \n            @click=\"handleViewRefund(row)\"\n          >\n            {{ row.status === 'refunding' ? '审核' : '查看' }}\n          </el-button>\n        </template>\n      </el-table-column>\n    </AdminDataTable>\n\n    <!-- 退款审核弹窗 -->\n    <el-dialog v-model=\"refundDialogVisible\" title=\"退款申请审核\" width=\"600px\" destroy-on-close>\n      <div v-if=\"refundLoading\" class=\"loading-state\">\n        <el-icon class=\"is-loading\"><Loading /></el-icon> 正在加载退款申请...\n      </div>\n      \n      <template v-else-if=\"currentRequest\">\n        <el-alert\n          v-if=\"currentRequest.status === 'pending'\"\n          title=\"该订单等待退款审核\"\n          type=\"warning\"\n          show-icon\n          :closable=\"false\"\n          class=\"mb-4\"\n        />\n        <el-alert\n          v-if=\"currentRequest.status === 'approved'\"\n          title=\"该订单已完成退款\"\n          type=\"success\"\n          show-icon\n          :closable=\"false\"\n          class=\"mb-4\"\n        />\n        <el-alert\n          v-if=\"currentRequest.status === 'rejected'\"\n          title=\"该退款申请已被拒绝\"\n          type=\"danger\"\n          show-icon\n          :closable=\"false\"\n          class=\"mb-4\"\n        />\n        \n        <!-- 订单信息 -->\n        <el-descriptions title=\"订单信息\" :column=\"2\" border class=\"mb-4\">\n          <el-descriptions-item label=\"订单号\">{{ currentOrder?.order_no }}</el-descriptions-item>\n          <el-descriptions-item label=\"订单金额\">\n            <span class=\"amount\">¥{{ currentOrder?.total_amount }}</span>\n          </el-descriptions-item>\n          <el-descriptions-item label=\"商品\">{{ currentOrder?.product_snapshot?.product_name }}</el-descriptions-item>\n          <el-descriptions-item label=\"原状态\">{{ currentRequest?.original_status }}</el-descriptions-item>\n        </el-descriptions>\n\n        <!-- 申请信息 -->\n        <el-descriptions title=\"退款申请\" :column=\"1\" border>\n          <el-descriptions-item label=\"退款原因\">{{ currentRequest.reason }}</el-descriptions-item>\n          <el-descriptions-item label=\"补充说明\" v-if=\"currentRequest.reason_detail\">\n            {{ currentRequest.reason_detail }}\n          </el-descriptions-item>\n          <el-descriptions-item label=\"申请时间\">{{ formatTime(currentRequest.created_at) }}</el-descriptions-item>\n          <el-descriptions-item label=\"申请状态\">\n            <el-tag :type=\"getRequestStatusType(currentRequest.status)\">\n              {{ getRequestStatusName(currentRequest.status) }}\n            </el-tag>\n          </el-descriptions-item>\n        </el-descriptions>\n\n        <!-- 已审核结果 -->\n        <template v-if=\"currentRequest.status !== 'pending'\">\n          <el-descriptions title=\"审核结果\" :column=\"1\" border class=\"mt-4\">\n            <el-descriptions-item label=\"退款金额\" v-if=\"currentRequest.refund_amount\">\n              <span class=\"amount\">¥{{ currentRequest.refund_amount }}</span>\n            </el-descriptions-item>\n            <el-descriptions-item label=\"管理员备注\" v-if=\"currentRequest.admin_note\">\n              {{ currentRequest.admin_note }}\n            </el-descriptions-item>\n            <el-descriptions-item label=\"审核时间\">{{ formatTime(currentRequest.reviewed_at) }}</el-descriptions-item>\n          </el-descriptions>\n        </template>\n\n        <!-- 审核操作区 (仅 pending 状态) -->\n        <template v-if=\"currentRequest.status === 'pending'\">\n          <div class=\"review-form mt-4\">\n            <div class=\"form-row\">\n              <label>退款金额：</label>\n              <el-input-number \n                v-model=\"refundAmount\" \n                :min=\"0\" \n                :max=\"parseFloat(currentOrder?.total_amount || 0)\"\n                :precision=\"2\"\n                controls-position=\"right\"\n                style=\"width: 150px;\"\n              />\n              <span class=\"hint\">（订单金额: ¥{{ currentOrder?.total_amount }}）</span>\n            </div>\n            <div class=\"form-row\">\n              <label>管理员备注：</label>\n              <el-input \n                v-model=\"adminNote\" \n                type=\"textarea\" \n                :rows=\"2\" \n                placeholder=\"审核备注（选填）\"\n                style=\"flex: 1;\"\n              />\n            </div>\n          </div>\n        </template>\n      </template>\n\n      <div v-else class=\"empty-receipt\">\n        <el-empty description=\"未找到退款申请记录\" :image-size=\"80\" />\n      </div>\n\n      <template #footer>\n        <template v-if=\"currentRequest?.status === 'pending'\">\n          <div class=\"dialog-footer-actions\">\n            <el-button @click=\"handleReview(false)\" :loading=\"refundSubmitting\">\n              拒绝退款\n            </el-button>\n            <el-button type=\"primary\" @click=\"handleReview(true)\" :loading=\"refundSubmitting\" :icon=\"Check\">\n              同意退款\n            </el-button>\n          </div>\n        </template>\n        <template v-else>\n          <el-button @click=\"refundDialogVisible = false\">关闭</el-button>\n        </template>\n      </template>\n    </el-dialog>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, watch, onMounted } from 'vue'\nimport { Refresh, Loading, Check } from '@element-plus/icons-vue'\nimport { ElMessage, ElMessageBox } from 'element-plus'\nimport PageTipHeader from '@/components/admin/base/PageTipHeader.vue'\nimport AdminActionCard from '@/components/admin/base/AdminActionCard.vue'\nimport AdminDataTable from '@/components/admin/base/AdminDataTable.vue'\nimport { getAdminSupabaseClient } from '@/utils/supabase-admin'\nimport { DEFAULT_AVATAR } from '@/utils/constants'\nimport { useBizConfig } from '@/composables/common/useBizConfig'\nimport { useBizFormat } from '@/composables/common/useBizFormat'\n\ndefinePageMeta({ ssr: false })\n\nconst { formatPrice, formatDate } = useBizFormat()\nconst { getOrderStatusLabel, getOrderStatusType } = useBizConfig()\n\nconst getStatusText = (status: string) => getOrderStatusLabel(status)\nconst getStatusType = (status: string) => getOrderStatusType(status)\nconst formatTime = (time: string) => formatDate(time)\n\n// Format spec combination\nfunction formatSpec(spec: any): string {\n  if (!spec) return '-'\n  if (typeof spec === 'string') return spec\n  if (typeof spec === 'object') {\n    return Object.entries(spec).map(([k, v]) => `${k}: ${v}`).join(' / ')\n  }\n  return '-'\n}\n\n// List state\nconst loading = ref(false)\nconst list = ref<any[]>([])\nconst total = ref(0)\nconst page = ref(1)\nconst pageSize = ref(20)\nconst statusFilter = ref('')\n\n// Dialog state\nconst refundDialogVisible = ref(false)\nconst refundLoading = ref(false)\nconst refundSubmitting = ref(false)\nconst currentOrder = ref<any>(null)\nconst currentRequest = ref<any>(null)\nconst refundAmount = ref(0)\nconst adminNote = ref('')\n\nasync function loadList() {\n  loading.value = true\n  try {\n    const client = getAdminSupabaseClient()\n    \n    let query = client\n      .from('orders')\n      .select(`\n        *,\n        _profile:profiles!orders_user_id_fkey(id, uid, avatar)\n      `, { count: 'exact' })\n    \n    if (statusFilter.value) {\n      query = query.eq('status', statusFilter.value)\n    } else {\n      query = query.in('status', ['refunding', 'refunded'])\n    }\n    \n    const { data, error, count } = await query\n      .order('created_at', { ascending: false })\n      .range((page.value - 1) * pageSize.value, page.value * pageSize.value - 1)\n\n    if (!error && data) {\n      list.value = data\n      total.value = count || 0\n    }\n  } catch (e) {\n    console.error('加载订单失败:', e)\n  }\n  loading.value = false\n}\n\nwatch([page, pageSize, statusFilter], () => loadList())\n\nfunction handleCopy(text: string) {\n  if (!text) return\n  navigator.clipboard.writeText(text)\n  ElMessage.success('已复制')\n}\n\n// View refund request\nasync function handleViewRefund(order: any) {\n  currentOrder.value = order\n  refundDialogVisible.value = true\n  currentRequest.value = null\n  refundAmount.value = parseFloat(order.total_amount || 0)\n  adminNote.value = ''\n  \n  refundLoading.value = true\n  try {\n    const client = getAdminSupabaseClient()\n    const { data, error } = await client\n      .from('refund_requests')\n      .select('*')\n      .eq('order_id', order.id)\n      .order('created_at', { ascending: false })\n      .limit(1)\n      .single()\n    \n    if (!error && data) {\n      currentRequest.value = data\n    }\n  } catch (e: any) {\n    console.error('获取退款申请失败:', e)\n  } finally {\n    refundLoading.value = false\n  }\n}\n\nconst getRequestStatusName = (status: string) => {\n  const map: Record<string, string> = {\n    pending: '待审核',\n    approved: '已通过',\n    rejected: '已拒绝'\n  }\n  return map[status] || status\n}\n\nconst getRequestStatusType = (status: string) => {\n  const map: Record<string, string> = {\n    pending: 'warning',\n    approved: 'success',\n    rejected: 'danger'\n  }\n  return map[status] || 'info'\n}\n\n// Review action\nasync function handleReview(approved: boolean) {\n  if (!currentRequest.value) return\n  \n  if (approved && refundAmount.value <= 0) {\n    ElMessage.warning('请填写退款金额')\n    return\n  }\n  \n  const action = approved ? '同意退款' : '拒绝退款'\n  try {\n    await ElMessageBox.confirm(\n      approved \n        ? `确定退款 ¥${refundAmount.value} 给用户？` \n        : '确定拒绝此退款申请？订单将恢复原状态。',\n      action,\n      { confirmButtonText: '确定', cancelButtonText: '取消' }\n    )\n  } catch {\n    return\n  }\n  \n  refundSubmitting.value = true\n  \n  try {\n    const client = getAdminSupabaseClient()\n    const { data, error } = await client.rpc('admin_review_refund', {\n      p_request_id: currentRequest.value.id,\n      p_approved: approved,\n      p_refund_amount: approved ? refundAmount.value : null,\n      p_admin_note: adminNote.value || null\n    })\n    \n    if (error) throw error\n    \n    if (!data?.success) {\n      ElMessage.error(data?.error || '操作失败')\n      return\n    }\n    \n    ElMessage.success(data?.message || '操作成功')\n    refundDialogVisible.value = false\n    loadList()\n    \n  } catch (e: any) {\n    ElMessage.error(e.message || '操作失败')\n  } finally {\n    refundSubmitting.value = false\n  }\n}\n\nonMounted(() => loadList())\n</script>\n\n<style scoped>\n.page-container { display: flex; flex-direction: column; gap: 16px; }\n.mono-text { font-family: 'Monaco', 'Consolas', monospace; font-size: 12px; color: #94a3b8; cursor: pointer; }\n.mono-text:hover { color: #60a5fa; }\n.user-cell { display: flex; align-items: center; gap: 8px; }\n.uid-text { font-size: 12px; color: #94a3b8; font-family: 'Monaco', monospace; }\n.product-cell { display: flex; align-items: center; gap: 8px; }\n.product-thumb { width: 36px; height: 36px; border-radius: 6px; object-fit: cover; background: #1e293b; }\n.spec-text { font-size: 12px; color: #94a3b8; }\n.amount { font-weight: 600; color: #22c55e; }\n.discount { font-size: 12px; color: #f59e0b; }\n.no-discount { color: #475569; }\n\n/* Dialog Styles */\n.loading-state, .empty-receipt { padding: 40px; text-align: center; color: var(--el-text-color-secondary); }\n.mb-4 { margin-bottom: 20px; }\n.mt-4 { margin-top: 20px; }\n\n.review-form {\n  padding: 16px;\n  background: var(--el-fill-color-light);\n  border-radius: 8px;\n}\n\n.form-row {\n  display: flex;\n  align-items: center;\n  gap: 12px;\n  margin-bottom: 12px;\n}\n\n.form-row:last-child { margin-bottom: 0; }\n\n.form-row label {\n  width: 90px;\n  color: var(--el-text-color-regular);\n  flex-shrink: 0;\n}\n\n.form-row .hint {\n  font-size: 12px;\n  color: var(--el-text-color-secondary);\n}\n\n.dialog-footer-actions {\n  display: flex;\n  justify-content: flex-end;\n  gap: 12px;\n}\n</style>\n"],"version":3}