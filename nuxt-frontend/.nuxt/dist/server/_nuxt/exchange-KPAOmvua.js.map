{"version":3,"file":"exchange-KPAOmvua.js","sources":["../../../../components/modal/base/BaseResultModal.vue","../../../../components/exchange/coupon/CouponBalance.vue","../../../../components/exchange/coupon/CouponFlat.vue","../../../../components/exchange/coupon/CouponProduct.vue","../../../../pages/profile/exchange.vue"],"sourcesContent":["<template>\n  <BaseModal\n    :visible=\"visible\"\n    :title=\"title\"\n    width=\"500px\"\n    :show-footer=\"false\"\n    :show-mascot=\"showMascot\"\n    :mascot-position=\"mascotPosition\"\n    @close=\"handleClose\"\n  >\n    <div class=\"result-body\">\n      <!-- Icon -->\n      <div class=\"result-icon\" :class=\"iconClass\">\n        <slot name=\"icon\">\n          <span v-if=\"type === 'success'\">✓</span>\n          <span v-else-if=\"type === 'error'\">✕</span>\n          <span v-else-if=\"type === 'warning'\">!</span>\n          <span v-else>i</span>\n        </slot>\n      </div>\n      \n      <!-- Message -->\n      <div class=\"result-message\" v-if=\"message\">{{ message }}</div>\n      \n      <!-- Content -->\n      <div class=\"result-content\" v-if=\"$slots.default\">\n        <slot></slot>\n      </div>\n\n      <!-- Actions (Inside body for result modals usually, centered) -->\n      <div class=\"result-actions\">\n        <button \n          v-if=\"showSecondary\"\n          class=\"btn btn-secondary\"\n          @click=\"handleSecondary\"\n        >\n          {{ secondaryText }}\n        </button>\n        <button \n          class=\"btn\" \n          :class=\"primaryBtnClass\"\n          @click=\"handlePrimary\"\n        >\n          {{ primaryText }}\n        </button>\n      </div>\n    </div>\n  </BaseModal>\n</template>\n\n<script setup lang=\"ts\">\nimport { computed } from 'vue'\nimport BaseModal from '@/components/base/BaseModal.vue'\n\nconst props = withDefaults(defineProps<{\n  visible: boolean\n  type?: 'success' | 'error' | 'warning' | 'info'\n  title?: string\n  message?: string\n  primaryText?: string\n  secondaryText?: string\n  showSecondary?: boolean\n  showMascot?: boolean\n  mascotPosition?: 'left' | 'right' | 'bottom'\n}>(), {\n  type: 'success',\n  title: '操作成功',\n  primaryText: '确定',\n  secondaryText: '返回',\n  showSecondary: false,\n  showMascot: false,\n  mascotPosition: 'bottom'\n})\n\nconst emit = defineEmits<{\n  (e: 'close'): void\n  (e: 'primary'): void\n  (e: 'secondary'): void\n  (e: 'update:visible', value: boolean): void\n}>()\n\nconst iconClass = computed(() => `icon-${props.type}`)\n\nconst primaryBtnClass = computed(() => ({\n  'btn-success': props.type === 'success',\n  'btn-danger': props.type === 'error',\n  'btn-warning': props.type === 'warning',\n  'btn-primary': props.type === 'info'\n}))\n\nconst handleClose = () => {\n  emit('close')\n  emit('update:visible', false)\n}\n\nconst handlePrimary = () => {\n  emit('primary')\n  handleClose()\n}\n\nconst handleSecondary = () => {\n  emit('secondary')\n}\n</script>\n\n<style scoped>\n.result-body {\n  text-align: center;\n  padding: 10px 0;\n}\n\n.result-icon {\n  width: 72px; height: 72px; border-radius: 50%;\n  margin: 0 auto 24px;\n  display: flex; align-items: center; justify-content: center;\n  font-size: 36px; font-weight: 700;\n}\n.result-icon.icon-success { background: linear-gradient(135deg, #22C55E 0%, #16A34A 100%); color: #fff; box-shadow: 0 8px 24px rgba(34, 197, 94, 0.3); }\n.result-icon.icon-error { background: linear-gradient(135deg, #EF4444 0%, #DC2626 100%); color: #fff; box-shadow: 0 8px 24px rgba(239, 68, 68, 0.3); }\n.result-icon.icon-warning { background: linear-gradient(135deg, #F59E0B 0%, #D97706 100%); color: #fff; box-shadow: 0 8px 24px rgba(245, 158, 11, 0.3); }\n.result-icon.icon-info { background: linear-gradient(135deg, #3B82F6 0%, #2563EB 100%); color: #fff; box-shadow: 0 8px 24px rgba(59, 130, 246, 0.3); }\n\n.result-message {\n  font-size: 16px; color: #E2E8F0; line-height: 1.6; margin-bottom: 24px;\n}\n\n.result-content {\n  margin-bottom: 20px;\n}\n\n.result-actions {\n  display: flex;\n  gap: 12px;\n  justify-content: center;\n  margin-top: 10px;\n}\n\n.btn {\n  padding: 12px 32px;\n  border-radius: 10px;\n  font-size: 15px; font-weight: 600;\n  cursor: pointer;\n  transition: all 0.2s;\n  border: none;\n  min-width: 120px;\n}\n\n.btn-secondary {\n  background: rgba(255, 255, 255, 0.08);\n  color: #94A3B8;\n  border: 1px solid rgba(255, 255, 255, 0.1);\n}\n.btn-secondary:hover { background: rgba(255, 255, 255, 0.12); color: #F1F5F9; }\n\n.btn-success { background: linear-gradient(135deg, #22C55E 0%, #16A34A 100%); color: #fff; }\n.btn-danger { background: linear-gradient(135deg, #EF4444 0%, #DC2626 100%); color: #fff; }\n.btn-warning { background: linear-gradient(135deg, #F59E0B 0%, #D97706 100%); color: #fff; }\n.btn-primary { background: linear-gradient(135deg, #3B82F6 0%, #2563EB 100%); color: #fff; }\n</style>\n","<template>\n  <BaseCouponTicket\n    color=\"gold\"\n    :value=\"couponData.coupon.value\"\n    unit=\"点\"\n    :title=\"couponData.coupon.name\"\n    desc=\"直接存入余额，可购买任意服务\"\n    type-label=\"额度券\"\n    :expiry-text=\"expiryText\"\n    :status=\"status\"\n    :disabled=\"isExpired\"\n    action-text=\"立即充值\"\n    @click=\"handleClick\"\n    @action=\"handleAction\"\n  />\n</template>\n\n<script setup lang=\"ts\">\nimport { computed } from 'vue'\nimport BaseCouponTicket from './BaseCouponTicket.vue'\nimport type { UserCoupon } from '@/api/coupon'\n\nconst props = defineProps<{\n  couponData: UserCoupon\n  isExpired?: boolean\n}>()\n\nconst emit = defineEmits(['use', 'click'])\n\nconst status = computed(() => {\n  if (props.couponData.status === 'used') return 'used'\n  if (props.isExpired || props.couponData.status === 'expired') return 'expired'\n  return 'unused'\n})\n\nconst expiryText = computed(() => {\n  if (!props.couponData.coupon.end_date) return '永久有效'\n  const date = new Date(props.couponData.coupon.end_date)\n  return `有效期至 ${date.getFullYear()}.${String(date.getMonth()+1).padStart(2,'0')}.${String(date.getDate()).padStart(2,'0')}`\n})\n\nconst handleAction = () => {\n  emit('use', props.couponData)\n}\n\nconst handleClick = () => {\n  emit('click', props.couponData)\n}\n</script>\n","<template>\n  <BaseCouponTicket\n    color=\"purple\"\n    :value=\"couponData.coupon.value\"\n    unit=\"点\"\n    :title=\"couponData.coupon.name\"\n    :desc=\"conditionText\"\n    type-label=\"立减券\"\n    :expiry-text=\"expiryText\"\n    :status=\"status\"\n    :disabled=\"isExpired\"\n    action-text=\"去使用\"\n    @click=\"handleClick\"\n    @action=\"handleAction\"\n  />\n</template>\n\n<script setup lang=\"ts\">\nimport { computed } from 'vue'\nimport BaseCouponTicket from './BaseCouponTicket.vue'\nimport type { UserCoupon } from '@/api/coupon'\nimport { useRouter } from 'vue-router'\n\nconst props = defineProps<{\n  couponData: UserCoupon\n  isExpired?: boolean\n}>()\n\nconst emit = defineEmits(['click'])\nconst router = useRouter()\n\nconst status = computed(() => {\n  if (props.couponData.status === 'used') return 'used'\n  if (props.isExpired || props.couponData.status === 'expired') return 'expired'\n  return 'unused'\n})\n\nconst conditionText = computed(() => {\n  const min = props.couponData.coupon.min_usage\n  return min && min > 0 ? `满 ${min} 点可用` : '无门槛使用'\n})\n\nconst expiryText = computed(() => {\n  if (!props.couponData.coupon.end_date) return '永久有效'\n  const date = new Date(props.couponData.coupon.end_date)\n  return `有效期至 ${date.getFullYear()}.${String(date.getMonth()+1).padStart(2,'0')}.${String(date.getDate()).padStart(2,'0')}`\n})\n\nconst handleAction = () => {\n  // Flat coupons usually redirect to shop\n  router.push('/')\n}\n\nconst handleClick = () => {\n  emit('click', props.couponData)\n}\n</script>\n","<template>\n  <BaseCouponTicket\n    color=\"cyan\"\n    :value=\"displayValue\"\n    :unit=\"displayUnit\"\n    :title=\"couponData.coupon.name\"\n    :desc=\"displayDesc\"\n    type-label=\"商品券\"\n    :expiry-text=\"expiryText\"\n    :status=\"status\"\n    :disabled=\"isExpired\"\n    action-text=\"去购买\"\n    @click=\"handleClick\"\n    @action=\"handleAction\"\n  >\n    <!-- Custom Value Slot if needed, but passing props is cleaner for BaseTicket -->\n  </BaseCouponTicket>\n</template>\n\n<script setup lang=\"ts\">\nimport { computed } from 'vue'\nimport BaseCouponTicket from './BaseCouponTicket.vue'\nimport type { UserCoupon } from '@/api/coupon'\nimport { useRouter } from 'vue-router'\n\nconst props = defineProps<{\n  couponData: UserCoupon\n  isExpired?: boolean\n}>()\n\nconst emit = defineEmits(['click'])\nconst router = useRouter()\n\nconst status = computed(() => {\n  if (props.couponData.status === 'used') return 'used'\n  if (props.isExpired || props.couponData.status === 'expired') return 'expired'\n  return 'unused'\n})\n\nconst expiryText = computed(() => {\n  if (!props.couponData.coupon.end_date) return '永久有效'\n  const date = new Date(props.couponData.coupon.end_date)\n  return `有效期至 ${date.getFullYear()}.${String(date.getMonth()+1).padStart(2,'0')}.${String(date.getDate()).padStart(2,'0')}`\n})\n\n// === Display Logic ===\n\n// If value is 0, we assume it's a \"Free Exchange\" or \"Special Item\" coupon.\n// Show \"兑换\" instead of \"0\".\nconst displayValue = computed(() => {\n  const val = props.couponData.coupon.value\n  if (!val || Number(val) === 0) return '兑换'\n  return val\n})\n\n// Hide unit if it's text \"兑换\"\nconst displayUnit = computed(() => {\n  const val = props.couponData.coupon.value\n  if (!val || Number(val) === 0) return ''\n  return '点'\n})\n\n// Dynamic Description\nconst displayDesc = computed(() => {\n  // Check if we have a specific product name in 'extra' metadata\n  // Assuming couponData.coupon.extra may contain target info\n  const extra = (props.couponData.coupon as any).extra\n  if (extra && extra.product_name) {\n     return `${extra.product_name} 专用`\n  }\n  \n  // Fallback: User said \"change to [Product Name] available\"\n  // If we can't find it, use safer default.\n  return '指定商品专用优惠'\n})\n\nconst handleAction = () => {\n  const extra = (props.couponData.coupon as any).extra\n  if (extra && extra.product_id) {\n      router.push(`/product/${extra.product_id}`)\n  } else {\n      router.push('/')\n  }\n}\n\nconst handleClick = () => {\n  emit('click', props.couponData)\n}\n</script>\n","<template>\n  <div class=\"exchange-section\">\n    <!-- Header -->\n    <div class=\"section-header\">\n      <h2 class=\"section-title\">兑换中心</h2>\n      <div class=\"section-subtitle\">Digital Vault</div>\n    </div>\n\n    <!-- Redemption Area -->\n    <div class=\"redemption-card\">\n      <div class=\"redemption-header\">\n        <el-icon class=\"redemption-icon\"><Ticket /></el-icon>\n        <div class=\"redemption-title\">兑换优惠券</div>\n      </div>\n      <div class=\"redemption-body\">\n        <div class=\"input-group\">\n          <input \n            type=\"text\" \n            class=\"redemption-input\" \n            placeholder=\"请输入兑换码\" \n            v-model=\"redeemCode\" \n            @keyup.enter=\"redeem\"\n          />\n          <button class=\"redemption-btn\" @click=\"redeem\" :disabled=\"!redeemCode || redeeming\">\n            <span v-if=\"redeeming\">兑换中...</span>\n            <span v-else>立即兑换</span>\n          </button>\n        </div>\n        <p class=\"redemption-tips\">兑换码通常由16位字母和数字组成，区分大小写</p>\n      </div>\n    </div>\n\n    <!-- Tabs -->\n    <div class=\"coupon-tabs\">\n      <div \n        v-for=\"tab in tabs\" \n        :key=\"tab.key\"\n        :class=\"['tab-item', { active: activeTab === tab.key }]\"\n        @click=\"activeTab = tab.key\"\n      >\n        {{ tab.label }}\n        <div class=\"active-indicator\" v-if=\"activeTab === tab.key\"></div>\n      </div>\n    </div>\n\n    <!-- Coupon List (Scrollable Area) -->\n    <div class=\"coupon-list-container\">\n      <div class=\"coupon-list\">\n        <!-- Empty State -->\n        <div v-if=\"filteredCoupons.length === 0\" class=\"empty-state\">\n          <el-icon class=\"empty-icon\"><Ticket /></el-icon>\n          <div class=\"empty-text\">暂无优惠券</div>\n          <div class=\"empty-desc\">快去兑换或参与活动获取吧~</div>\n        </div>\n\n        <!-- Coupon Cards -->\n        <template v-else>\n          <component\n            v-for=\"coupon in filteredCoupons\"\n            :key=\"coupon.id\"\n            :is=\"getCouponComponent(coupon.coupon.type)\"\n            :coupon-data=\"coupon\"\n            :is-expired=\"isExpired(coupon) || coupon.status === 'expired'\"\n            @click=\"handleCouponClick\"\n            @use=\"handleUseBalance\"\n          />\n        </template>\n      </div>\n    </div>\n\n    <!-- Standard Modals -->\n    \n    <!-- 1. Balance Use Confirmation -->\n    <BaseConfirmModal\n      v-model:visible=\"showBalanceModal\"\n      title=\"确认使用额度券\"\n      confirm-text=\"确定兑换\"\n      :loading=\"processing\"\n      @confirm=\"confirmUseBalance\"\n      show-mascot\n    >\n      <div v-if=\"currentCoupon\" class=\"modal-text\">\n        确定要将这张面值为 <span class=\"highlight\">{{ currentCoupon.coupon.value }} 点</span> 的额度券兑换到您的账户余额中吗？\n        <br/><span class=\"warning\">兑换后优惠券将自动失效。</span>\n      </div>\n    </BaseConfirmModal>\n\n    <!-- 2. Delete Confirmation -->\n    <BaseConfirmModal\n      v-model:visible=\"showDeleteModal\"\n      title=\"删除优惠券\"\n      confirm-text=\"确认删除\"\n      confirm-type=\"danger\"\n      :loading=\"processing\"\n      @confirm=\"confirmDelete\"\n      show-mascot\n    >\n       <div class=\"modal-text\">确定要永久删除这张优惠券记录吗？此操作无法撤销。</div>\n    </BaseConfirmModal>\n\n    <!-- 3. Success Result -->\n    <BaseResultModal\n      v-model:visible=\"showSuccessModal\"\n      type=\"success\"\n      title=\"兑换成功\"\n      :message=\"successMessage\"\n      primary-text=\"太棒了\"\n      @primary=\"showSuccessModal = false\"\n      show-mascot\n      mascot-position=\"bottom\"\n    />\n\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, onMounted, computed, defineAsyncComponent } from 'vue'\nimport { useUserStore } from '@/stores/user'\nimport { useRouter } from 'vue-router'\nimport { couponApi, type UserCoupon } from '@/api/coupon'\nimport { ElMessage } from 'element-plus'\nimport { Ticket } from '@element-plus/icons-vue'\n\n// Import Base Modals\nimport BaseConfirmModal from '@/components/modal/base/BaseConfirmModal.vue'\nimport BaseResultModal from '@/components/modal/base/BaseResultModal.vue'\n\n// Import Coupon Components\nimport CouponBalance from '@/components/exchange/coupon/CouponBalance.vue'\nimport CouponFlat from '@/components/exchange/coupon/CouponFlat.vue'\nimport CouponProduct from '@/components/exchange/coupon/CouponProduct.vue'\n\nconst userStore = useUserStore()\nconst router = useRouter()\n\nconst couponList = ref<UserCoupon[]>([])\nconst redeemCode = ref('')\nconst redeeming = ref(false)\nconst activeTab = ref('all')\n\nconst tabs = [\n  { key: 'all', label: '全部' },\n  { key: 'unused', label: '未使用' },\n  { key: 'used', label: '已使用' },\n  { key: 'expired', label: '已过期' }\n]\n\n// Data Fetching\nconst fetchCoupons = async () => {\n    const res = await couponApi.getUserCoupons()\n    if (res.success && res.data) {\n        couponList.value = res.data\n    }\n}\nonMounted(fetchCoupons)\n\n// Filtering\nconst filteredCoupons = computed(() => {\n  const now = new Date()\n  let list = couponList.value\n\n  if (activeTab.value === 'used') {\n    return list.filter(c => c.status === 'used')\n  }\n  if (activeTab.value === 'expired') {\n    return list.filter(c => c.status === 'expired' || (c.coupon.end_date && new Date(c.coupon.end_date) < now))\n  }\n  if (activeTab.value === 'unused') {\n    return list.filter(c => c.status === 'unused' && (!c.coupon.end_date || new Date(c.coupon.end_date) >= now))\n  }\n  return list\n})\n\n// Component Mapping\nconst getCouponComponent = (type: string) => {\n  switch (type) {\n    case 'balance': return CouponBalance\n    case 'product': return CouponProduct\n    case 'flat': return CouponFlat\n    default: return CouponFlat // Fallback\n  }\n}\n\n// === Action Logic ===\n\nconst processing = ref(false)\nconst currentCoupon = ref<UserCoupon | null>(null)\n\n// 1. Redeem Code\nconst showSuccessModal = ref(false)\nconst redeemedCouponRaw = ref<{ name: string; type: string; value: number } | null>(null)\n\nconst successMessage = computed(() => {\n    const c = redeemedCouponRaw.value\n    if (!c) return '恭喜您获得一张优惠券！'\n    return `恭喜您获得 ${c.name}，包含 ${c.value}点 权益`\n})\n\nconst redeem = async () => {\n  if (!redeemCode.value || redeeming.value) return\n  redeeming.value = true\n  try {\n    const res = await couponApi.redeemCoupon(redeemCode.value)\n    if (res.success) {\n        redeemedCouponRaw.value = res.data\n        showSuccessModal.value = true\n        redeemCode.value = ''\n        fetchCoupons()\n    } else {\n        ElMessage.error(res.msg || '兑换失败')\n    }\n  } finally {\n    redeeming.value = false\n  }\n}\n\n// 2. Use Balance Coupon\nconst showBalanceModal = ref(false)\n\nconst handleUseBalance = (coupon: UserCoupon) => {\n    currentCoupon.value = coupon\n    showBalanceModal.value = true\n}\n\nconst confirmUseBalance = async () => {\n    if (!currentCoupon.value || processing.value) return\n    processing.value = true\n    try {\n      const res = await couponApi.useBalanceCoupon(currentCoupon.value.id)\n      if (res.success) {\n          ElMessage.success('金额已成功存入您的钱包')\n          showBalanceModal.value = false\n          fetchCoupons()\n          userStore.getUserInfo()\n      } else {\n          ElMessage.error(res.msg || '操作失败')\n      }\n    } finally {\n      processing.value = false\n    }\n}\n\n// 3. Delete / Cleanup\nconst showDeleteModal = ref(false)\n\nconst handleCouponClick = (coupon: UserCoupon) => {\n  // Only allow interact (delete) if used or expired\n  if (coupon.status === 'used' || coupon.status === 'expired' || isExpired(coupon)) {\n    currentCoupon.value = coupon\n    showDeleteModal.value = true\n  }\n}\n\nconst confirmDelete = async () => {\n  if (!currentCoupon.value || processing.value) return\n  processing.value = true\n    try {\n      const res = await couponApi.deleteUserCoupon(currentCoupon.value.id)\n      if (res.success) {\n          ElMessage.success('删除成功')\n          showDeleteModal.value = false\n          fetchCoupons()\n      } else {\n          ElMessage.error(res.msg || '删除失败')\n      }\n    } finally {\n      processing.value = false\n    }\n}\n\n// Helpers\nconst isExpired = (coupon: UserCoupon) => {\n  if (!coupon.coupon.end_date) return false\n  return new Date(coupon.coupon.end_date) < new Date()\n}\n</script>\n\n<style scoped>\n.exchange-section {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  padding: 0;\n  overflow: hidden;\n}\n\n/* Header */\n.section-header {\n  flex-shrink: 0;\n  display: flex;\n  align-items: baseline;\n  gap: 12px;\n  padding: 24px 32px;\n  border-bottom: 1px solid rgba(255, 255, 255, 0.05);\n}\n\n.section-title {\n  font-size: 20px; font-weight: 700; color: #fff; margin: 0;\n}\n.section-subtitle {\n  font-size: 12px; font-family: 'Outfit', sans-serif; color: #64748B;\n  text-transform: uppercase; letter-spacing: 1px;\n}\n\n/* Redemption Card */\n.redemption-card {\n  flex-shrink: 0;\n  margin: 24px 32px;\n  background: linear-gradient(135deg, rgba(249, 115, 22, 0.1) 0%, rgba(59, 130, 246, 0.1) 100%);\n  border: 1px solid rgba(249, 115, 22, 0.2);\n  border-radius: 20px;\n  overflow: hidden;\n}\n\n.redemption-header {\n  padding: 20px 24px; display: flex; align-items: center; gap: 12px;\n  border-bottom: 1px solid rgba(255, 255, 255, 0.05);\n}\n.redemption-icon { font-size: 24px; color: #F97316; }\n.redemption-title { font-size: 16px; font-weight: 600; color: #fff; }\n\n.redemption-body { padding: 24px; }\n.input-group { display: flex; gap: 12px; margin-bottom: 12px; }\n\n.redemption-input {\n  flex: 1; height: 48px; background: rgba(0, 0, 0, 0.3);\n  border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 12px; padding: 0 20px;\n  font-size: 15px; color: #fff; outline: none; transition: all 0.3s;\n}\n.redemption-input:focus { border-color: #F97316; box-shadow: 0 0 0 3px rgba(249, 115, 22, 0.1); }\n.redemption-input::placeholder { color: #64748B; }\n\n.redemption-btn {\n  height: 48px; padding: 0 32px; background: linear-gradient(135deg, #3B82F6 0%, #2563EB 100%);\n  border: none; border-radius: 12px; color: #fff; font-size: 15px; font-weight: 600;\n  cursor: pointer; transition: all 0.3s; white-space: nowrap;\n}\n.redemption-btn:hover:not(:disabled) {\n  background: linear-gradient(135deg, #F97316 0%, #EA580C 100%);\n  transform: translateY(-1px); box-shadow: 0 8px 20px rgba(249, 115, 22, 0.3);\n}\n.redemption-btn:disabled { opacity: 0.5; cursor: not-allowed; }\n.redemption-tips { font-size: 12px; color: #64748B; margin: 0; }\n\n/* Tabs */\n.coupon-tabs {\n  flex-shrink: 0; display: flex; gap: 32px; padding: 0 32px;\n  border-bottom: 1px solid rgba(255, 255, 255, 0.05);\n}\n.tab-item {\n  padding: 16px 0; color: #94A3B8; cursor: pointer; font-size: 14px; font-weight: 500;\n  position: relative; transition: all 0.3s;\n}\n.tab-item:hover { color: #CBD5E1; }\n.tab-item.active { color: #fff; font-weight: 600; }\n.active-indicator {\n  position: absolute; bottom: 0; left: 0; width: 100%; height: 2px;\n  background: #3B82F6; box-shadow: 0 0 10px rgba(59, 130, 246, 0.5); border-radius: 2px;\n}\n\n/* Coupon List */\n.coupon-list-container {\n  flex: 1; overflow-y: auto; padding: 24px 32px 64px 32px; min-height: 0;\n}\n.coupon-list { display: flex; flex-direction: column; gap: 16px; }\n\n/* Empty State */\n.empty-state {\n  display: flex; flex-direction: column; align-items: center; justify-content: center;\n  padding: 64px 0; color: #64748B;\n}\n.empty-icon { font-size: 48px; opacity: 0.3; margin-bottom: 16px; }\n.empty-text { font-size: 16px; font-weight: 600; color: #94A3B8; margin-bottom: 8px; }\n.empty-desc { font-size: 13px; opacity: 0.7; }\n\n/* Modal Text */\n.modal-text { font-size: 15px; color: #E2E8F0; line-height: 1.6; }\n.highlight { color: #FBBF24; font-weight: 600; }\n.warning { color: #F87171; font-size: 13px; margin-top: 8px; display: block; }\n</style>"],"names":["_push","_parent","$slots","_createVNode","_renderSlot","_openBlock","_createBlock","CouponBalance","CouponProduct","CouponFlat","_ssrRenderAttrs","_mergeProps","_ssrRenderComponent","_withCtx","_ssrRenderList","_ssrRenderVNode","_resolveDynamicComponent","_toDisplayString","_createTextVNode","_createCommentVNode"],"mappings":"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"}