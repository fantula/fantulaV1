{"file":"use-form-common-props-DlCG9pC5.js","mappings":";;;AAIK,MAAC,cAAc,MAAM;AACxB,QAAM,OAAO,OAAO,gBAAgB,MAAM;AAC1C,QAAM,WAAW,OAAO,oBAAoB,MAAM;AAClD,SAAO;AAAA,IACL;AAAA,IACA;AAAA,EACJ;AACA;AACK,MAAC,qBAAqB,CAAC,OAAO;AAAA,EACjC;AAAA,EACA;AAAA,EACA;AACF,MAAM;AACJ,MAAI,CAAC,qBAAqB;AACxB,0BAAsB,IAAI,KAAK;AAAA,EACjC;AACA,MAAI,CAAC,qBAAqB;AACxB,0BAAsB,IAAI,KAAK;AAAA,EACjC;AACiB,qBAAkB;AAcnC,QAAM,UAAU,IAAG;AAEnB,QAAM,sBAAsB,SAAS,MAAM;AACzC,QAAI;AACJ,WAAO,CAAC,EAAE,EAAE,MAAM,SAAS,MAAM,cAAc,mBAAmB,gBAAgB,cAAc,KAAK,gBAAgB,aAAa,OAAO,SAAS,GAAG,WAAW;AAAA,EAClK,CAAC;AAyBD,SAAO;AAAA,IACL;AAAA,IACA;AAAA,EACJ;AACA;ACrEK,MAAC,UAAU,CAAC,SAAS;AACxB,QAAM,KAAK,mBAAkB;AAC7B,SAAO,SAAS,MAAM;AACpB,QAAI,IAAI;AACR,YAAQ,MAAM,KAAK,MAAM,OAAO,SAAS,GAAG,UAAU,OAAO,SAAS,GAAG,WAAW,OAAO,SAAS,GAAG,IAAI;AAAA,EAC7G,CAAC;AACH;ACHK,MAAC,cAAc,CAAC,UAAU,SAAS,OAAO;AAC7C,QAAM,WAAW,IAAI,MAAM;AAC3B,QAAM,OAAO,OAAO,OAAO,WAAW,QAAQ,MAAM;AACpD,QAAM,eAAe,OAAO,SAAS,WAAW,cAAa;AAC7D,QAAM,OAAO,OAAO,OAAO,EAAE,MAAM,WAAW,OAAO,gBAAgB,MAAM;AAC3E,QAAM,WAAW,OAAO,WAAW,EAAE,MAAM,WAAW,OAAO,oBAAoB,MAAM;AACvF,SAAO;AAAA,IACL,MAAM,KAAK,SAAS,MAAM,QAAQ,MAAM,YAAY,OAAO,SAAS,SAAS,UAAU,QAAQ,OAAO,SAAS,KAAK,SAAS,aAAa,SAAS;AAAA,EACvJ;AACA;AACK,MAAC,kBAAkB,CAAC,aAAa;AACpC,QAAM,WAAW,QAAQ,UAAU;AACnC,QAAM,OAAO,OAAO,gBAAgB,MAAM;AAC1C,SAAO,SAAS,MAAM;AACpB,QAAI,IAAI,IAAI;AACZ,YAAQ,MAAM,MAAM,KAAK,SAAS,UAAU,OAAO,KAAK,MAAM,QAAQ,MAAM,OAAO,KAAK,QAAQ,OAAO,SAAS,KAAK,aAAa,OAAO,KAAK;AAAA,EAChJ,CAAC;AACH;","names":[],"sources":["../../../../node_modules/element-plus/es/components/form/src/hooks/use-form-item.mjs","../../../../node_modules/element-plus/es/hooks/use-prop/index.mjs","../../../../node_modules/element-plus/es/components/form/src/hooks/use-form-common-props.mjs"],"sourcesContent":["import { inject, ref, getCurrentInstance, computed, onMounted, watch, toRef, onUnmounted } from 'vue';\nimport { useId } from '../../../../hooks/use-id/index.mjs';\nimport { formContextKey, formItemContextKey } from '../constants.mjs';\n\nconst useFormItem = () => {\n  const form = inject(formContextKey, void 0);\n  const formItem = inject(formItemContextKey, void 0);\n  return {\n    form,\n    formItem\n  };\n};\nconst useFormItemInputId = (props, {\n  formItemContext,\n  disableIdGeneration,\n  disableIdManagement\n}) => {\n  if (!disableIdGeneration) {\n    disableIdGeneration = ref(false);\n  }\n  if (!disableIdManagement) {\n    disableIdManagement = ref(false);\n  }\n  const instance = getCurrentInstance();\n  const inLabel = () => {\n    let parent = instance == null ? void 0 : instance.parent;\n    while (parent) {\n      if (parent.type.name === \"ElFormItem\") {\n        return false;\n      }\n      if (parent.type.name === \"ElLabelWrap\") {\n        return true;\n      }\n      parent = parent.parent;\n    }\n    return false;\n  };\n  const inputId = ref();\n  let idUnwatch = void 0;\n  const isLabeledByFormItem = computed(() => {\n    var _a;\n    return !!(!(props.label || props.ariaLabel) && formItemContext && formItemContext.inputIds && ((_a = formItemContext.inputIds) == null ? void 0 : _a.length) <= 1);\n  });\n  onMounted(() => {\n    idUnwatch = watch(\n      [toRef(props, \"id\"), disableIdGeneration],\n      ([id, disableIdGeneration2]) => {\n        const newId = id != null ? id : !disableIdGeneration2 ? useId().value : void 0;\n        if (newId !== inputId.value) {\n          if ((formItemContext == null ? void 0 : formItemContext.removeInputId) && !inLabel()) {\n            inputId.value && formItemContext.removeInputId(inputId.value);\n            if (!(disableIdManagement == null ? void 0 : disableIdManagement.value) && !disableIdGeneration2 && newId) {\n              formItemContext.addInputId(newId);\n            }\n          }\n          inputId.value = newId;\n        }\n      },\n      { immediate: true }\n    );\n  });\n  onUnmounted(() => {\n    idUnwatch && idUnwatch();\n    if (formItemContext == null ? void 0 : formItemContext.removeInputId) {\n      inputId.value && formItemContext.removeInputId(inputId.value);\n    }\n  });\n  return {\n    isLabeledByFormItem,\n    inputId\n  };\n};\n\nexport { useFormItem, useFormItemInputId };\n//# sourceMappingURL=use-form-item.mjs.map\n","import { getCurrentInstance, computed } from 'vue';\n\nconst useProp = (name) => {\n  const vm = getCurrentInstance();\n  return computed(() => {\n    var _a, _b;\n    return (_b = (_a = vm == null ? void 0 : vm.proxy) == null ? void 0 : _a.$props) == null ? void 0 : _b[name];\n  });\n};\n\nexport { useProp };\n//# sourceMappingURL=index.mjs.map\n","import { ref, inject, computed, unref } from 'vue';\nimport { useGlobalSize } from '../../../../hooks/use-size/index.mjs';\nimport { useProp } from '../../../../hooks/use-prop/index.mjs';\nimport { formContextKey, formItemContextKey } from '../constants.mjs';\n\nconst useFormSize = (fallback, ignore = {}) => {\n  const emptyRef = ref(void 0);\n  const size = ignore.prop ? emptyRef : useProp(\"size\");\n  const globalConfig = ignore.global ? emptyRef : useGlobalSize();\n  const form = ignore.form ? { size: void 0 } : inject(formContextKey, void 0);\n  const formItem = ignore.formItem ? { size: void 0 } : inject(formItemContextKey, void 0);\n  return computed(\n    () => size.value || unref(fallback) || (formItem == null ? void 0 : formItem.size) || (form == null ? void 0 : form.size) || globalConfig.value || \"\"\n  );\n};\nconst useFormDisabled = (fallback) => {\n  const disabled = useProp(\"disabled\");\n  const form = inject(formContextKey, void 0);\n  return computed(() => {\n    var _a, _b, _c;\n    return (_c = (_b = (_a = disabled.value) != null ? _a : unref(fallback)) != null ? _b : form == null ? void 0 : form.disabled) != null ? _c : false;\n  });\n};\nconst useSize = useFormSize;\nconst useDisabled = useFormDisabled;\n\nexport { useDisabled, useFormDisabled, useFormSize, useSize };\n//# sourceMappingURL=use-form-common-props.mjs.map\n"],"version":3}