{"version":3,"file":"index-Dnn5iKIl.js","sources":["../../../../api/admin/fulfillment.ts","../../../../pages/_mgmt_9Xfa3/orders/recharge/index.vue"],"sourcesContent":["import { getAdminSupabaseClient } from '@/utils/supabase-admin'\nimport type { OrderFulfillment } from '@/types/order'\n\nexport interface FulfillmentResult {\n    success: boolean\n    data?: OrderFulfillment | null\n    error?: string\n}\n\nexport const adminFulfillmentApi = {\n    /**\n     * Get the latest fulfillment receipt for an order\n     */\n    async getOrderFulfillment(orderId: string): Promise<FulfillmentResult> {\n        try {\n            const client = getAdminSupabaseClient()\n            const { data, error } = await client\n                .from('order_fulfillments')\n                .select('*')\n                .eq('order_id', orderId)\n                .order('submitted_at', { ascending: false })\n                .limit(1)\n                .maybeSingle()\n\n            if (error) {\n                return { success: false, error: '获取回执失败: ' + error.message }\n            }\n\n            return { success: true, data: data as OrderFulfillment | null }\n        } catch (e: any) {\n            return { success: false, error: e.message || '系统异常' }\n        }\n    },\n\n    /**\n     * Approve a fulfillment receipt and update order status to active\n     */\n    async approveFulfillment(fulfillmentId: string, orderId: string): Promise<{ success: boolean; error?: string }> {\n        try {\n            const client = getAdminSupabaseClient()\n\n            // 1. Update fulfillment status\n            const { error: fulfillmentError } = await client\n                .from('order_fulfillments')\n                .update({\n                    status: 'approved',\n                    reviewed_at: new Date().toISOString()\n                })\n                .eq('id', fulfillmentId)\n\n            if (fulfillmentError) {\n                return { success: false, error: '更新回执失败: ' + fulfillmentError.message }\n            }\n\n            // 2. Update order status to 'active'\n            const { error: orderError } = await client\n                .from('orders')\n                .update({ status: 'active' })\n                .eq('id', orderId)\n\n            if (orderError) {\n                return { success: false, error: '更新订单状态失败: ' + orderError.message }\n            }\n\n            return { success: true }\n        } catch (e: any) {\n            return { success: false, error: e.message || '系统异常' }\n        }\n    },\n\n    /**\n     * Reject a fulfillment receipt\n     */\n    async rejectFulfillment(fulfillmentId: string, reason: string): Promise<{ success: boolean; error?: string }> {\n        try {\n            const client = getAdminSupabaseClient()\n            const { error } = await client\n                .from('order_fulfillments')\n                .update({\n                    status: 'rejected',\n                    reject_reason: reason,\n                    reviewed_at: new Date().toISOString()\n                })\n                .eq('id', fulfillmentId)\n\n            if (error) {\n                return { success: false, error: '驳回失败: ' + error.message }\n            }\n\n            return { success: true }\n        } catch (e: any) {\n            return { success: false, error: e.message || '系统异常' }\n        }\n    }\n}\n","<template>\n  <div class=\"page-container\">\n    <PageTipHeader title=\"虚拟充值订单\" description=\"显示所有虚拟充值类型的订单，可审核用户提交的回执信息\" />\n\n    <AdminActionCard>\n      <template #actions>\n        <el-button @click=\"loadList\" :icon=\"Refresh\">刷新</el-button>\n      </template>\n    </AdminActionCard>\n\n\n    <AdminDataTable\n      :data=\"list\"\n      :loading=\"loading\"\n      :total=\"total\"\n      v-model:current-page=\"page\"\n      v-model:page-size=\"pageSize\"\n      @page-change=\"loadList\"\n    >\n      <!-- 订单号 -->\n      <el-table-column label=\"订单号\" min-width=\"150\">\n        <template #default=\"{ row }\">\n          <span class=\"mono-text\" @click=\"handleCopy(row.order_no)\">{{ row.order_no }}</span>\n        </template>\n      </el-table-column>\n\n      <!-- 用户ID+头像 -->\n      <el-table-column label=\"用户\" min-width=\"140\">\n        <template #default=\"{ row }\">\n          <div class=\"user-cell\">\n            <el-avatar :size=\"28\" :src=\"row._profile?.avatar || DEFAULT_AVATAR\" />\n            <span class=\"uid-text\">{{ row._profile?.uid || '无UID' }}</span>\n          </div>\n        </template>\n      </el-table-column>\n\n      <!-- 商品名称+头图 -->\n      <el-table-column label=\"商品\" min-width=\"200\">\n        <template #default=\"{ row }\">\n          <div class=\"product-cell\">\n            <img v-if=\"row.product_snapshot?.image\" :src=\"row.product_snapshot.image\" class=\"product-thumb\" />\n            <span>{{ row.product_snapshot?.product_name || '未知商品' }}</span>\n          </div>\n        </template>\n      </el-table-column>\n\n      <!-- SKU规格 -->\n      <el-table-column label=\"规格\" min-width=\"140\">\n        <template #default=\"{ row }\">\n          <span class=\"spec-text\">{{ formatSpec(row.sku_snapshot?.spec_combination) }}</span>\n        </template>\n      </el-table-column>\n\n      <!-- 数量 -->\n      <el-table-column label=\"数量\" width=\"60\" align=\"center\">\n        <template #default=\"{ row }\">\n          <span>{{ row.quantity || 1 }}</span>\n        </template>\n      </el-table-column>\n\n      <!-- 总支付 -->\n      <el-table-column label=\"总支付\" width=\"90\">\n        <template #default=\"{ row }\">\n          <span class=\"amount\">{{ formatPrice(row.total_amount) }}</span>\n        </template>\n      </el-table-column>\n\n      <!-- 优惠券抵扣 -->\n      <el-table-column label=\"优惠券\" width=\"80\">\n        <template #default=\"{ row }\">\n          <span v-if=\"row.coupon_snapshot?.discount_amount\" class=\"discount\">\n            -{{ formatPrice(row.coupon_snapshot.discount_amount) }}\n          </span>\n          <span v-else class=\"no-discount\">-</span>\n        </template>\n      </el-table-column>\n\n      <!-- 状态 -->\n      <el-table-column label=\"状态\" width=\"90\">\n        <template #default=\"{ row }\">\n          <el-tag :type=\"getStatusType(row.status) || 'info'\" size=\"small\">{{ getStatusText(row.status) }}</el-tag>\n        </template>\n      </el-table-column>\n\n      <!-- 创建时间 -->\n      <el-table-column label=\"创建时间\" width=\"150\">\n        <template #default=\"{ row }\">\n          {{ formatTime(row.created_at) }}\n        </template>\n      </el-table-column>\n\n      <!-- 到期时间 -->\n      <el-table-column label=\"到期时间\" width=\"150\">\n        <template #default=\"{ row }\">\n          {{ formatTime(row.end_time || row.expires_at) }}\n        </template>\n      </el-table-column>\n\n      <!-- 操作 -->\n      <el-table-column label=\"操作\" width=\"120\" fixed=\"right\" align=\"center\">\n        <template #default=\"{ row }\">\n          <el-button \n            link \n            type=\"primary\" \n            @click=\"handleViewReceipt(row)\"\n          >\n            {{ row.status === 'pending_delivery' ? '审核回执' : '查看回执' }}\n          </el-button>\n        </template>\n      </el-table-column>\n    </AdminDataTable>\n\n    <!-- 回执审核弹窗 -->\n    <el-dialog v-model=\"receiptDialogVisible\" title=\"虚拟充值 - 回执审核\" width=\"600px\" destroy-on-close>\n      <div v-if=\"receiptLoading\" class=\"loading-state\">\n        <el-icon class=\"is-loading\"><Loading /></el-icon> 正在加载回执记录...\n      </div>\n      \n      <template v-else-if=\"currentReceipt\">\n        <el-alert\n          v-if=\"currentReceipt.status === 'submitted'\"\n          title=\"该订单等待发货审核\"\n          type=\"warning\"\n          show-icon\n          :closable=\"false\"\n          class=\"mb-4\"\n        />\n        <el-alert\n          v-if=\"currentReceipt.status === 'approved'\"\n          title=\"该订单已发货完成\"\n          type=\"success\"\n          show-icon\n          :closable=\"false\"\n          class=\"mb-4\"\n        />\n        \n        <el-descriptions title=\"提交信息\" :column=\"1\" border class=\"receipt-descriptions\">\n          <el-descriptions-item label=\"提交时间\">{{ formatTime(currentReceipt.submitted_at) }}</el-descriptions-item>\n          <el-descriptions-item label=\"当前状态\">\n            <el-tag :type=\"(getReceiptStatusType(currentReceipt.status) as any)\">\n              {{ getReceiptStatusName(currentReceipt.status) }}\n            </el-tag>\n          </el-descriptions-item>\n          \n          <template v-for=\"(value, key) in currentReceipt.payload\" :key=\"key\">\n            <el-descriptions-item :label=\"key\" label-class-name=\"bold-label\">\n              <span class=\"payload-value\">{{ value }}</span>\n            </el-descriptions-item>\n          </template>\n        </el-descriptions>\n\n        <!-- Reject Reason Display -->\n        <div v-if=\"currentReceipt.status === 'rejected'\" class=\"reject-reason-box\">\n          <p class=\"label\">驳回原因：</p>\n          <p class=\"content\">{{ currentReceipt.reject_reason }}</p>\n        </div>\n\n        <!-- Reject Reason Input (for action) -->\n        <div v-if=\"rejectMode\" class=\"reject-input-area\">\n          <p class=\"input-label\">请输入驳回原因通知用户：</p>\n          <el-input \n            v-model=\"rejectReason\" \n            type=\"textarea\" \n            :rows=\"3\" \n            placeholder=\"例如：账号密码错误，请重新提交...\" \n          />\n        </div>\n      </template>\n\n      <div v-else class=\"empty-receipt\">\n        <el-empty description=\"用户尚未提交充值回执\" :image-size=\"80\" />\n      </div>\n\n      <template #footer>\n        <!-- Action Buttons -->\n        <template v-if=\"currentReceipt?.status === 'submitted'\">\n          <div class=\"dialog-footer-actions\">\n            <template v-if=\"!rejectMode\">\n              <el-button @click=\"rejectMode = true\">驳回订单</el-button>\n              <el-button type=\"primary\" @click=\"handleApproveReceipt\" :loading=\"receiptSubmitting\" :icon=\"Check\">\n                确认发货 (通过)\n              </el-button>\n            </template>\n            <template v-else>\n              <el-button @click=\"rejectMode = false\">取消</el-button>\n              <el-button type=\"danger\" @click=\"handleRejectReceipt\" :loading=\"receiptSubmitting\">\n                确认驳回\n              </el-button>\n            </template>\n          </div>\n        </template>\n        <template v-else>\n          <el-button @click=\"receiptDialogVisible = false\">关闭</el-button>\n        </template>\n      </template>\n    </el-dialog>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, watch } from 'vue'\nimport { Refresh, Loading, Check } from '@element-plus/icons-vue'\nimport { ElMessage } from 'element-plus'\nimport PageTipHeader from '@/components/admin/base/PageTipHeader.vue'\nimport AdminActionCard from '@/components/admin/base/AdminActionCard.vue'\nimport AdminDataTable from '@/components/admin/base/AdminDataTable.vue'\nimport { useAdminOrderList } from '@/composables/admin/useAdminOrderList'\nimport { adminFulfillmentApi } from '@/api/admin/fulfillment'\nimport type { OrderFulfillment } from '@/types/order'\n\ndefinePageMeta({ ssr: false })\n\nconst {\n  loading,\n  list,\n  total,\n  page,\n  pageSize,\n  DEFAULT_AVATAR,\n  loadList,\n  handleCopy,\n  formatSpec,\n  getStatusText,\n  getStatusType,\n  formatTime,\n  formatPrice\n} = useAdminOrderList('virtual')\n\n// --- Receipt Review State ---\nconst receiptDialogVisible = ref(false)\nconst receiptLoading = ref(false)\nconst receiptSubmitting = ref(false)\nconst currentReceipt = ref<OrderFulfillment | null>(null)\nconst currentOrderId = ref('')\nconst rejectMode = ref(false)\nconst rejectReason = ref('')\n\n// 查看回执\nconst handleViewReceipt = async (order: any) => {\n  currentOrderId.value = order.id\n  receiptDialogVisible.value = true\n  rejectMode.value = false\n  rejectReason.value = ''\n  currentReceipt.value = null\n  \n  receiptLoading.value = true\n  try {\n    const result = await adminFulfillmentApi.getOrderFulfillment(order.id)\n    if (result.success) {\n      currentReceipt.value = result.data || null\n    } else {\n      ElMessage.error(result.error || '获取回执失败')\n    }\n  } catch (e: any) {\n    ElMessage.error(e.message || '系统异常')\n  } finally {\n    receiptLoading.value = false\n  }\n}\n\nconst getReceiptStatusName = (status: string) => {\n  const map: Record<string, string> = {\n    'submitted': '待审核',\n    'approved': '已通过',\n    'rejected': '已驳回',\n  }\n  return map[status] || status\n}\n\nconst getReceiptStatusType = (status: string) => {\n  const map: Record<string, string> = {\n    'submitted': 'warning',\n    'approved': 'success',\n    'rejected': 'danger',\n  }\n  return map[status] || 'info'\n}\n\n// 通过回执\nconst handleApproveReceipt = async () => {\n  if (!currentReceipt.value) return\n  receiptSubmitting.value = true\n\n  try {\n    const result = await adminFulfillmentApi.approveFulfillment(currentReceipt.value.id, currentOrderId.value)\n    \n    if (result.success) {\n      ElMessage.success('已通过，订单已标记为发货完成，状态变更为服务中')\n      receiptDialogVisible.value = false\n      loadList()\n    } else {\n      ElMessage.error(result.error || '操作失败')\n    }\n  } catch (e: any) {\n    ElMessage.error(e.message || '系统异常')\n  } finally {\n    receiptSubmitting.value = false\n  }\n}\n\n// 驳回回执\nconst handleRejectReceipt = async () => {\n  if (!currentReceipt.value) return\n  if (!rejectReason.value) {\n    ElMessage.warning('请填写驳回原因')\n    return\n  }\n  receiptSubmitting.value = true\n\n  try {\n    const result = await adminFulfillmentApi.rejectFulfillment(currentReceipt.value.id, rejectReason.value)\n\n    if (result.success) {\n      ElMessage.success('已驳回，用户将收到通知需重新提交')\n      receiptDialogVisible.value = false\n      loadList()\n    } else {\n      ElMessage.error(result.error || '操作失败')\n    }\n  } catch (e: any) {\n    ElMessage.error(e.message || '系统异常')\n  } finally {\n    receiptSubmitting.value = false\n  }\n}\n\n// Initial load & Watch pagination\nwatch([page, pageSize], () => loadList(), { immediate: true })\n</script>\n\n<style scoped>\n.page-container { display: flex; flex-direction: column; gap: 16px; }\n.mono-text { font-family: 'Monaco', 'Consolas', monospace; font-size: 12px; color: #94a3b8; cursor: pointer; }\n.mono-text:hover { color: #60a5fa; }\n.user-cell { display: flex; align-items: center; gap: 8px; }\n.uid-text { font-size: 12px; color: #94a3b8; font-family: 'Monaco', monospace; }\n.product-cell { display: flex; align-items: center; gap: 8px; }\n.product-thumb { width: 36px; height: 36px; border-radius: 6px; object-fit: cover; background: #1e293b; }\n.spec-text { font-size: 12px; color: #94a3b8; }\n.amount { font-weight: 600; color: #22c55e; }\n.discount { font-size: 12px; color: #f59e0b; }\n.no-discount { color: #475569; }\n\n/* Dialog Styles */\n.loading-state, .empty-receipt { padding: 40px; text-align: center; color: var(--el-text-color-secondary); }\n.receipt-descriptions :deep(.el-descriptions__label) { width: 100px; color: var(--el-text-color-secondary); }\n.bold-label { font-weight: 600 !important; }\n.payload-value { font-family: 'Roboto Mono', monospace; color: var(--el-text-color-primary); font-weight: 500; }\n\n.mb-4 { margin-bottom: 20px; }\n\n.reject-reason-box {\n  margin-top: 15px;\n  padding: 12px;\n  background: var(--el-color-danger-light-9);\n  border-radius: 4px;\n  border-left: 3px solid var(--el-color-danger);\n}\n.reject-reason-box .label { font-weight: 600; color: var(--el-color-danger); margin-bottom: 4px; font-size: 12px; }\n.reject-reason-box .content { color: var(--el-text-color-primary); font-size: 13px; line-height: 1.5; }\n\n.reject-input-area {\n  margin-top: 20px;\n  padding-top: 20px;\n  border-top: 1px dashed var(--el-border-color);\n}\n.input-label { margin-bottom: 8px; color: var(--el-text-color-primary); font-weight: 500; }\n\n.dialog-footer-actions {\n  display: flex;\n  justify-content: flex-end;\n  gap: 12px;\n}\n</style>\n"],"names":["_ssrRenderAttrs","_mergeProps","_unref","Refresh","_createTextVNode","_isRef","_toDisplayString","_createVNode","_openBlock","_createBlock","_createCommentVNode","_ssrInterpolate","Check","_ssrRenderComponent","_withCtx","_ssrRenderList","Loading","_Fragment"],"mappings":"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"}