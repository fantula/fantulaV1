{"file":"index-BBaj6l7n.js","mappings":"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","names":["_ssrRenderAttrs","_mergeProps","_unref","Refresh","_createTextVNode","_isRef","_toDisplayString","_createVNode","_openBlock","_createBlock","_createCommentVNode","_ssrInterpolate"],"sources":["../../../../pages/_mgmt_9Xfa3/orders/cdkey/index.vue"],"sourcesContent":["<template>\n  <div class=\"page-container\">\n    <PageTipHeader title=\"激活码订单\" description=\"显示所有一次性激活码类型的订单\" />\n\n    <AdminActionCard>\n      <template #actions>\n        <el-button @click=\"loadList\" :icon=\"Refresh\">刷新</el-button>\n      </template>\n    </AdminActionCard>\n\n    <AdminDataTable\n      :data=\"list\"\n      :loading=\"loading\"\n      :total=\"total\"\n      v-model:current-page=\"page\"\n      v-model:page-size=\"pageSize\"\n      @page-change=\"loadList\"\n    >\n      <!-- 订单号 -->\n      <el-table-column label=\"订单号\" min-width=\"150\">\n        <template #default=\"{ row }\">\n          <span class=\"mono-text\" @click=\"handleCopy(row.order_no)\">{{ row.order_no }}</span>\n        </template>\n      </el-table-column>\n\n      <!-- 用户ID+头像 -->\n      <el-table-column label=\"用户\" min-width=\"140\">\n        <template #default=\"{ row }\">\n          <div class=\"user-cell\">\n            <el-avatar :size=\"28\" :src=\"row._profile?.avatar || DEFAULT_AVATAR\" />\n            <span class=\"uid-text\">{{ row._profile?.uid || '无UID' }}</span>\n          </div>\n        </template>\n      </el-table-column>\n\n      <!-- 商品名称+头图 -->\n      <el-table-column label=\"商品\" min-width=\"200\">\n        <template #default=\"{ row }\">\n          <div class=\"product-cell\">\n            <img v-if=\"row.product_snapshot?.image\" :src=\"row.product_snapshot.image\" class=\"product-thumb\" />\n            <span>{{ row.product_snapshot?.product_name || '未知商品' }}</span>\n          </div>\n        </template>\n      </el-table-column>\n\n      <!-- SKU规格 -->\n      <el-table-column label=\"规格\" min-width=\"140\">\n        <template #default=\"{ row }\">\n          <span class=\"spec-text\">{{ formatSpec(row.sku_snapshot?.spec_combination) }}</span>\n        </template>\n      </el-table-column>\n\n      <!-- 数量 -->\n      <el-table-column label=\"数量\" width=\"60\" align=\"center\">\n        <template #default=\"{ row }\">\n          <span>{{ row.quantity || 1 }}</span>\n        </template>\n      </el-table-column>\n\n      <!-- 总支付 -->\n      <el-table-column label=\"总支付\" width=\"90\">\n        <template #default=\"{ row }\">\n          <span class=\"amount\">{{ formatPrice(row.total_amount) }}</span>\n        </template>\n      </el-table-column>\n\n      <!-- 优惠券抵扣 -->\n      <el-table-column label=\"优惠券\" width=\"80\">\n        <template #default=\"{ row }\">\n          <span v-if=\"row.coupon_snapshot?.discount_amount\" class=\"discount\">\n            -{{ formatPrice(row.coupon_snapshot.discount_amount) }}\n          </span>\n          <span v-else class=\"no-discount\">-</span>\n        </template>\n      </el-table-column>\n\n      <!-- 状态 -->\n      <el-table-column label=\"状态\" width=\"90\">\n        <template #default=\"{ row }\">\n          <el-tag :type=\"getStatusType(row.status)\" size=\"small\">{{ getStatusText(row.status) }}</el-tag>\n        </template>\n      </el-table-column>\n\n      <!-- 创建时间 -->\n      <el-table-column label=\"创建时间\" width=\"150\">\n        <template #default=\"{ row }\">\n          {{ formatTime(row.created_at) }}\n        </template>\n      </el-table-column>\n\n      <!-- 到期时间 -->\n      <el-table-column label=\"到期时间\" width=\"150\">\n        <template #default=\"{ row }\">\n          {{ formatTime(row.end_time || row.expires_at) }}\n        </template>\n      </el-table-column>\n    </AdminDataTable>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { watch } from 'vue'\nimport { Refresh } from '@element-plus/icons-vue'\nimport PageTipHeader from '@/components/admin/base/PageTipHeader.vue'\nimport AdminActionCard from '@/components/admin/base/AdminActionCard.vue'\nimport AdminDataTable from '@/components/admin/base/AdminDataTable.vue'\nimport { useAdminOrderList } from '@/composables/admin/useAdminOrderList'\n\ndefinePageMeta({ ssr: false })\n\nconst {\n  loading,\n  list,\n  total,\n  page,\n  pageSize,\n  DEFAULT_AVATAR,\n  loadList,\n  handleCopy,\n  formatSpec,\n  getStatusText,\n  getStatusType,\n  formatTime,\n  formatPrice\n} = useAdminOrderList('one_time_cdk') // Use 'one_time_cdk' type\n\nwatch([page, pageSize], () => loadList(), { immediate: true })\n</script>\n\n<style scoped>\n.page-container { display: flex; flex-direction: column; gap: 16px; }\n.mono-text { font-family: 'Monaco', 'Consolas', monospace; font-size: 12px; color: #94a3b8; cursor: pointer; }\n.mono-text:hover { color: #60a5fa; }\n.user-cell { display: flex; align-items: center; gap: 8px; }\n.uid-text { font-size: 12px; color: #94a3b8; font-family: 'Monaco', monospace; }\n.product-cell { display: flex; align-items: center; gap: 8px; }\n.product-thumb { width: 36px; height: 36px; border-radius: 6px; object-fit: cover; background: #1e293b; }\n.spec-text { font-size: 12px; color: #94a3b8; }\n.amount { font-weight: 600; color: #22c55e; }\n.discount { font-size: 12px; color: #f59e0b; }\n.no-discount { color: #475569; }\n</style>\n"],"version":3}