{"version":3,"file":"index-nOEBPeAv.js","sources":["../../../../utils/clientMessages.ts","../../../../components/ChangeAvatarModal.vue","../../../../components/ChangeNicknameModal.vue","../../../../components/BindEmailModal.vue","../../../../virtual:public?%2Fimages%2Fshared%2Foauth-google.png","../../../../components/BindGoogleModal.vue","../../../../components/ChangePasswordModal.vue","../../../../components/DeleteAccountModal.vue","../../../../components/ProfilePersonalInfo.vue","../../../../pages/profile/index.vue"],"sourcesContent":["export const CLIENT_MESSAGES = {\n    // 1. ä¸ªäººä¸­å¿ƒ & è´¦å· (Profile & Auth)\n    PROFILE: {\n        AVATAR_UPDATE: 'å¥½è€¶ï½æ–°å¤´åƒç”Ÿæ•ˆå•¦',\n        AVATAR_FAIL: 'å‘œâ€¦æ²¡æ¢æˆåŠŸï¼Œå†è¯•è¯•ï¼Ÿ',\n        NICKNAME_UPDATE: 'æˆ‘å·²ç»è®°ä½å•¦',\n        NICKNAME_FAIL: 'æ²¡æ”¹æˆåŠŸå‘¢ï¼Œå†è¯•è¯•ï¼Ÿ',\n        UID_COPY: 'UID å¸®ä½ å¤åˆ¶å¥½å•¦',\n        LOGOUT_FAIL: 'è¿˜ä¸èƒ½ç¦»å¼€æˆ‘å‘¢ï¼Œç¨åå†è¯•å§',\n    },\n    NICKNAME_MODAL: {\n        SUCCESS: 'æ–°åå­—æˆ‘è®°ä¸‹äº†',\n        FAIL: 'æ²¡æ”¹æˆåŠŸå‘¢ï¼Œå†è¯•è¯•ï¼Ÿ',\n    },\n    PASSWORD_MODAL: {\n        CODE_SENT: 'éªŒè¯ç å·²ç»é€è¿‡å»å•¦',\n        SEND_FAIL: 'æ²¡é€å‡ºå»â€¦ç¨åå†è¯•è¯•å§',\n        VERIFY_FAIL: 'å¥½åƒè¾“é”™äº†ï¼Œå†æ£€æŸ¥ä¸€ä¸‹å§',\n        SUCCESS: 'å¯†ç æ›´æ–°å®Œæˆï¼Œæˆ‘è®°ä½äº†',\n        SAME_PASSWORD: 'å¯†ç å’Œä¹‹å‰ä¸€æ ·å“¦',\n        FAIL: 'æ›´æ–°å¤±è´¥äº†ï¼Œç¨åå†è¯•å§',\n    },\n    EMAIL_MODAL: {\n        CODE_SENT: 'å·²å‘é€åˆ°é‚®ç®±å•¦ï¼Œå¿«å»çœ‹çœ‹',\n        VERIFY_SUCCESS: 'éªŒè¯å®Œæˆå•¦',\n        SAME_EMAIL: 'è¿™ä¸ªé‚®ç®±å·²ç»åœ¨ç”¨äº†å“¦', // Same as current user\n        EMAIL_OCCUPIED: 'è¿™ä¸ªé‚®ç®±è¢«åˆ«äººå…ˆç»‘å®šäº†',\n        CONFIRM_SENT: 'å·²å‘åˆ°æ–°é‚®ç®±ï¼Œè®°å¾—ç¡®è®¤å“¦',\n    },\n    DELETE_MODAL: {\n        CODE_SENT: 'éªŒè¯ç å·²ç»å‘ç»™ä½ äº†',\n        CODE_ERROR: 'ä¸å¯¹ä¸å¯¹ï¼Œå†æ£€æŸ¥ä¸‹å§',\n    },\n\n    // å…±äº«é€»è¾‘ (Shared)\n    SHARE: {\n        COPY_WX_SUCCESS: 'å¾®ä¿¡å·å·²å¤åˆ¶åˆ°å‰ªè´´æ¿', // Keep standard or update? User didn't specify JoinUsModal in 2nd request but listed in inventory. Let's keep specific ones or default. \n        // Wait, user provided \"UIDå·²å¤åˆ¶\" -> \"UID å¸®ä½ å¤åˆ¶å¥½å•¦\". \n        // JoinUsModal was in inventory but user skipped it in the reply? \n        // I will stick to what user provided explicitly.\n    },\n\n    // 2. äº¤æ˜“ & æ”¯ä»˜ (Transaction & Pay)\n    WALLET: {\n        SYNC_SUCCESS: 'ä½™é¢å·²ç»æ›´æ–°å•¦',\n        SYNC_FAIL: 'æ²¡åŒæ­¥æˆåŠŸï¼Œå†è¯•è¯•å§',\n    },\n    COUPON: {\n        GET_SUCCESS: 'ä¼˜æƒ åˆ°æ‰‹å•¦',\n    },\n    PAY: {\n        SUCCESS: 'ä»˜å®Œäº†ï¼å»è®¢å•çœ‹çœ‹',\n    },\n\n    // 3. å…¨å±€é€šç”¨ (Global)\n    GLOBAL: {\n        UNKNOWN_ERROR: 'å‡ºäº†ä¸€ç‚¹å°é—®é¢˜â€¦ç¨åå†è¯•å§',\n        NETWORK_ERROR: 'ç½‘ç»œå¥½åƒä¸å¤ªé¡ºç•…å‘¢',\n    }\n}\n","<template>\n  <BaseModal\n    :visible=\"visible\"\n    title=\"ä¿®æ”¹å¤´åƒ\"\n    width=\"560px\"\n    confirm-text=\"ä¿å­˜ä¿®æ”¹\"\n    :loading=\"loading\"\n    :confirm-disabled=\"!hasChange\"\n    show-mascot\n    mascot-position=\"bottom\"\n    @close=\"$emit('close')\"\n    @update:visible=\"$emit('update:visible', $event)\"\n    @confirm=\"handleConfirm\"\n  >\n    <!-- é¢„è§ˆå’Œä¸Šä¼ åŒº -->\n    <div class=\"avatar-preview-section\">\n      <div class=\"preview-wrapper\">\n        <div v-if=\"previewLoading\" class=\"preview-skeleton\"></div>\n        <img \n          v-else-if=\"displayAvatar\"\n          :src=\"displayAvatar\" \n          class=\"preview-avatar\" \n          @error=\"handleImageError\"\n        />\n        <div v-else class=\"preview-avatar-placeholder\">\n          <el-icon :size=\"48\"><UserFilled /></el-icon>\n        </div>\n      </div>\n      <div class=\"upload-btn-wrapper\">\n        <button class=\"btn-upload\" @click=\"triggerUpload\">\n          <el-icon><Upload /></el-icon> ä¸Šä¼ æ–°å¤´åƒ\n        </button>\n        <input type=\"file\" ref=\"fileInput\" hidden accept=\"image/png,image/jpeg,image/webp\" @change=\"handleFileChange\" />\n        <div class=\"upload-tip\">æ”¯æŒ JPG, PNG, WebP æ ¼å¼ï¼Œä¸Šä¼ åè‡ªåŠ¨è£å‰ªå‹ç¼©</div>\n        <div class=\"upload-limit\">æœ€å¤§ 5MBï¼Œå°†å‹ç¼©ä¸º 200x200px</div>\n      </div>\n    </div>\n    \n    <!-- è£å‰ªåŒºåŸŸ -->\n    <div v-if=\"showCropper\" class=\"cropper-section\">\n      <div class=\"cropper-container\" ref=\"cropperContainer\">\n        <img ref=\"cropperImage\" :src=\"cropperImageSrc\" />\n      </div>\n      <div class=\"cropper-actions\">\n        <el-button @click=\"cancelCrop\">å–æ¶ˆ</el-button>\n        <el-button type=\"primary\" @click=\"confirmCrop\">ç¡®è®¤è£å‰ª</el-button>\n      </div>\n    </div>\n    \n    <!-- ç³»ç»Ÿå¤´åƒåŒº -->\n    <div v-else class=\"system-avatars-section\">\n      <div class=\"section-title\">ç³»ç»Ÿæ¨èå¤´åƒ</div>\n      <div class=\"avatar-grid\">\n        <div \n          v-for=\"(img, index) in systemAvatars\" \n          :key=\"index\"\n          class=\"avatar-item\"\n          :class=\"{ active: selectedSystemAvatar === img }\"\n          @click=\"selectSystemAvatar(img)\"\n        >\n          <img :src=\"img\" class=\"system-avatar-img\" loading=\"lazy\" />\n          <div class=\"check-mark-overlay\" v-if=\"selectedSystemAvatar === img\">\n            <el-icon><Check /></el-icon>\n          </div>\n        </div>\n      </div>\n    </div>\n  </BaseModal>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, computed, onMounted, onUnmounted, nextTick, watch } from 'vue'\nimport { getSupabaseClient } from '@/utils/supabase'\nimport { Upload, Check, UserFilled } from '@element-plus/icons-vue'\nimport { ElMessage } from 'element-plus'\nimport Cropper from 'cropperjs'\nimport 'cropperjs/dist/cropper.css'\n\n// é»˜è®¤å¤´åƒå¸¸é‡\nconst props = defineProps<{\n  visible?: boolean\n  currentAvatar: string\n}>()\n\nconst emit = defineEmits(['close', 'update', 'update:visible'])\n\nconst fileInput = ref<HTMLInputElement | null>(null)\nconst previewAvatar = ref('')\nconst selectedSystemAvatar = ref('')\nconst loading = ref(false)\nconst previewLoading = ref(false)\nconst pendingFile = ref<File | null>(null)\n\n// è£å‰ªç›¸å…³\nconst showCropper = ref(false)\nconst cropperImage = ref<HTMLImageElement | null>(null)\nconst cropperImageSrc = ref('')\nlet cropperInstance: Cropper | null = null\n\n// ç³»ç»Ÿå¤´åƒåˆ—è¡¨ï¼ˆæ–°å¢ AI ç”Ÿæˆå¤´åƒï¼‰\nconst systemAvatars: string[] = [] // Empty for now as assets were deleted\n\n// Reset State on Open\nwatch(() => props.visible, (val) => {\n  if (val) {\n    previewAvatar.value = ''\n    selectedSystemAvatar.value = ''\n    pendingFile.value = null\n    showCropper.value = false\n    destroyCropper()\n    if (fileInput.value) fileInput.value.value = ''\n  }\n})\n\nconst displayAvatar = computed(() => previewAvatar.value || props.currentAvatar)\n\nconst hasChange = computed(() => {\n  return (previewAvatar.value || selectedSystemAvatar.value) && !loading.value && !showCropper.value\n})\n\nconst triggerUpload = () => {\n  fileInput.value?.click()\n}\n\nconst handleImageError = (e: Event) => {\n  // If it breaks, hide it or clear it\n  (e.target as HTMLImageElement).src = ''\n}\n\nconst handleFileChange = async (event: Event) => {\n  const file = (event.target as HTMLInputElement).files?.[0]\n  if (!file) return\n  \n  // æ–‡ä»¶å¤§å°é™åˆ¶ 5MB\n  if (file.size > 5 * 1024 * 1024) {\n    ElMessage.warning('å›¾ç‰‡å¤§å°ä¸èƒ½è¶…è¿‡ 5MB')\n    return\n  }\n  \n  // æ£€æŸ¥æ–‡ä»¶ç±»å‹\n  if (!['image/jpeg', 'image/png', 'image/webp'].includes(file.type)) {\n    ElMessage.warning('ä»…æ”¯æŒ JPG, PNG, WebP æ ¼å¼')\n    return\n  }\n\n  // æ˜¾ç¤ºè£å‰ªå™¨\n  const reader = new FileReader()\n  reader.onload = (e) => {\n    cropperImageSrc.value = e.target?.result as string\n    showCropper.value = true\n    nextTick(() => {\n      initCropper()\n    })\n  }\n  reader.readAsDataURL(file)\n}\n\nconst initCropper = () => {\n  if (cropperImage.value && !cropperInstance) {\n    cropperInstance = new Cropper(cropperImage.value, {\n      aspectRatio: 1,\n      viewMode: 1,\n      minCropBoxWidth: 100,\n      minCropBoxHeight: 100,\n      background: true,\n      guides: true,\n      center: true,\n      highlight: true,\n      cropBoxMovable: true,\n      cropBoxResizable: true,\n      toggleDragModeOnDblclick: false\n    })\n  }\n}\n\nconst cancelCrop = () => {\n  destroyCropper()\n  showCropper.value = false\n  cropperImageSrc.value = ''\n}\n\nconst confirmCrop = async () => {\n  if (!cropperInstance) return\n  \n  loading.value = true\n  try {\n    // è·å–è£å‰ªåçš„ canvas\n    const canvas = cropperInstance.getCroppedCanvas({\n      width: 200,\n      height: 200,\n      imageSmoothingEnabled: true,\n      imageSmoothingQuality: 'high'\n    })\n    \n    // è½¬æ¢ä¸º Blobï¼ˆå‹ç¼©ä¸º WebP æˆ– JPEGï¼‰\n    const blob = await new Promise<Blob>((resolve, reject) => {\n      canvas.toBlob(\n        (blob) => {\n          if (blob) resolve(blob)\n          else reject(new Error('Canvas to blob failed'))\n        },\n        'image/webp',\n        0.85 // 85% è´¨é‡\n      )\n    })\n    \n    // åˆ›å»º File å¯¹è±¡\n    pendingFile.value = new File([blob], `avatar_${Date.now()}.webp`, { type: 'image/webp' })\n    \n    // é¢„è§ˆ\n    previewAvatar.value = URL.createObjectURL(blob)\n    selectedSystemAvatar.value = ''\n    \n    destroyCropper()\n    showCropper.value = false\n    \n    ElMessage.success('è£å‰ªæˆåŠŸï¼Œç‚¹å‡»\"ä¿å­˜ä¿®æ”¹\"åº”ç”¨å¤´åƒ')\n  } catch (e) {\n    console.error(e)\n    ElMessage.error('è£å‰ªå¤±è´¥')\n  } finally {\n    loading.value = false\n  }\n}\n\nconst destroyCropper = () => {\n  if (cropperInstance) {\n    cropperInstance.destroy()\n    cropperInstance = null\n  }\n}\n\nconst selectSystemAvatar = (img: string) => {\n  selectedSystemAvatar.value = img\n  previewAvatar.value = img\n  pendingFile.value = null\n}\n\nconst handleConfirm = async () => {\n  loading.value = true\n  let finalAvatarUrl = selectedSystemAvatar.value || props.currentAvatar\n\n  try {\n    if (pendingFile.value) {\n      const client = getSupabaseClient()\n      const { data: { user } } = await client.auth.getUser()\n      if (!user) throw new Error('æœªç™»å½•')\n      \n      const fileName = `avatar_${Date.now()}.webp`\n      const filePath = `${user.id}/${fileName}`\n\n      const { error: uploadError } = await client.storage\n        .from('avatars')\n        .upload(filePath, pendingFile.value, { upsert: true })\n      \n      if (uploadError) throw uploadError\n       \n      const { data: publicData } = client.storage.from('avatars').getPublicUrl(filePath)\n      finalAvatarUrl = publicData.publicUrl\n    }\n    \n    emit('update', finalAvatarUrl)\n  } catch (e: any) {\n    console.error(e)\n    ElMessage.error('ä¸Šä¼ å¤±è´¥: ' + (e.message || 'æœªçŸ¥é”™è¯¯'))\n    loading.value = false\n  }\n}\n\nonUnmounted(() => {\n  destroyCropper()\n})\n</script>\n\n<style scoped>\n/* é¢„è§ˆåŒº */\n.avatar-preview-section {\n  display: flex;\n  align-items: center;\n  gap: 32px;\n  padding-bottom: 24px;\n  border-bottom: 1px solid rgba(255, 255, 255, 0.1);\n}\n\n.preview-wrapper {\n  position: relative;\n  width: 100px;\n  height: 100px;\n}\n\n.preview-skeleton {\n  width: 100px;\n  height: 100px;\n  border-radius: 50%;\n  background: linear-gradient(90deg, rgba(255,255,255,0.05) 25%, rgba(255,255,255,0.1) 50%, rgba(255,255,255,0.05) 75%);\n  background-size: 200% 100%;\n  animation: skeleton-loading 1.5s infinite;\n}\n\n@keyframes skeleton-loading {\n  0% { background-position: 200% 0; }\n  100% { background-position: -200% 0; }\n}\n\n.preview-avatar {\n  width: 100px;\n  height: 100px;\n  border-radius: 50%;\n  object-fit: cover;\n  border: 4px solid rgba(255, 255, 255, 0.1);\n  box-shadow: 0 4px 12px rgba(0,0,0,0.3);\n}\n\n.upload-btn-wrapper {\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n}\n\n.btn-upload {\n  padding: 10px 20px;\n  background: rgba(255, 255, 255, 0.05);\n  border: 1px solid rgba(255, 255, 255, 0.1);\n  color: #E2E8F0;\n  border-radius: 12px;\n  cursor: pointer;\n  font-size: 14px;\n  font-weight: 500;\n  transition: all 0.2s;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n}\n\n.btn-upload:hover {\n  background: var(--primary-blue);\n  border-color: var(--primary-blue);\n  color: #fff;\n}\n\n.upload-tip {\n  font-size: 12px;\n  color: #64748B;\n}\n\n.upload-limit {\n  font-size: 11px;\n  color: #475569;\n}\n\n/* è£å‰ªåŒº */\n.cropper-section {\n  margin-top: 16px;\n  padding: 16px;\n  background: rgba(0, 0, 0, 0.2);\n  border-radius: 12px;\n}\n\n.cropper-container {\n  width: 100%;\n  height: 300px;\n  background: #1e293b;\n  border-radius: 8px;\n  overflow: hidden;\n}\n\n.cropper-container img {\n  max-width: 100%;\n  display: block;\n}\n\n.cropper-actions {\n  display: flex;\n  justify-content: center;\n  gap: 16px;\n  margin-top: 16px;\n}\n\n/* ç³»ç»Ÿå¤´åƒåŒº */\n.system-avatars-section {\n  margin-top: 16px;\n}\n\n.section-title {\n  font-size: 14px;\n  font-weight: 600;\n  color: #94A3B8;\n  margin-bottom: 16px;\n  text-transform: uppercase;\n  letter-spacing: 1px;\n}\n\n.avatar-grid {\n  display: grid;\n  grid-template-columns: repeat(6, 1fr);\n  gap: 12px;\n}\n\n.avatar-item {\n  position: relative;\n  cursor: pointer;\n  border-radius: 50%;\n  aspect-ratio: 1;\n  border: 2px solid transparent;\n  transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);\n  padding: 2px;\n}\n\n.avatar-item:hover {\n  transform: scale(1.1);\n  border-color: rgba(255, 255, 255, 0.3);\n}\n\n.avatar-item.active {\n  border-color: var(--active-orange);\n  transform: scale(1.1);\n  box-shadow: 0 0 15px rgba(249, 115, 22, 0.4);\n}\n\n.system-avatar-img {\n  width: 100%;\n  height: 100%;\n  border-radius: 50%;\n  display: block;\n  object-fit: cover;\n}\n\n.check-mark-overlay {\n  position: absolute;\n  inset: 0;\n  border-radius: 50%;\n  background: rgba(249, 115, 22, 0.3);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: white;\n  font-weight: bold;\n  font-size: 14px;\n}\n\n.preview-avatar-placeholder {\n  width: 100px;\n  height: 100px;\n  border-radius: 50%;\n  border: 4px solid rgba(255, 255, 255, 0.1);\n  box-shadow: 0 4px 12px rgba(0,0,0,0.3);\n  background: rgba(255,255,255,0.05);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: #94A3B8;\n}\n</style>\n","<template>\n  <BaseModal\n    :visible=\"visible\"\n    title=\"ä¿®æ”¹æ˜µç§°\"\n    confirm-text=\"ç¡®è®¤ä¿®æ”¹\"\n    :loading=\"loading\"\n    :confirm-disabled=\"!isValid\"\n    show-mascot\n    @close=\"$emit('close')\"\n    @update:visible=\"$emit('update:visible', $event)\"\n    @confirm=\"handleUpdate\"\n  >\n    <div class=\"form-group\">\n      <label class=\"form-label\">æ–°æ˜µç§°</label>\n      <input \n        v-model=\"newNickname\" \n        type=\"text\" \n        class=\"form-input\" \n        placeholder=\"è¯·è¾“å…¥æ–°æ˜µç§°\"\n        @keyup.enter=\"handleUpdate\"\n      />\n    </div>\n  </BaseModal>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, computed, watch } from 'vue'\nimport { authApi } from '@/api/auth'\nimport { ElMessage } from 'element-plus'\nimport { CLIENT_MESSAGES } from '@/utils/clientMessages'\n\nconst props = defineProps<{\n  visible?: boolean\n  currentNickname: string\n}>()\n\nconst emit = defineEmits(['close', 'update', 'update:visible'])\n\nconst newNickname = ref(props.currentNickname)\nconst loading = ref(false)\n\nwatch(() => props.visible, (val) => {\n  if (val) {\n    newNickname.value = props.currentNickname\n  }\n})\n\nconst isValid = computed(() => {\n  return newNickname.value.trim().length >= 2 && \n         newNickname.value !== props.currentNickname && \n         !loading.value\n})\n\nconst handleUpdate = async () => {\n  if (!isValid.value) return\n  \n  loading.value = true\n  try {\n    const res = await authApi.updateProfile({ nickname: newNickname.value })\n    if (res.success) {\n      ElMessage.success(CLIENT_MESSAGES.NICKNAME_MODAL.SUCCESS)\n      emit('update', newNickname.value)\n    } else {\n      ElMessage.error(res.msg || CLIENT_MESSAGES.NICKNAME_MODAL.FAIL)\n    }\n  } catch (e: any) {\n    ElMessage.error(e.message || CLIENT_MESSAGES.NICKNAME_MODAL.FAIL)\n  } finally {\n    loading.value = false\n  }\n}\n</script>\n","<template>\r\n  <BaseFormModal\r\n    :visible=\"visible\"\r\n    title=\"æ¢ç»‘é‚®ç®±\"\r\n    width=\"500px\"\r\n    theme-id=\"suit-001\"\r\n    :cancel-text=\"cancelText\"\r\n    :confirm-text=\"submitText\"\r\n    :loading=\"loading\"\r\n    :confirm-disabled=\"submitDisabled\"\r\n    @close=\"$emit('close')\"\r\n    @update:visible=\"$emit('update:visible', $event)\"\r\n    @confirm=\"handleStepSubmit\"\r\n  >\r\n    <!-- Step 1: éªŒè¯å½“å‰é‚®ç®± -->\r\n    <div v-if=\"step === 1\" class=\"step-content\">\r\n      <div class=\"step-indicator\">\r\n        <span class=\"step-badge active\">1</span>\r\n        <span class=\"step-line\"></span>\r\n        <span class=\"step-badge\">2</span>\r\n      </div>\r\n      <p class=\"step-title\">éªŒè¯å½“å‰é‚®ç®±</p>\r\n      <p class=\"step-desc\">ä¸ºç¡®ä¿è´¦å·å®‰å…¨ï¼Œè¯·å…ˆéªŒè¯æ‚¨çš„å½“å‰é‚®ç®±</p>\r\n      \r\n      <div class=\"form-group\">\r\n        <label class=\"form-label\">å½“å‰é‚®ç®±</label>\r\n        <input :value=\"currentEmail\" type=\"email\" class=\"form-input\" disabled />\r\n      </div>\r\n\r\n      <div class=\"form-group code-group-wrapper\">\r\n        <label class=\"form-label\">éªŒè¯ç </label>\r\n        <div class=\"code-group-inner\">\r\n          <input \r\n            v-model=\"currentCode\" \r\n            type=\"text\" \r\n            class=\"form-input code-input\" \r\n            placeholder=\"è¯·è¾“å…¥éªŒè¯ç \" \r\n            maxlength=\"6\" \r\n            inputmode=\"numeric\"\r\n            autocomplete=\"off\"\r\n            @input=\"currentCode = currentCode.replace(/\\D/g, '')\"\r\n          />\r\n          <SendCodeButton \r\n            :loading=\"loading\" \r\n            :countdown=\"countdown\" \r\n            @click=\"sendCurrentEmailCode\"\r\n          />\r\n        </div>\r\n      </div>\r\n      \r\n      <div class=\"form-tip\">éªŒè¯ç å°†å‘é€è‡³: {{ currentEmail }}</div>\r\n    </div>\r\n\r\n    <!-- Step 2: è¾“å…¥æ–°é‚®ç®± -->\r\n    <div v-if=\"step === 2\" class=\"step-content\">\r\n      <div class=\"step-indicator\">\r\n        <span class=\"step-badge done\">âœ“</span>\r\n        <span class=\"step-line done\"></span>\r\n        <span class=\"step-badge active\">2</span>\r\n      </div>\r\n      <p class=\"step-title\">è®¾ç½®æ–°é‚®ç®±</p>\r\n      <p class=\"step-desc\">è¾“å…¥æ‚¨è¦ç»‘å®šçš„æ–°é‚®ç®±åœ°å€</p>\r\n      \r\n      <div class=\"form-group\">\r\n        <label class=\"form-label\">æ–°é‚®ç®±åœ°å€</label>\r\n        <EmailInput v-model=\"newEmail\" placeholder=\"è¯·è¾“å…¥æ–°é‚®ç®±\" />\r\n      </div>\r\n\r\n      <div class=\"info-box\">\r\n        <span class=\"info-icon\">â„¹ï¸</span>\r\n        <span>ç¡®è®¤åï¼Œç³»ç»Ÿå°†å‘æ–°é‚®ç®±å‘é€ç¡®è®¤é“¾æ¥ï¼Œç‚¹å‡»é“¾æ¥å³å¯å®Œæˆæ¢ç»‘</span>\r\n      </div>\r\n    </div>\r\n  </BaseFormModal>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport BaseFormModal from '@/components/modal/base/BaseFormModal.vue'\r\nimport { ref, computed, onMounted, onUnmounted, watch } from 'vue'\r\nimport { ElMessage } from 'element-plus'\r\nimport { authApi } from '@/api/auth'\r\nimport { CLIENT_MESSAGES } from '@/utils/clientMessages'\r\nimport EmailInput from '@/components/base/EmailInput.vue'\r\nimport SendCodeButton from '@/components/base/SendCodeButton.vue'\r\n\r\nconst props = defineProps<{\r\n  visible?: boolean\r\n  currentEmail?: string\r\n}>()\r\n\r\nconst emit = defineEmits(['close', 'confirm', 'update:visible'])\r\n\r\nconst step = ref(1)\r\nconst currentCode = ref('')\r\nconst newEmail = ref('')\r\nconst countdown = ref(0)\r\nconst loading = ref(false)\r\nlet timerInterval: any = null\r\n\r\nwatch(() => props.visible, (val) => {\r\n  if (val) {\r\n    step.value = 1\r\n    currentCode.value = ''\r\n    newEmail.value = ''\r\n  }\r\n})\r\n\r\nconst cancelText = computed(() => 'å–æ¶ˆ')\r\n// Dynamic submit text based on step\r\nconst submitText = computed(() => {\r\n  if (loading.value) return step.value === 1 ? 'éªŒè¯ä¸­...' : 'æäº¤ä¸­...'\r\n  return step.value === 1 ? 'ä¸‹ä¸€æ­¥' : 'ç¡®è®¤æ¢ç»‘'\r\n})\r\n\r\nconst submitDisabled = computed(() => {\r\n  if (step.value === 1) return !currentCode.value || currentCode.value.length < 4 || loading.value\r\n  return !isValidEmail.value || loading.value\r\n})\r\n\r\nconst handleStepSubmit = () => {\r\n  if (step.value === 1) {\r\n    verifyCurrentEmail()\r\n  } else {\r\n    handleConfirm()\r\n  }\r\n}\r\n\r\nconst TIMER_KEY = 'otp_change_email_timer_end'\r\nconst COOLDOWN_SECONDS = 300 \r\n\r\nconst isValidEmail = computed(() => {\r\n  return newEmail.value && \r\n         newEmail.value.includes('@') && \r\n         newEmail.value !== props.currentEmail\r\n})\r\n\r\nconst startTimer = (seconds: number, isNew = true) => {\r\n  countdown.value = seconds\r\n  if (isNew) {\r\n    const endTime = Date.now() + seconds * 1000\r\n    localStorage.setItem(TIMER_KEY, endTime.toString())\r\n  }\r\n  \r\n  if (timerInterval) clearInterval(timerInterval)\r\n  timerInterval = setInterval(() => {\r\n    countdown.value--\r\n    if (countdown.value <= 0) {\r\n      clearInterval(timerInterval)\r\n      localStorage.removeItem(TIMER_KEY)\r\n    }\r\n  }, 1000)\r\n}\r\n\r\nconst restoreTimer = () => {\r\n  const endTimeStr = localStorage.getItem(TIMER_KEY)\r\n  if (endTimeStr) {\r\n    const endTime = parseInt(endTimeStr, 10)\r\n    const now = Date.now()\r\n    if (endTime > now) {\r\n      const remaining = Math.ceil((endTime - now) / 1000)\r\n      startTimer(remaining, false)\r\n    } else {\r\n      localStorage.removeItem(TIMER_KEY)\r\n    }\r\n  }\r\n}\r\n\r\nonMounted(() => { restoreTimer() })\r\nonUnmounted(() => { if (timerInterval) clearInterval(timerInterval) })\r\n\r\nasync function sendCurrentEmailCode() {\r\n  if (!props.currentEmail || countdown.value > 0 || loading.value) return\r\n  loading.value = true\r\n\r\n  try {\r\n    const res = await authApi.sendOtp(props.currentEmail)\r\n    if (res.success) {\r\n      ElMessage.success(CLIENT_MESSAGES.EMAIL_MODAL.CODE_SENT)\r\n      startTimer(COOLDOWN_SECONDS)\r\n    } else {\r\n      ElMessage.error(res.msg || CLIENT_MESSAGES.PASSWORD_MODAL.SEND_FAIL)\r\n    }\r\n  } catch (e: any) {\r\n    ElMessage.error(e.message || CLIENT_MESSAGES.PASSWORD_MODAL.SEND_FAIL)\r\n  } finally {\r\n    loading.value = false\r\n  }\r\n}\r\n\r\nasync function verifyCurrentEmail() {\r\n  if (!currentCode.value || currentCode.value.length < 4 || loading.value) return\r\n  loading.value = true\r\n\r\n  try {\r\n    const res = await authApi.verifyOtp(props.currentEmail!, currentCode.value)\r\n    if (res.success) {\r\n      ElMessage.success(CLIENT_MESSAGES.EMAIL_MODAL.VERIFY_SUCCESS)\r\n      step.value = 2\r\n    } else {\r\n      ElMessage.error(res.msg || CLIENT_MESSAGES.PASSWORD_MODAL.VERIFY_FAIL)\r\n    }\r\n  } catch (e: any) {\r\n    ElMessage.error(e.message || CLIENT_MESSAGES.PASSWORD_MODAL.VERIFY_FAIL)\r\n  } finally {\r\n    loading.value = false\r\n  }\r\n}\r\n\r\nasync function handleConfirm() {\r\n  if (!isValidEmail.value || loading.value) return\r\n  \r\n  if (newEmail.value === props.currentEmail) {\r\n    ElMessage.error(CLIENT_MESSAGES.EMAIL_MODAL.SAME_EMAIL)\r\n    return\r\n  }\r\n  \r\n  loading.value = true\r\n\r\n  try {\r\n    const checkRes = await authApi.checkEmailAvailable(newEmail.value)\r\n    if (!checkRes.success) {\r\n      ElMessage.error(CLIENT_MESSAGES.EMAIL_MODAL.EMAIL_OCCUPIED)\r\n      loading.value = false\r\n      return\r\n    }\r\n\r\n    const res = await authApi.updateEmail(newEmail.value)\r\n    if (res.success) {\r\n      ElMessage.success(CLIENT_MESSAGES.EMAIL_MODAL.CONFIRM_SENT)\r\n      emit('confirm', newEmail.value)\r\n      emit('close')\r\n    } else {\r\n      ElMessage.error(res.msg || 'æ¢ç»‘å¤±è´¥')\r\n    }\r\n  } catch (e: any) {\r\n    ElMessage.error(e.message || 'æ¢ç»‘å¤±è´¥')\r\n  } finally {\r\n    loading.value = false\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.step-content {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 20px;\r\n}\r\n\r\n.step-indicator {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  gap: 12px;\r\n  margin-bottom: 12px;\r\n}\r\n\r\n.step-badge {\r\n  width: 32px;\r\n  height: 32px;\r\n  border-radius: 50%;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  font-size: 14px;\r\n  font-weight: 700;\r\n  background: rgba(255, 255, 255, 0.05);\r\n  color: #64748B;\r\n  border: 1px solid rgba(255, 255, 255, 0.05);\r\n  transition: all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);\r\n  position: relative;\r\n}\r\n\r\n.step-badge.active {\r\n  background: linear-gradient(135deg, var(--primary-blue), #2563eb);\r\n  color: #fff;\r\n  border-color: transparent;\r\n  box-shadow: 0 0 15px rgba(59, 130, 246, 0.4);\r\n  transform: scale(1.1);\r\n}\r\n\r\n.step-badge.done {\r\n  background: rgba(16, 185, 129, 0.2);\r\n  color: #10B981;\r\n  border-color: rgba(16, 185, 129, 0.3);\r\n}\r\n\r\n.step-line {\r\n  width: 40px;\r\n  height: 2px;\r\n  background: rgba(255, 255, 255, 0.08);\r\n  border-radius: 2px;\r\n  transition: all 0.3s;\r\n}\r\n.step-line.done {\r\n  background: #10B981;\r\n  box-shadow: 0 0 8px rgba(16, 185, 129, 0.4);\r\n}\r\n\r\n.step-title {\r\n  font-size: 18px;\r\n  font-weight: 700;\r\n  color: #fff;\r\n  margin: 0;\r\n  text-align: center;\r\n  letter-spacing: -0.5px;\r\n}\r\n\r\n.step-desc {\r\n  font-size: 13px;\r\n  color: #94A3B8;\r\n  margin: 0;\r\n  text-align: center;\r\n}\r\n\r\n.code-group-wrapper {\r\n  position: relative;\r\n}\r\n\r\n.code-group-inner {\r\n  position: relative;\r\n  width: 100%;\r\n}\r\n\r\n.code-input {\r\n  padding-right: 120px !important; /* Make room for button */\r\n}\r\n\r\n\r\n\r\n.info-box {\r\n  display: flex;\r\n  align-items: flex-start;\r\n  gap: 12px;\r\n  padding: 16px;\r\n  \r\n  /* Glass Info Box */\r\n  background: rgba(59, 130, 246, 0.08);\r\n  border: 1px solid rgba(59, 130, 246, 0.2);\r\n  border-radius: 14px;\r\n  \r\n  font-size: 13px;\r\n  color: #CBD5E1;\r\n  line-height: 1.5;\r\n  box-shadow: inset 0 0 20px rgba(59, 130, 246, 0.05);\r\n}\r\n\r\n.info-icon {\r\n  font-size: 18px;\r\n  flex-shrink: 0;\r\n  filter: drop-shadow(0 0 5px rgba(59, 130, 246, 0.4));\r\n}\r\n\r\n</style>\r\n","import { publicAssetsURL } from '#internal/nuxt/paths';export default publicAssetsURL(\"/images/shared/oauth-google.png\")","<template>\n  <BaseFormModal\n    :visible=\"visible\"\n    title=\"ç»‘å®šè°·æ­Œé‚®ç®±\"\n    :show-footer=\"false\"\n    theme-id=\"suit-001\"\n    @close=\"$emit('close')\"\n    @update:visible=\"$emit('update:visible', $event)\"\n  >\n    <div class=\"google-content\">\n      <div class=\"modal-subtitle\">å…³è”æ‚¨çš„ Google è´¦å·ä»¥æ›´å¿«æ·ç™»å½•</div>\n\n      <!-- çŠ¶æ€æ˜¾ç¤º -->\n      <div class=\"status-box\" :class=\"{ bound: isBound }\">\n        <div class=\"status-icon\">\n          <img src=\"/images/shared/oauth-google.png\" alt=\"Google\" class=\"google-icon\" />\n        </div>\n        <div class=\"status-info\">\n          <div class=\"status-label\">å½“å‰çŠ¶æ€</div>\n          <div class=\"status-text\">{{ isBound ? 'å·²ç»‘å®š' : 'æœªç»‘å®š' }}</div>\n          <div class=\"bound-email\" v-if=\"isBound\">{{ currentGoogleEmail }}</div>\n        </div>\n      </div>\n\n      <!-- æ¢ç»‘/ç»‘å®šæ“ä½œ -->\n      <div class=\"action-area\" v-if=\"isBound\">\n        <div class=\"action-tip\">å¦‚éœ€æ›´æ¢ç»‘å®šçš„ Google è´¦å·ï¼Œè¯·ç‚¹å‡»ä¸‹æ–¹æŒ‰é’®</div>\n        <button class=\"btn-google\" @click=\"handleBind\">\n          <span class=\"btn-icon\">G</span>\n          æ¢ç»‘ Google è´¦å·\n        </button>\n      </div>\n      <div class=\"action-area\" v-else>\n        <button class=\"btn-google\" @click=\"handleBind\">\n          <span class=\"btn-icon\">G</span>\n          ç«‹å³ç»‘å®š Google è´¦å·\n        </button>\n      </div>\n\n      <div class=\"modal-footer-tip\">\n        ç»‘å®šåå¯ç›´æ¥ä½¿ç”¨ Google è´¦å·ç™»å½•å‡¡å›¾æ‹‰\n      </div>\n    </div>\n  </BaseFormModal>\n</template>\n\n<script setup lang=\"ts\">\nimport BaseFormModal from '@/components/modal/base/BaseFormModal.vue'\n\ndefineProps<{\n  visible?: boolean\n  isBound: boolean,\n  currentGoogleEmail?: string\n}>()\n\nconst emit = defineEmits(['close', 'bind', 'update:visible'])\n\nconst handleBind = () => {\n  console.log('Initiating Google Binding...')\n  emit('bind')\n  emit('close')\n}\n</script>\n\n<style scoped>\n/* Business Styles Only - No Layout */\n.google-content {\n  display: flex;\n  flex-direction: column;\n  gap: 24px;\n}\n\n.modal-subtitle {\n  color: #94A3B8;\n  font-size: 14px;\n  text-align: center;\n  margin-top: -10px;\n}\n\n/* Status Box - Dark Glass */\n.status-box {\n  background: rgba(255, 255, 255, 0.03);\n  border: 1px solid rgba(255, 255, 255, 0.08);\n  border-radius: 16px;\n  padding: 20px;\n  display: flex;\n  align-items: center;\n  gap: 16px;\n  transition: all 0.3s;\n}\n\n.status-box.bound {\n  background: rgba(66, 133, 244, 0.1);\n  border-color: rgba(66, 133, 244, 0.3);\n  box-shadow: 0 0 20px rgba(66, 133, 244, 0.1);\n}\n\n.status-icon {\n  width: 48px;\n  height: 48px;\n  background: rgba(255, 255, 255, 0.1);\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border: 1px solid rgba(255, 255, 255, 0.1);\n}\n\n.google-icon {\n  width: 24px;\n  height: 24px;\n}\n\n.status-info {\n  flex: 1;\n}\n\n.status-label {\n  font-size: 12px;\n  color: #94A3B8;\n  margin-bottom: 4px;\n}\n\n.status-text {\n  font-size: 16px;\n  font-weight: 700;\n  color: #fff;\n}\n\n.bound-email {\n  font-size: 14px;\n  color: #60A5FA; /* Blue-400 */\n  margin-top: 2px;\n  font-family: monospace;\n}\n\n.action-area {\n  text-align: center;\n}\n\n.action-tip {\n  font-size: 13px;\n  color: #94A3B8;\n  margin-bottom: 12px;\n}\n\n/* Google Button - Custom to fit Dark Theme but keep brand recognition */\n.btn-google {\n  width: 100%;\n  padding: 14px;\n  background: #fff;\n  border: 1px solid transparent;\n  border-radius: 14px;\n  color: #3c4043;\n  font-size: 15px;\n  font-weight: 600;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 12px;\n  transition: all 0.2s;\n  box-shadow: 0 4px 12px rgba(0,0,0,0.2);\n}\n\n.btn-google:hover {\n  background: #f8f9fa;\n  transform: translateY(-2px);\n  box-shadow: 0 6px 16px rgba(0,0,0,0.3);\n}\n\n.btn-google:active {\n  transform: scale(0.98);\n}\n\n.btn-icon {\n  font-weight: bold;\n  color: #4285F4;\n  font-size: 18px;\n}\n\n.modal-footer-tip {\n  text-align: center;\n  font-size: 12px;\n  color: #64748B;\n  padding: 0 20px;\n  line-height: 1.5;\n}\n</style>\n","<template>\r\n  <BaseFormModal\r\n    :visible=\"visible\"\r\n    title=\"æ›´æ–°å¯†ç \"\r\n    width=\"500px\" \r\n    submit-text=\"ç¡®è®¤æ›´æ–°\"\r\n    :loading=\"loading\"\r\n    :submit-disabled=\"!canSubmit\"\r\n    theme-id=\"suit-001\"\r\n    @close=\"$emit('close')\"\r\n    @update:visible=\"$emit('update:visible', $event)\"\r\n    @submit=\"handleSubmit\"\r\n  >\r\n    <div class=\"form-group code-group-wrapper\">\r\n      <label class=\"form-label\">é‚®ç®±éªŒè¯ç </label>\r\n      <div class=\"code-group-inner\">\r\n        <input \r\n          type=\"text\" \r\n          v-model=\"otpCode\" \r\n          class=\"form-input code-input\" \r\n          placeholder=\"è¯·è¾“å…¥éªŒè¯ç \" \r\n          maxlength=\"6\" \r\n          inputmode=\"numeric\"\r\n          autocomplete=\"off\"\r\n          @input=\"otpCode = otpCode.replace(/\\D/g, '')\"\r\n        />\r\n        <SendCodeButton \r\n          :loading=\"loading\" \r\n          :countdown=\"countdown\" \r\n          @click=\"sendCode\"\r\n        />\r\n      </div>\r\n      <p class=\"form-tip\">éªŒè¯ç å°†å‘é€è‡³: {{ userEmail }}</p>\r\n    </div>\r\n\r\n    <div class=\"form-group\">\r\n      <label class=\"form-label\">æ–°å¯†ç </label>\r\n      <input \r\n        v-model=\"newPassword\" \r\n        type=\"password\" \r\n        class=\"form-input\" \r\n        placeholder=\"è¯·è¾“å…¥æ–°å¯†ç  (è‡³å°‘8ä½,åŒ…å«æ•°å­—å’Œå­—æ¯)\" \r\n        @input=\"checkStrength\"\r\n        autocomplete=\"new-password\"\r\n      />\r\n      <div class=\"password-strength\" v-if=\"newPassword\">\r\n        å¼ºåº¦: <span :class=\"strengthClass\">{{ strengthText }}</span>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"form-group\">\r\n      <label class=\"form-label\">ç¡®è®¤æ–°å¯†ç </label>\r\n      <input \r\n        v-model=\"confirmPassword\" \r\n        type=\"password\" \r\n        class=\"form-input\" \r\n        placeholder=\"è¯·å†æ¬¡è¾“å…¥æ–°å¯†ç \" \r\n        autocomplete=\"new-password\"\r\n      />\r\n    </div>\r\n  </BaseFormModal>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { ref, computed, onMounted, onUnmounted, watch } from 'vue'\r\nimport BaseFormModal from '@/components/modal/base/BaseFormModal.vue'\r\nimport { authApi } from '@/api/auth'\r\nimport { ElMessage } from 'element-plus'\r\nimport { CLIENT_MESSAGES } from '@/utils/clientMessages'\r\nimport SendCodeButton from '@/components/base/SendCodeButton.vue'\r\n\r\nconst props = defineProps<{\r\n  visible?: boolean\r\n  email: string\r\n}>()\r\n\r\nconst emit = defineEmits(['close', 'update:visible'])\r\n\r\nconst otpCode = ref('')\r\nconst newPassword = ref('')\r\nconst confirmPassword = ref('')\r\nconst strength = ref(0)\r\nconst loading = ref(false)\r\nconst countdown = ref(0)\r\nlet timerInterval: any = null\r\n\r\nwatch(() => props.visible, (val) => {\r\n  if (val) {\r\n    otpCode.value = ''\r\n    newPassword.value = ''\r\n    confirmPassword.value = ''\r\n    strength.value = 0\r\n  }\r\n})\r\n\r\nconst userEmail = computed(() => props.email || 'å½“å‰è´¦æˆ·')\r\n\r\nconst TIMER_KEY = 'otp_password_timer_end'\r\nconst COOLDOWN_SECONDS = 300\r\n\r\nconst startTimer = (seconds: number, isNew = true) => {\r\n  countdown.value = seconds\r\n  if (isNew) {\r\n    const endTime = Date.now() + seconds * 1000\r\n    localStorage.setItem(TIMER_KEY, endTime.toString())\r\n  }\r\n  \r\n  if (timerInterval) clearInterval(timerInterval)\r\n  timerInterval = setInterval(() => {\r\n    countdown.value--\r\n    if (countdown.value <= 0) {\r\n      clearInterval(timerInterval)\r\n      localStorage.removeItem(TIMER_KEY)\r\n    }\r\n  }, 1000)\r\n}\r\n\r\nconst restoreTimer = () => {\r\n  const endTimeStr = localStorage.getItem(TIMER_KEY)\r\n  if (endTimeStr) {\r\n    const endTime = parseInt(endTimeStr, 10)\r\n    const now = Date.now()\r\n    if (endTime > now) {\r\n      const remaining = Math.ceil((endTime - now) / 1000)\r\n      startTimer(remaining, false)\r\n    } else {\r\n      localStorage.removeItem(TIMER_KEY)\r\n    }\r\n  }\r\n}\r\n\r\nonMounted(() => { restoreTimer() })\r\nonUnmounted(() => { if (timerInterval) clearInterval(timerInterval) })\r\n\r\nconst checkStrength = () => {\r\n  let s = 0\r\n  if (newPassword.value.length >= 8) s++\r\n  if (/\\d/.test(newPassword.value)) s++\r\n  if (/[a-zA-Z]/.test(newPassword.value)) s++\r\n  if (/[^a-zA-Z0-9]/.test(newPassword.value)) s++\r\n  strength.value = s\r\n}\r\n\r\nconst strengthText = computed(() => {\r\n  const arr = ['å¼±', 'å¼±', 'ä¸­', 'å¼º', 'å¾ˆå¼º']\r\n  return arr[strength.value >= 0 && strength.value < arr.length ? strength.value : 0]\r\n})\r\nconst strengthClass = computed(() => {\r\n  const arr = ['weak', 'weak', 'medium', 'strong', 'very-strong']\r\n  return arr[strength.value >= 0 && strength.value < arr.length ? strength.value : 0]\r\n})\r\n\r\nconst canSubmit = computed(() => {\r\n  return (\r\n    otpCode.value.length >= 4 &&\r\n    newPassword.value.length >= 8 &&\r\n    /\\d/.test(newPassword.value) &&\r\n    /[a-zA-Z]/.test(newPassword.value) &&\r\n    confirmPassword.value === newPassword.value\r\n  )\r\n})\r\n\r\nconst sendCode = async () => {\r\n  if (countdown.value > 0 || loading.value) return\r\n  loading.value = true // Fix: Disable immediately\r\n  try {\r\n    const res = await authApi.sendOtp(props.email)\r\n    if (res.success) {\r\n      startTimer(COOLDOWN_SECONDS)\r\n      ElMessage.success(CLIENT_MESSAGES.PASSWORD_MODAL.CODE_SENT)\r\n    } else {\r\n      ElMessage.error(res.msg || CLIENT_MESSAGES.PASSWORD_MODAL.SEND_FAIL)\r\n    }\r\n  } catch (e: any) {\r\n    ElMessage.error(e.message || CLIENT_MESSAGES.PASSWORD_MODAL.SEND_FAIL)\r\n  } finally {\r\n    loading.value = false // Fix: Re-enable\r\n  }\r\n}\r\n\r\nconst handleSubmit = async () => {\r\n  if (!canSubmit.value || loading.value) return\r\n  loading.value = true\r\n  \r\n  try {\r\n    const verifyRes = await authApi.verifyOtp(props.email, otpCode.value)\r\n    if (!verifyRes.success) {\r\n      ElMessage.error(verifyRes.msg || CLIENT_MESSAGES.PASSWORD_MODAL.VERIFY_FAIL)\r\n      loading.value = false\r\n      return\r\n    }\r\n\r\n    const updateRes = await authApi.updatePassword(newPassword.value)\r\n    if (updateRes.success) {\r\n      ElMessage.success(CLIENT_MESSAGES.PASSWORD_MODAL.SUCCESS)\r\n      emit('close')\r\n    } else {\r\n      ElMessage.error(updateRes.msg || CLIENT_MESSAGES.PASSWORD_MODAL.FAIL)\r\n    }\r\n  } catch (e: any) {\r\n    if (e.message?.toLowerCase().includes('different')) {\r\n      ElMessage.error(CLIENT_MESSAGES.PASSWORD_MODAL.SAME_PASSWORD)\r\n    } else {\r\n      ElMessage.error(e.message || CLIENT_MESSAGES.GLOBAL.UNKNOWN_ERROR)\r\n    }\r\n  } finally {\r\n    loading.value = false\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.code-group-wrapper {\r\n  position: relative;\r\n}\r\n.code-group-inner {\r\n  position: relative;\r\n  width: 100%;\r\n}\r\n.code-input {\r\n  padding-right: 120px !important;\r\n}\r\n\r\n.password-strength {\r\n  font-size: 12px;\r\n  color: #94A3B8;\r\n  margin-top: 6px;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 6px;\r\n}\r\n.weak { color: #EF4444; font-weight: 600; }\r\n.medium { color: #F59E0B; font-weight: 600; }\r\n.strong, .very-strong { color: #10B981; font-weight: 600; }\r\n</style>","<template>\n  <BaseModal\n    :visible=\"visible\"\n    title=\"æ³¨é”€è´¦å·\"\n    width=\"500px\"\n    :show-footer=\"false\"\n    theme-id=\"suit-001\"\n    @close=\"$emit('close')\"\n    @update:visible=\"$emit('update:visible', $event)\"\n  >\n    <div class=\"warning-box\">\n      <span class=\"warning-icon\">âš ï¸</span>\n      <div class=\"warning-content\">\n        è­¦å‘Šï¼šè´¦å·æ³¨é”€æ˜¯ä¸å¯æ¢å¤çš„æ“ä½œã€‚æ‰€æœ‰ä¸ªäººæ•°æ®ã€è®¢å•è®°å½•å’Œèµ„äº§å°†è¢«æ°¸ä¹…åˆ é™¤ã€‚\n      </div>\n    </div>\n\n    <div class=\"form-group\">\n      <label class=\"form-label\">é‚®ç®±éªŒè¯</label>\n      <div class=\"captcha-row\">\n        <input \n          v-model=\"otpCode\" \n          type=\"text\" \n          class=\"form-input\" \n          placeholder=\"è¯·è¾“å…¥éªŒè¯ç \" \n          maxlength=\"6\"\n          inputmode=\"numeric\"\n          autocomplete=\"off\"\n          @input=\"otpCode = otpCode.replace(/\\D/g, '')\"\n        />\n        <button \n          class=\"send-code-btn\" \n          :disabled=\"countdown > 0 || loading\" \n          @click=\"sendCode\"\n        >\n          {{ countdown > 0 ? `${countdown}såé‡å‘` : 'è·å–éªŒè¯ç ' }}\n        </button>\n      </div>\n      <p class=\"form-tip\">ä¸ºäº†æ‚¨çš„èµ„äº§å®‰å…¨ï¼Œè¯·éªŒè¯é‚®ç®±: {{ email }}</p>\n    </div>\n    \n    <div class=\"confirmation-area\">\n      <label class=\"checkbox-label\">\n        <input type=\"checkbox\" v-model=\"isConfirmed\" />\n        <span>æˆ‘å·²äº†è§£é£é™©ï¼Œç¡®è®¤æ³¨é”€å½“å‰è´¦å·</span>\n      </label>\n    </div>\n\n    <template #footer>\n      <button class=\"base-modal-cancel\" @click=\"$emit('close')\">å–æ¶ˆ</button>\n      <button \n        class=\"delete-btn\" \n        :disabled=\"!isConfirmed || !otpCode || loading\" \n        @click=\"handleDelete\"\n      >\n        {{ loading ? 'å¤„ç†ä¸­...' : 'ç¡®è®¤æ³¨é”€' }}\n      </button>\n    </template>\n  </BaseModal>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, onMounted, onUnmounted, watch } from 'vue'\nimport { authApi } from '@/api/auth'\nimport { ElMessage } from 'element-plus'\nimport { CLIENT_MESSAGES } from '@/utils/clientMessages'\n\nconst props = defineProps<{\n  visible?: boolean\n  email: string\n}>()\n\nconst emit = defineEmits(['close', 'confirm', 'update:visible'])\n\nconst isConfirmed = ref(false)\nconst otpCode = ref('')\nconst loading = ref(false)\nconst countdown = ref(0)\nlet timerInterval: any = null\n\nwatch(() => props.visible, (val) => {\n  if (val) {\n    isConfirmed.value = false\n    otpCode.value = ''\n  }\n})\n\nconst TIMER_KEY = 'otp_delete_timer_end'\nconst COOLDOWN_SECONDS = 300\n\nconst startTimer = (seconds: number, isNew = true) => {\n  countdown.value = seconds\n  if (isNew) {\n    const endTime = Date.now() + seconds * 1000\n    localStorage.setItem(TIMER_KEY, endTime.toString())\n  }\n\n  if (timerInterval) clearInterval(timerInterval)\n  timerInterval = setInterval(() => {\n    countdown.value--\n    if (countdown.value <= 0) {\n      clearInterval(timerInterval)\n      localStorage.removeItem(TIMER_KEY)\n    }\n  }, 1000)\n}\n\nconst restoreTimer = () => {\n  const endTimeStr = localStorage.getItem(TIMER_KEY)\n  if (endTimeStr) {\n    const endTime = parseInt(endTimeStr, 10)\n    const now = Date.now()\n    if (endTime > now) {\n      const remaining = Math.ceil((endTime - now) / 1000)\n      startTimer(remaining, false)\n    } else {\n      localStorage.removeItem(TIMER_KEY)\n    }\n  }\n}\n\nonMounted(() => { restoreTimer() })\nonUnmounted(() => { if (timerInterval) clearInterval(timerInterval) })\n\nconst sendCode = async () => {\n  if (countdown.value > 0) return\n  loading.value = true\n  try {\n    const res = await authApi.sendOtp(props.email)\n    if (res.success) {\n      ElMessage.success(CLIENT_MESSAGES.DELETE_MODAL.CODE_SENT)\n      startTimer(COOLDOWN_SECONDS)\n    } else {\n      ElMessage.error(res.msg || CLIENT_MESSAGES.PASSWORD_MODAL.SEND_FAIL)\n    }\n  } catch (e: any) {\n    ElMessage.error(e.message || CLIENT_MESSAGES.PASSWORD_MODAL.SEND_FAIL)\n  } finally {\n    loading.value = false\n  }\n}\n\nconst handleDelete = async () => {\n  if (!isConfirmed.value || !otpCode.value) return\n  \n  loading.value = true\n  try {\n    const verifyRes = await authApi.verifyOtp(props.email, otpCode.value)\n    if (!verifyRes.success) {\n      ElMessage.error(verifyRes.msg || CLIENT_MESSAGES.DELETE_MODAL.CODE_ERROR)\n      loading.value = false\n      return\n    }\n\n    emit('confirm')\n  } catch (e: any) {\n    ElMessage.error(e.message || CLIENT_MESSAGES.PASSWORD_MODAL.VERIFY_FAIL)\n    loading.value = false\n  }\n}\n</script>\n\n<style scoped>\n.warning-box {\n  background: rgba(239, 68, 68, 0.1);\n  border: 1px solid rgba(239, 68, 68, 0.2);\n  border-radius: 12px;\n  padding: 16px;\n  color: #EF4444;\n  display: flex;\n  gap: 12px;\n  align-items: flex-start;\n}\n\n.warning-icon {\n  font-size: 20px;\n}\n\n.warning-content {\n  font-size: 14px;\n  line-height: 1.5;\n  color: #FCA5A5;\n}\n\n.captcha-row {\n  display: flex;\n  gap: 12px;\n}\n\n.send-code-btn {\n  padding: 0 16px;\n  white-space: nowrap;\n  background: rgba(255, 255, 255, 0.05);\n  border: 1px solid rgba(255, 255, 255, 0.1);\n  border-radius: 12px;\n  color: #94A3B8;\n  font-size: 13px;\n  cursor: pointer;\n  height: 46px;\n  transition: all 0.2s;\n}\n.send-code-btn:hover { \n  background: rgba(255, 255, 255, 0.1); \n  color: #fff;\n}\n.send-code-btn:disabled { \n  opacity: 0.5; \n  cursor: not-allowed; \n}\n\n.confirmation-area {\n  display: flex;\n  justify-content: center;\n  margin-top: 8px;\n}\n\n.checkbox-label {\n  display: flex;\n  align-items: center;\n  gap: 10px;\n  cursor: pointer;\n  font-size: 14px;\n  color: #CBD5E1;\n  user-select: none;\n}\n\n.checkbox-label input {\n  width: 18px;\n  height: 18px;\n  accent-color: #EF4444;\n}\n\n.delete-btn {\n  padding: 10px 24px;\n  background: #EF4444;\n  border: none;\n  border-radius: 12px;\n  color: #fff;\n  cursor: pointer;\n  font-weight: 600;\n  transition: all 0.2s;\n  box-shadow: 0 4px 12px rgba(239, 68, 68, 0.3);\n}\n\n.delete-btn:disabled {\n  background: #4B5563;\n  box-shadow: none;\n  cursor: not-allowed;\n  opacity: 0.5;\n}\n\n.delete-btn:not(:disabled):hover {\n  background: #DC2626;\n  transform: translateY(-1px);\n}\n</style>\n","<template>\n  <div class=\"personal-info-page\">\n    <!-- 1. Hero Banner: Identity -->\n    <div class=\"profile-banner\">\n      <div class=\"banner-glass\"></div>\n      <div class=\"banner-content\">\n        <div class=\"hero-left\">\n          <div class=\"hero-avatar-wrapper\" @click=\"showModal('avatar')\">\n            <img :src=\"user.avatar || '/images/client/pc/avatars/avatar-cat.png'\" class=\"hero-avatar\" />\n            <div class=\"hero-avatar-overlay\"><el-icon><Camera /></el-icon></div>\n          </div>\n          <div class=\"hero-text\">\n            <h1 class=\"hero-nickname\">{{ user.nickname }}</h1>\n            <div class=\"hero-tags\">\n              <span class=\"user-tag role-tag\">FANTULA Member</span>\n              <span class=\"user-tag security-tag\">\n                <el-icon><CircleCheck /></el-icon> å®‰å…¨ç­‰çº§: é«˜\n              </span>\n            </div>\n          </div>\n        </div>\n        \n        <div class=\"hero-actions\">\n           <button class=\"glass-pill-btn primary-glass-btn\" @click=\"showModal('nickname')\">\n             <el-icon><Edit /></el-icon> ç¼–è¾‘èµ„æ–™\n           </button>\n        </div>\n      </div>\n    </div>\n\n    <!-- Scrollable Workspace -->\n    <div class=\"workspace-scroll-area\">\n      <div class=\"workspace-content\">\n        \n        <!-- 2. Info Grid (Data Display) -->\n        <div class=\"info-grid section-gap\">\n          <!-- UID Card -->\n          <div class=\"glass-tile info-tile\">\n            <div class=\"tile-icon-bg\"><el-icon><CreditCard /></el-icon></div>\n            <div class=\"tile-header\">\n              <div class=\"tile-label\">è´¦æˆ· UID</div>\n              <el-icon class=\"tile-corner-icon\"><CreditCard /></el-icon>\n            </div>\n            <div class=\"tile-value-group\">\n              <span class=\"tile-value-mono\">{{ user.uid || user.id || '---' }}</span>\n              <button class=\"copy-btn-mini\" @click=\"handleCopy(user.uid || user.id)\">\n                <el-icon><CopyDocument /></el-icon>\n              </button>\n            </div>\n          </div>\n\n          <!-- Email Card -->\n          <div class=\"glass-tile info-tile\">\n            <div class=\"tile-icon-bg\"><el-icon><Message /></el-icon></div>\n            <div class=\"tile-header\">\n              <div class=\"tile-label\">ç»‘å®šé‚®ç®±</div>\n              <div class=\"status-badge success\" v-if=\"user.email\">å·²ç»‘å®š</div>\n              <div class=\"status-badge warning\" v-else>æœªç»‘å®š</div>\n            </div>\n            <div class=\"tile-value-group\">\n              <span class=\"tile-value\">{{ user.email || 'æœªç»‘å®šé‚®ç®±' }}</span>\n              <button class=\"icon-action-btn\" @click=\"showModal('email')\">\n                <el-icon><EditPen /></el-icon>\n              </button>\n            </div>\n          </div>\n\n          <!-- Account Security / Stats (Placeholder for balance or reliability) -->\n          <div class=\"glass-tile info-tile\">\n             <div class=\"tile-icon-bg\"><el-icon><Lock /></el-icon></div>\n             <div class=\"tile-header\">\n               <div class=\"tile-label\">è´¦å·å®‰å…¨</div>\n               <div class=\"status-badge success\">ä¿æŠ¤ä¸­</div>\n             </div>\n             <div class=\"tile-value-group\">\n               <div class=\"security-level-bar\">\n                 <div class=\"level-fill\" style=\"width: 100%\"></div>\n               </div>\n               <span class=\"tile-meta\">æé«˜</span>\n             </div>\n          </div>\n        </div>\n\n        <!-- 3. Command Center (Actions) -->\n        <div class=\"command-center section-gap\">\n          <h3 class=\"section-title\">è´¦æˆ·ç®¡ç†</h3>\n          <div class=\"command-grid\">\n            \n            <!-- Update Password -->\n            <div class=\"action-card-lg\" @click=\"showModal('password')\">\n              <div class=\"card-bg-icon\">ğŸ”‘</div>\n              <div class=\"card-content\">\n                <div class=\"card-icon-frame blue-frame\"><el-icon><Key /></el-icon></div>\n                <div class=\"card-text\">\n                  <span class=\"card-title\">ä¿®æ”¹å¯†ç </span>\n                  <span class=\"card-desc\">å®šæœŸæ›´æ–°å¯†ç ä¿æŠ¤è´¦å·å®‰å…¨</span>\n                </div>\n              </div>\n              <div class=\"card-arrow\"><el-icon><ArrowRight /></el-icon></div>\n            </div>\n\n            <!-- Account Binding -->\n            <div class=\"action-card-lg\" @click=\"showModal('google')\">\n              <div class=\"card-bg-icon\">ğŸ”—</div>\n              <div class=\"card-content\">\n                <div class=\"card-icon-frame purple-frame\"><el-icon><Connection /></el-icon></div>\n                <div class=\"card-text\">\n                  <span class=\"card-title\">è´¦å·ç»‘å®š</span>\n                  <span class=\"card-desc\">Google / å¾®ä¿¡ å¿«æ·ç™»å½•</span>\n                </div>\n              </div>\n              <div class=\"card-arrow\"><el-icon><ArrowRight /></el-icon></div>\n            </div>\n\n            <!-- Delete Account -->\n            <div class=\"action-card-lg danger-card\" @click=\"showModal('delete')\">\n              <div class=\"card-bg-icon\">âš ï¸</div>\n              <div class=\"card-content\">\n                <div class=\"card-icon-frame red-frame\"><el-icon><Warning /></el-icon></div>\n                <div class=\"card-text\">\n                  <span class=\"card-title\">æ³¨é”€è´¦å·</span>\n                  <span class=\"card-desc\">æ°¸ä¹…åˆ é™¤è´¦å·æ•°æ®</span>\n                </div>\n              </div>\n              <div class=\"card-arrow\"><el-icon><ArrowRight /></el-icon></div>\n            </div>\n            \n          </div>\n        </div>\n\n      </div>\n    </div>\n\n    <!-- Modals (v-model:visible for correct transition handling) -->\n    <ChangeAvatarModal v-model:visible=\"modals.avatar\" :current-avatar=\"user.avatar\" @close=\"closeModal('avatar')\" @update=\"updateAvatar\" />\n    <ChangeNicknameModal v-model:visible=\"modals.nickname\" :current-nickname=\"user.nickname\" @close=\"closeModal('nickname')\" @update=\"updateNickname\" />\n    <BindEmailModal v-model:visible=\"modals.email\" :current-email=\"user.email\" @close=\"closeModal('email')\" @confirm=\"updateEmail\" />\n    <BindGoogleModal v-model:visible=\"modals.google\" :is-bound=\"!!user.isGoogleBound\" :current-google-email=\"user.googleEmail\" @close=\"closeModal('google')\" @bind=\"handleGoogleBind\" />\n    <ChangePasswordModal v-model:visible=\"modals.password\" :email=\"user.email\" @close=\"closeModal('password')\" />\n    <DeleteAccountModal v-model:visible=\"modals.delete\" :email=\"user.email\" @close=\"closeModal('delete')\" @confirm=\"handleDeleteAccount\" />\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { reactive } from 'vue'\nimport { authApi } from '@/api/auth'\nimport { useUserStore } from '@/stores/user'\nimport { ElMessage, ElMessageBox } from 'element-plus'\nimport { \n  Camera, Edit, CircleCheck, CreditCard, CopyDocument, \n  Message, EditPen, Lock, Key, Connection, Warning, ArrowRight \n} from '@element-plus/icons-vue'\nimport { CLIENT_MESSAGES } from '@/utils/clientMessages'\n\n// Component Imports (Explicit to fix hydration/loading issues)\nimport ChangeAvatarModal from '@/components/ChangeAvatarModal.vue'\nimport ChangeNicknameModal from '@/components/ChangeNicknameModal.vue'\nimport BindEmailModal from '@/components/BindEmailModal.vue'\nimport BindGoogleModal from '@/components/BindGoogleModal.vue'\nimport ChangePasswordModal from '@/components/ChangePasswordModal.vue'\nimport DeleteAccountModal from '@/components/DeleteAccountModal.vue'\n\n// Define Props\ninterface Props {\n  user: any \n}\n\nconst props = defineProps<Props>()\nconst emit = defineEmits(['update:user'])\nconst userStore = useUserStore()\n\n// Modals State\nconst modals = reactive({\n  avatar: false,\n  nickname: false,\n  email: false,\n  google: false,\n  password: false,\n  delete: false\n})\n\nconst showModal = (type: keyof typeof modals) => {\n  Object.keys(modals).forEach(k => {\n    modals[k as keyof typeof modals] = false\n  })\n  modals[type] = true\n}\n\nconst closeModal = (type: keyof typeof modals) => {\n  modals[type] = false\n}\n\n// Handlers\nconst updateAvatar = async (newAvatar: string) => {\n  try {\n    const res = await authApi.updateProfile({ avatar: newAvatar })\n    if (res.success) {\n      ElMessage.success(CLIENT_MESSAGES.PROFILE.AVATAR_UPDATE)\n      await userStore.fetchUserInfo()\n      closeModal('avatar')\n    } else {\n      ElMessage.error(res.msg || CLIENT_MESSAGES.PROFILE.AVATAR_FAIL)\n    }\n  } catch (error: any) {\n    ElMessage.error(error.message || CLIENT_MESSAGES.PROFILE.AVATAR_FAIL)\n  }\n}\n\nconst updateNickname = async (newNickname: string) => {\n  try {\n    const res = await authApi.updateProfile({ nickname: newNickname })\n    if (res.success) {\n      ElMessage.success(CLIENT_MESSAGES.PROFILE.NICKNAME_UPDATE)\n      await userStore.fetchUserInfo()\n      closeModal('nickname')\n    } else {\n      ElMessage.error(res.msg || CLIENT_MESSAGES.PROFILE.NICKNAME_FAIL)\n    }\n  } catch (error: any) {\n    ElMessage.error(error.message || CLIENT_MESSAGES.PROFILE.NICKNAME_FAIL)\n  }\n}\n\nconst updateEmail = async (newEmail: string) => {\n  await userStore.fetchUserInfo()\n  closeModal('email')\n}\n\nconst handleGoogleBind = () => {\n  console.log('Google Bind Action Triggered')\n}\n\nconst handleDeleteAccount = async () => {\n  try {\n    const res = await authApi.deleteAccount()\n    if (res.success) {\n      const { ElMessageBox } = await import('element-plus')\n      await userStore.logout()\n      ElMessageBox.alert(\n        'æ‚¨çš„è´¦å·å·²æˆåŠŸæ³¨é”€ï¼Œæ‰€æœ‰æ•°æ®å·²è¢«æ°¸ä¹…åˆ é™¤ã€‚æ„Ÿè°¢æ‚¨çš„ä½¿ç”¨ï¼',\n        'æ³¨é”€æˆåŠŸ',\n        {\n          confirmButtonText: 'è¿”å›é¦–é¡µ',\n          type: 'success',\n          center: true,\n          callback: () => {\n            window.location.href = '/'\n          }\n        }\n      )\n    } else {\n      ElMessage.error(res.msg || CLIENT_MESSAGES.PROFILE.LOGOUT_FAIL) // Mapped as defined\n    }\n  } catch (error: any) {\n    ElMessage.error(error.message || CLIENT_MESSAGES.PROFILE.LOGOUT_FAIL)\n  }\n}\n\nconst handleCopy = (text: string) => {\n  if(!text || text === '---') return\n  navigator.clipboard.writeText(text).then(() => {\n    ElMessage.success(CLIENT_MESSAGES.PROFILE.UID_COPY)\n  })\n}\n</script>\n\n<style scoped>\n/* Page Layout */\n.personal-info-page {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  width: 100%;\n  position: relative;\n  /* Parent container handles the sheer glass frame */\n}\n\n/* 1. Hero Banner */\n.profile-banner {\n  flex-shrink: 0;\n  position: relative;\n  width: 100%;\n  height: 180px; /* Reduced from excessive height */\n  overflow: hidden;\n  border-bottom: 1px solid rgba(255, 255, 255, 0.05);\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 0 40px;\n}\n\n/* Mesh Gradient Background */\n.banner-glass {\n  position: absolute;\n  top: 0; left: 0; width: 100%; height: 100%;\n  background: radial-gradient(circle at 10% 20%, rgba(59, 130, 246, 0.15), transparent 40%),\n              radial-gradient(circle at 90% 80%, rgba(6, 182, 212, 0.1), transparent 40%);\n  pointer-events: none;\n  z-index: 1;\n}\n\n.banner-content {\n  position: relative;\n  z-index: 2;\n  width: 100%;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.hero-left {\n  display: flex;\n  align-items: center;\n  gap: 24px;\n}\n\n.hero-avatar-wrapper {\n  position: relative;\n  width: 88px; height: 88px;\n  cursor: pointer;\n}\n\n.hero-avatar {\n  width: 100%; height: 100%;\n  border-radius: 50%;\n  border: 4px solid rgba(255,255,255,0.1);\n  box-shadow: 0 8px 16px rgba(0,0,0,0.2);\n  transition: all 0.3s ease;\n}\n\n.hero-avatar-overlay {\n  position: absolute;\n  top: 0; left: 0; width: 100%; height: 100%;\n  border-radius: 50%;\n  background: rgba(0,0,0,0.4);\n  display: flex; align-items: center; justify-content: center;\n  opacity: 0;\n  transition: opacity 0.2s;\n  color: #fff; font-size: 24px;\n  backdrop-filter: blur(2px);\n}\n\n.hero-avatar-wrapper:hover .hero-avatar-overlay { opacity: 1; }\n.hero-avatar-wrapper:hover .hero-avatar { border-color: rgba(6, 182, 212, 0.5); }\n\n.hero-text {\n  display: flex; flex-direction: column; gap: 8px;\n}\n\n.hero-nickname {\n  margin: 0;\n  font-size: 28px; font-weight: 700; color: #fff;\n  letter-spacing: -0.5px;\n  text-shadow: 0 2px 4px rgba(0,0,0,0.3);\n}\n\n.hero-tags {\n  display: flex; gap: 10px;\n}\n\n.user-tag {\n  font-size: 12px; font-weight: 500;\n  padding: 4px 10px; border-radius: 6px;\n  display: flex; align-items: center; gap: 6px;\n}\n\n.user-tag.role-tag {\n  background: rgba(59, 130, 246, 0.15);\n  color: #60A5FA;\n  border: 1px solid rgba(59, 130, 246, 0.2);\n}\n\n.user-tag.security-tag {\n  background: rgba(16, 185, 129, 0.15);\n  color: #34D399;\n  border: 1px solid rgba(16, 185, 129, 0.2);\n}\n\n/* Glass Pill Button */\n.glass-pill-btn {\n  display: flex; align-items: center; gap: 8px;\n  padding: 10px 20px;\n  border-radius: 100px;\n  border: 1px solid rgba(255,255,255,0.1);\n  background: rgba(255,255,255,0.05);\n  color: #fff;\n  font-size: 14px; font-weight: 500;\n  cursor: pointer;\n  transition: all 0.3s;\n  backdrop-filter: blur(4px);\n}\n\n.primary-glass-btn:hover {\n  background: linear-gradient(90deg, #06B6D4 0%, #3B82F6 100%);\n  border-color: transparent;\n  box-shadow: 0 4px 15px rgba(6, 182, 212, 0.3);\n  transform: translateY(-1px);\n}\n\n/* Scroll Area */\n.workspace-scroll-area {\n  flex: 1;\n  overflow-y: auto;\n  padding-bottom: 40px;\n}\n.workspace-scroll-area::-webkit-scrollbar { width: 0; }\n\n.workspace-content {\n  padding: 32px 40px;\n  max-width: 1200px;\n  margin: 0 auto;\n}\n\n.section-gap { margin-bottom: 40px; }\n.section-title {\n  font-size: 16px; font-weight: 600; color: #94A3B8;\n  margin-bottom: 20px; letter-spacing: 0.5px;\n}\n\n/* 2. Info Grid */\n.info-grid {\n  display: grid;\n  grid-template-columns: repeat(3, 1fr);\n  gap: 20px;\n}\n\n.glass-tile {\n  position: relative;\n  background: rgba(255, 255, 255, 0.03);\n  border: 1px solid rgba(255, 255, 255, 0.06);\n  border-radius: 16px;\n  padding: 20px;\n  overflow: hidden;\n  display: flex; flex-direction: column; gap: 16px;\n  transition: all 0.3s;\n}\n\n.glass-tile:hover {\n  background: rgba(255, 255, 255, 0.05);\n  border-color: rgba(255, 255, 255, 0.1);\n  transform: translateY(-2px);\n  box-shadow: 0 10px 25px rgba(0,0,0,0.2);\n}\n\n.tile-icon-bg {\n  position: absolute; bottom: -10px; right: -10px;\n  font-size: 80px; color: rgba(255,255,255,0.15); /* Significantly Increased visibility */\n  transform: rotate(-15deg);\n  pointer-events: none;\n}\n\n.tile-header {\n  display: flex; justify-content: space-between; align-items: start;\n}\n\n.tile-label { font-size: 13px; color: #64748B; font-weight: 600; text-transform: uppercase; letter-spacing: 0.5px; }\n\n.tile-corner-icon { font-size: 20px; color: rgba(255,255,255,0.1); }\n\n.status-badge {\n  font-size: 12px; padding: 2px 8px; border-radius: 4px; border: 1px solid;\n}\n.status-badge.success { color: #34D399; background: rgba(52, 211, 153, 0.1); border-color: rgba(52, 211, 153, 0.2); }\n.status-badge.warning { color: #FBBF24; background: rgba(251, 191, 36, 0.1); border-color: rgba(251, 191, 36, 0.2); }\n\n.tile-value-group {\n  display: flex; align-items: center; justify-content: space-between;\n}\n\n.tile-value-mono {\n  font-family: 'Monaco', monospace; font-size: 18px; color: #E2E8F0; font-weight: 600; letter-spacing: 1px;\n}\n.tile-value { font-size: 16px; color: #E2E8F0; font-weight: 500; }\n.tile-meta { font-size: 16px; color: #34D399; font-weight: 600; }\n\n.copy-btn-mini, .icon-action-btn {\n  background: transparent; border: none; color: #64748B;\n  cursor: pointer; font-size: 16px; padding: 4px; border-radius: 4px;\n  transition: all 0.2s;\n}\n.copy-btn-mini:hover, .icon-action-btn:hover { background: rgba(255,255,255,0.1); color: #fff; }\n\n.security-level-bar {\n  flex: 1; height: 6px; background: rgba(255,255,255,0.1);\n  border-radius: 3px; margin-right: 12px; overflow: hidden;\n}\n.level-fill { height: 100%; background: #34D399; border-radius: 3px; }\n\n\n/* 3. Command Center */\n.command-grid {\n  display: grid;\n  grid-template-columns: repeat(3, 1fr);\n  gap: 20px;\n}\n\n.action-card-lg {\n  position: relative;\n  background: rgba(255, 255, 255, 0.03);\n  border: 1px solid rgba(255, 255, 255, 0.06);\n  border-radius: 16px;\n  padding: 24px;\n  cursor: pointer;\n  display: flex; align-items: center; justify-content: space-between;\n  overflow: hidden;\n  transition: all 0.3s ease;\n  min-height: 100px;\n}\n\n.action-card-lg:hover {\n  background: rgba(59, 130, 246, 0.08); /* Blue Tint */\n  border-color: rgba(59, 130, 246, 0.3);\n  transform: translateY(-2px);\n  box-shadow: 0 4px 20px rgba(59, 130, 246, 0.1);\n}\n\n.danger-card:hover {\n  background: rgba(239, 68, 68, 0.08); /* Red Tint */\n  border-color: rgba(239, 68, 68, 0.3);\n  box-shadow: 0 4px 20px rgba(239, 68, 68, 0.1);\n}\n\n.card-bg-icon {\n  position: absolute; right: -10px; bottom: -15px;\n  font-size: 90px; opacity: 0.15; /* Significantly Increased visibility */\n  transform: rotate(10deg);\n  pointer-events: none;\n  filter: grayscale(1);\n  transition: all 0.3s;\n}\n\n.action-card-lg:hover .card-bg-icon {\n  opacity: 0.1;\n  filter: grayscale(0);\n  transform: rotate(0deg) scale(1.1);\n}\n\n.card-content {\n  display: flex; align-items: center; gap: 16px;\n  position: relative; z-index: 2;\n}\n\n.card-icon-frame {\n  width: 48px; height: 48px;\n  border-radius: 12px;\n  display: flex; align-items: center; justify-content: center;\n  font-size: 20px;\n}\n\n.blue-frame { background: rgba(59, 130, 246, 0.15); color: #60A5FA; }\n.purple-frame { background: rgba(139, 92, 246, 0.15); color: #A78BFA; }\n.red-frame { background: rgba(239, 68, 68, 0.15); color: #F87171; }\n\n.card-text { display: flex; flex-direction: column; gap: 4px; }\n.card-title { font-size: 16px; font-weight: 600; color: #F1F5F9; }\n.card-desc { font-size: 12px; color: #64748B; }\n\n.card-arrow {\n  color: #475569; font-size: 18px; transition: all 0.3s;\n  position: relative; z-index: 2;\n}\n\n.action-card-lg:hover .card-arrow {\n  color: #fff; transform: translateX(6px);\n}\n\n/* Responsive */\n@media (max-width: 1000px) {\n  .info-grid, .command-grid { grid-template-columns: 1fr; }\n  .profile-banner { flex-direction: column; padding: 20px; height: auto; gap: 20px; align-items: flex-start; }\n  .banner-content { flex-direction: column; align-items: flex-start; gap: 20px; }\n  .hero-actions { width: 100%; display: flex; justify-content: flex-end; }\n}\n</style>","<template>\n  <ProfilePersonalInfo :user=\"userInfo\" @update:user=\"handleUserUpdate\" />\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, computed, onMounted, watch } from 'vue'\nimport ProfilePersonalInfo from '@/components/ProfilePersonalInfo.vue'\nimport { useUserStore } from '@/stores/user'\n\nconst userStore = useUserStore()\n\n// ä» UserStore è·å–çœŸå®ç”¨æˆ·æ•°æ®\nconst userInfo = computed(() => {\n  const storeUser = userStore.user\n  if (storeUser) {\n    return {\n      id: storeUser.id,\n      uid: storeUser.uid || storeUser.id?.slice(0, 8) || 'æœªåˆ†é…',\n      nickname: storeUser.nickName || storeUser.nickname || storeUser.email?.split('@')[0] || 'ç”¨æˆ·',\n      avatar: storeUser.avatar || '',\n      email: storeUser.email || 'æœªç»‘å®š',\n      isGoogleBound: false,\n      googleEmail: ''\n    }\n  }\n  // æœªç™»å½•/åŠ è½½ä¸­æ—¶çš„é»˜è®¤å€¼ (Instant Default)\n  return {\n    id: '',\n    uid: '---', // å ä½ç¬¦æ¯”\"åŠ è½½ä¸­\"æ›´å¹²å‡€\n    nickname: 'ç”¨æˆ·', // é»˜è®¤ç§°å‘¼\n    avatar: '',\n    email: 'æœªç»‘å®š',\n    isGoogleBound: false,\n    googleEmail: ''\n  }\n})\n\nconst handleUserUpdate = (newUser: any) => {\n  // è§¦å‘ UserStore é‡æ–°è·å–ç”¨æˆ·ä¿¡æ¯\n  userStore.fetchUserInfo()\n}\n\nonMounted(() => {\n  // å¦‚æœç”¨æˆ·å·²ç™»å½•ä½†æ•°æ®å°šæœªåŠ è½½ï¼Œå°è¯•è·å–\n  if (userStore.isLoggedIn && !userStore.user) {\n    userStore.fetchUserInfo()\n  }\n})\n</script>\n\n "],"names":["_ssrRenderComponent","_withCtx","_createVNode","_openBlock","_createBlock","_unref","UserFilled","Upload","_createTextVNode","_Fragment","_renderList","Check","_withDirectives","_withKeys","TIMER_KEY","COOLDOWN_SECONDS","_createCommentVNode","$emit","_push","_parent","_ssrRenderAttr","_toDisplayString","ElMessageBox","_ssrInterpolate"],"mappings":"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"}