{"version":3,"file":"CdkListByType-CSrNqP1A.js","sources":["../../../../components/admin/cdk/CdkListByType.vue"],"sourcesContent":["<template>\n  <div class=\"cdk-list-view\">\n    <!-- Action Bar (simplified - no tip, no unlinked filter, no batch delete) -->\n    <AdminActionCard>\n      <template #default>\n        <div class=\"filter-group\">\n            <!-- Category Filter -->\n            <el-select \n                v-model=\"filters.categoryId\" \n                placeholder=\"选择分类\" \n                clearable \n                style=\"width: 140px;\"\n                @change=\"handleCategoryChange\"\n            >\n                <el-option \n                  v-for=\"c in categoryOptions\" \n                  :key=\"c.id\" \n                  :label=\"c.name\" \n                  :value=\"c.id\" \n                />\n            </el-select>\n\n            <!-- Product Filter -->\n            <el-select \n                v-model=\"filters.productId\" \n                placeholder=\"筛选商品\" \n                clearable \n                filterable \n                style=\"width: 160px;\"\n                @change=\"handleSearch\"\n                :disabled=\"!filters.categoryId\"\n            >\n                <el-option \n                  v-for=\"p in filteredProducts\" \n                  :key=\"p.id\" \n                  :label=\"p.product_name\" \n                  :value=\"p.id\" \n                />\n            </el-select>\n\n            <!-- Status Filter -->\n            <el-select \n                v-model=\"filters.status\" \n                placeholder=\"状态\" \n                clearable \n                style=\"width: 120px;\"\n                @change=\"handleSearch\"\n            >\n                <el-option label=\"未连接SKU\" value=\"unlinked\" />\n                <el-option label=\"空闲\" value=\"idle\" />\n                <el-option label=\"使用中\" value=\"using\" />\n                <el-option label=\"已使用\" value=\"used\" />\n                <el-option label=\"已下架\" value=\"disabled\" />\n            </el-select>\n        </div>\n      </template>\n\n      <template #actions>\n        <el-button @click=\"loadCdks\" :icon=\"Refresh\">刷新</el-button>\n        <el-button \n          type=\"danger\" \n          :icon=\"Delete\" \n          :disabled=\"!selectedRows.length\"\n          @click=\"handleBulkDelete\"\n        >\n          批量删除\n        </el-button>\n        <el-button type=\"primary\" :icon=\"Plus\" @click=\"handleAdd\">新增 {{ typeLabel }}</el-button>\n      </template>\n    </AdminActionCard>\n\n    <!-- Data Table -->\n    <AdminDataTable \n        :data=\"cdkList\" \n        :loading=\"loading\"\n        @selection-change=\"handleSelectionChange\"\n    >\n        <el-table-column type=\"selection\" width=\"55\" />\n        \n        <!-- 商品 -->\n        <el-table-column label=\"商品\" min-width=\"180\">\n           <template #default=\"{ row }\">\n              <div class=\"product-cell\">\n                <el-image \n                  v-if=\"row.product_snapshot?.product_image\" \n                  :src=\"row.product_snapshot.product_image\" \n                  fit=\"cover\"\n                  style=\"width: 40px; height: 40px; border-radius: 4px; margin-right: 8px;\"\n                />\n                <span class=\"product-name\">{{ row.product_snapshot?.product_name || '未知商品' }}</span>\n              </div>\n           </template>\n        </el-table-column>\n\n        <!-- 规格 (绑定SKU) -->\n        <el-table-column label=\"规格\" min-width=\"160\">\n            <template #default=\"{ row }\">\n               <div v-if=\"row.sku_mappings && row.sku_mappings.length > 0\" class=\"sku-mappings-cell\">\n                   <el-tag \n                       v-for=\"mapping in row.sku_mappings.slice(0, 2)\" \n                       :key=\"mapping.id\"\n                       size=\"small\"\n                       effect=\"plain\"\n                       style=\"margin-right: 4px;\"\n                   >\n                       {{ formatSkuSpec(mapping.sku?.spec_combination) }}\n                   </el-tag>\n                   <span v-if=\"row.sku_mappings.length > 2\" class=\"more-tag\">+{{ row.sku_mappings.length - 2 }}</span>\n               </div>\n               <el-tag v-else type=\"warning\" size=\"small\" effect=\"plain\">未绑定</el-tag>\n            </template>\n        </el-table-column>\n\n        <!-- 内容 (code) - Parse JSON to key:value display -->\n        <el-table-column label=\"内容\" min-width=\"240\">\n           <template #default=\"{ row }\">\n               <div class=\"code-display\">\n                   <span class=\"code-text\">{{ formatCodeDisplay(row.code) }}</span>\n                   <el-button v-if=\"row.code\" link size=\"small\" @click=\"copyCode(row.code)\">复制</el-button>\n               </div>\n           </template>\n        </el-table-column>\n\n        <!-- 库存/剩余 - Different for shared type -->\n        <el-table-column v-if=\"props.type === 'shared'\" label=\"库存/剩余\" width=\"120\" align=\"center\">\n            <template #default=\"{ row }\">\n                <div class=\"stock-info\">\n                    <span>{{ row.max_slots || 1 }}</span>\n                    <span class=\"stock-divider\">/</span>\n                    <span class=\"remaining\">{{ getIdleSlots(row) }}</span>\n                </div>\n            </template>\n        </el-table-column>\n\n        <el-table-column v-else label=\"库存\" width=\"80\" align=\"center\">\n            <template #default=\"{ row }\">\n                <span>{{ row.stock ?? 1 }}</span>\n            </template>\n        </el-table-column>\n\n        <!-- 状态 -->\n        <el-table-column label=\"状态\" width=\"100\" align=\"center\">\n            <template #default=\"{ row }\">\n                <el-switch\n                    v-if=\"['idle', 'disabled'].includes(row.status)\"\n                    :model-value=\"row.status === 'idle'\"\n                    active-text=\"上架\"\n                    inactive-text=\"下架\"\n                    inline-prompt\n                    @change=\"(val: boolean) => handleToggleStatus(row, val)\"\n                />\n                <el-tag v-else :type=\"getStatusType(row.status)\" size=\"small\">{{ getStatusLabel(row.status) }}</el-tag>\n            </template>\n        </el-table-column>\n\n        <!-- 操作 -->\n        <el-table-column label=\"操作\" width=\"100\" align=\"center\" fixed=\"right\">\n            <template #default=\"{ row }\">\n                <el-button link type=\"primary\" size=\"small\" @click=\"handleEdit(row)\">编辑</el-button>\n            </template>\n        </el-table-column>\n    </AdminDataTable>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, reactive, computed, onMounted } from 'vue'\nimport { Refresh, Plus, Delete } from '@element-plus/icons-vue'\nimport { ElMessage, ElMessageBox } from 'element-plus'\nimport { adminProductApi, adminCdkApi, adminCategoryApi, type AdminProduct, type AdminCDK, type ProductCategory } from '@/api/admin-supabase'\nimport AdminActionCard from '@/components/admin/base/AdminActionCard.vue'\nimport AdminDataTable from '@/components/admin/base/AdminDataTable.vue'\nimport { useBizConfig } from '@/composables/common/useBizConfig'\n\nconst { getProductTypeLabel, getCdkStatusLabel, getCdkStatusType } = useBizConfig()\n\nconst props = defineProps<{\n    type: 'virtual' | 'shared' | 'one_time'\n}>()\n\nconst router = useRouter()\n\n// Get label\nconst typeLabel = computed(() => getProductTypeLabel(props.type))\n\n// State\nconst loading = ref(false)\nconst cdkList = ref<AdminCDK[]>([])\nconst categoryOptions = ref<ProductCategory[]>([])\nconst productOptions = ref<AdminProduct[]>([])\nconst selectedRows = ref<AdminCDK[]>([])\n\nconst filters = reactive({\n    categoryId: '',\n    productId: '',\n    status: ''\n})\n\n// Computed: filter products by category\nconst filteredProducts = computed(() => {\n    if (!filters.categoryId) return productOptions.value\n    return productOptions.value.filter(p => p.category_id === filters.categoryId)\n})\n\n// Load Data\nconst loadCategories = async () => {\n    const res = await adminCategoryApi.getCategories()\n    if(res.success) categoryOptions.value = res.categories\n}\n\nconst loadProducts = async () => {\n    const res = await adminProductApi.getProducts()\n    if(res.success) productOptions.value = res.products\n}\n\nconst loadCdks = async () => {\n    loading.value = true\n    try {\n        const params: any = {\n            cdk_type: props.type,\n            limit: 200\n        }\n        if(filters.productId) params.product_id = filters.productId\n        // 'unlinked' is handled client-side, other statuses pass to API\n        if(filters.status && filters.status !== 'unlinked') params.status = filters.status\n        \n        const res = await adminCdkApi.getCdks(params)\n        if(res.success) {\n            let result = res.cdks\n            // Client-side filter for unlinked (no SKU mappings)\n            if(filters.status === 'unlinked') {\n                result = result.filter(cdk => !cdk.sku_mappings || cdk.sku_mappings.length === 0)\n            }\n            cdkList.value = result\n        }\n        else ElMessage.error(res.error)\n    } catch(e: any) {\n        ElMessage.error(e.message)\n    } finally {\n        loading.value = false\n    }\n}\n\nconst handleCategoryChange = () => {\n    filters.productId = ''\n    loadCdks()\n}\n\nconst handleSearch = () => loadCdks()\n\n// Actions\nconst handleAdd = () => {\n    router.push({ path: '/_mgmt_9Xfa3/cdk/post', query: { type: props.type } })\n}\n\nconst handleEdit = (row: AdminCDK) => {\n    router.push({\n        path: `/_mgmt_9Xfa3/cdk/edit/${row.id}`,\n        query: { type: props.type }\n    })\n}\n\nconst handleToggleStatus = async (row: AdminCDK, enabled: boolean) => {\n    if (enabled) {\n        const res = await adminCdkApi.enableCdk(row.id)\n        if(res.success) { ElMessage.success('上架成功'); loadCdks() }\n    } else {\n        const res = await adminCdkApi.disableCdk(row.id)\n        if(res.success) { ElMessage.success('下架成功'); loadCdks() }\n    }\n}\n\n// Selection & Bulk Delete\nconst handleSelectionChange = (rows: AdminCDK[]) => selectedRows.value = rows\n\nconst handleBulkDelete = () => {\n    if(!selectedRows.value.length) return\n    ElMessageBox.confirm(`确认批量删除 ${selectedRows.value.length} 条 CDK？`, '警告', { \n        type: 'warning',\n        confirmButtonText: '确定删除',\n        cancelButtonText: '取消'\n    }).then(async () => {\n        const res = await adminCdkApi.deleteCdks(selectedRows.value.map(r => r.id))\n        if(res.success) { \n            ElMessage.success('批量删除成功')\n            selectedRows.value = []\n            loadCdks() \n        }\n        else ElMessage.error(res.error)\n    })\n}\n\n// Helpers\nconst getStatusLabel = (s: string) => getCdkStatusLabel(s)\nconst getStatusType = (s: string) => getCdkStatusType(s)\nconst copyCode = (code: string) => {\n    navigator.clipboard.writeText(code)\n    ElMessage.success('已复制')\n}\nconst formatSkuSpec = (spec: any) => {\n    if(!spec) return '默认'\n    return Object.values(spec).join(' / ')\n}\n\n// Format code: parse JSON to readable display\nconst formatCodeDisplay = (code: string) => {\n    if (!code) return '-'\n    try {\n        const obj = JSON.parse(code)\n        if (typeof obj === 'object' && obj !== null) {\n            // Virtual type: {\"fields\": [\"游戏账号\", \"服务器\"]}\n            if (obj.fields && Array.isArray(obj.fields)) {\n                return `字段: ${obj.fields.join(', ')}`\n            }\n            // Shared type: {\"账号\":\"11\",\"密码\":\"11\"}\n            return Object.entries(obj).map(([k, v]) => `${k}：${v}`).join('  ')\n        }\n        return code\n    } catch {\n        return code\n    }\n}\n\n// Get idle slots count for shared type\nconst getIdleSlots = (row: AdminCDK) => {\n    // slot_occupancies may be included in the response, count idle ones\n    if (row.slot_occupancies && Array.isArray(row.slot_occupancies)) {\n        return row.slot_occupancies.filter((s: any) => s.status === 'idle').length\n    }\n    // Fallback: assume all slots are available if status is idle\n    if (row.status === 'idle') return row.max_slots || 1\n    return 0\n}\n\nonMounted(() => {\n    loadCategories()\n    loadProducts()\n    loadCdks()\n})\n</script>\n\n<style scoped>\n.cdk-list-view { height: 100%; display: flex; flex-direction: column; }\n\n.filter-group { display: flex; align-items: center; gap: 10px; }\n.product-cell { display: flex; align-items: center; }\n.product-name { font-weight: 500; font-size: 14px; }\n\n.code-display { display: flex; align-items: center; gap: 8px; }\n.code-text { font-size: 13px; color: #333; word-break: break-all; }\n\n.sku-mappings-cell { display: flex; flex-wrap: wrap; gap: 4px; align-items: center; }\n.more-tag { font-size: 12px; color: #909399; }\n\n.stock-info { display: flex; align-items: center; justify-content: center; font-size: 14px; }\n.stock-divider { margin: 0 4px; color: #dcdfe6; }\n.remaining { color: #67c23a; font-weight: 500; }\n</style>\n"],"names":["_ssrRenderAttrs","_mergeProps","_ssrRenderList","_createVNode","_openBlock","_createBlock","_Fragment","_renderList","_unref","Refresh","Delete","Plus","_createTextVNode","_toDisplayString","_createCommentVNode","_push"],"mappings":"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"}