{"file":"post-CqqH5X0N.js","mappings":"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","names":["_ssrRenderAttrs","_mergeProps","_unref","_ssrRenderComponent","_withCtx","_createVNode","ArrowLeft","_ssrRenderList","_openBlock","_createBlock","_Fragment","_renderList","_toDisplayString","_createCommentVNode","Delete","Plus","_createTextVNode","Minus","Cpu","_ssrRenderAttr"],"sources":["../../../../pages/_mgmt_9Xfa3/cdk/post.vue"],"sourcesContent":["<template>\n  <div class=\"cdk-post-page\">\n    \n    <!-- Header -->\n    <div class=\"wizard-header\">\n      <div class=\"header-left\">\n        <el-button link class=\"back-btn\" @click=\"router.back()\">\n          <el-icon class=\"back-icon\"><ArrowLeft /></el-icon> 返回列表\n        </el-button>\n        <div class=\"header-titles\">\n          <div class=\"main-title\">添加资源</div>\n          <div class=\"sub-title\">ADD RESOURCES</div>\n        </div>\n      </div>\n      <div class=\"header-center\">\n        <el-steps :active=\"activeStep\" finish-status=\"success\" simple style=\"width: 100%; background: transparent;\">\n          <el-step title=\"选择商品\" />\n          <el-step title=\"配置资源\" />\n          <el-step title=\"确认添加\" />\n        </el-steps>\n      </div>\n      <div class=\"header-right\"></div>\n    </div>\n\n    <!-- Body -->\n    <div class=\"wizard-body\">\n      <div class=\"centered-container\">\n        \n        <!-- Step 1: Product Selection -->\n        <div v-show=\"activeStep === 0\" class=\"step-content\">\n          <div class=\"form-card\">\n            <h3 class=\"card-title\">基础信息</h3>\n            <el-form :model=\"formStep1\" label-position=\"top\">\n              <el-form-item label=\"商品分类\">\n                <el-select v-model=\"formStep1.categoryId\" placeholder=\"请选择分类\" filterable @change=\"handleCategoryChange\" size=\"large\" style=\"width: 100%\">\n                  <el-option \n                    v-for=\"cat in categories\" \n                    :key=\"cat.id\" \n                    :label=\"cat.name\" \n                    :value=\"cat.id\"\n                  />\n                </el-select>\n              </el-form-item>\n\n              <el-form-item label=\"选择商品\">\n                <el-select v-model=\"formStep1.productId\" placeholder=\"请选择商品\" filterable @change=\"handleProductChange\" size=\"large\" style=\"width: 100%\" :disabled=\"!formStep1.categoryId\">\n                  <el-option \n                    v-for=\"prod in filteredProducts\" \n                    :key=\"prod.id\" \n                    :label=\"prod.product_name\" \n                    :value=\"prod.id\"\n                  >\n                    <span style=\"float: left\">{{ prod.product_name }}</span>\n                    <span style=\"float: right; color: #8492a6; font-size: 13px\">{{ getTypeText(prod.product_type) }}</span>\n                  </el-option>\n                </el-select>\n              </el-form-item>\n\n              <el-form-item label=\"关联 SKU (可多选)\">\n                <el-select \n                  v-model=\"formStep1.skuIds\" \n                  multiple \n                  placeholder=\"该资源将应用于哪些 SKU\" \n                  size=\"large\" \n                  style=\"width: 100%\"\n                  :disabled=\"!formStep1.productId\"\n                  :loading=\"loadingSkus\"\n                >\n                  <el-option\n                    v-for=\"sku in skuOptions\"\n                    :key=\"sku.id\"\n                    :label=\"sku.label\"\n                    :value=\"sku.id\"\n                  />\n                </el-select>\n              </el-form-item>\n\n              <el-alert \n                v-if=\"currentProduct\"\n                :title=\"`当前资源类型: ${getTypeText(currentCdkType)}`\" \n                type=\"info\" \n                show-icon \n                :closable=\"false\"\n                style=\"margin-top: 20px\"\n              >\n                 <template #default>\n                   <div v-if=\"currentCdkType === 'virtual'\">系统将引导您配置库存数量与订单填写字段。</div>\n                   <div v-if=\"currentCdkType === 'shared_account'\">系统将引导您输入账号密码及最大并发数。</div>\n                   <div v-if=\"currentCdkType === 'one_time_cdk'\">系统将引导您批量导入激活码内容。</div>\n                 </template>\n              </el-alert>\n            </el-form>\n          </div>\n        </div>\n\n        <!-- Step 2: Configuration -->\n        <div v-show=\"activeStep === 1\" class=\"step-content\">\n           <div class=\"form-card\">\n              <h3 class=\"card-title\">资源配置: {{ getTypeText(currentCdkType) }}</h3>\n              \n              <!-- Virtual Type UI -->\n              <div v-if=\"currentCdkType === 'virtual'\">\n                 <el-form :model=\"formVirtual\" label-position=\"top\">\n                    <el-form-item label=\"可用库存数\">\n                       <el-input-number v-model=\"formVirtual.stock\" :min=\"1\" size=\"large\" style=\"width: 100%\" />\n                       <div class=\"form-tip\">设置该资源的可用服务位数量 (如 GPT KEY 的并发上限)</div>\n                    </el-form-item>\n                    \n                    <el-divider content-position=\"left\">订单填写字段配置</el-divider>\n                    <div class=\"dynamic-fields\">\n                       <div v-for=\"(field, idx) in formVirtual.fields\" :key=\"idx\" class=\"field-row\">\n                          <el-input v-model=\"formVirtual.fields[idx]\" placeholder=\"输入字段名 (如: 游戏账号)\" />\n                          <el-button type=\"danger\" circle plain @click=\"removeVirtualField(idx)\"><el-icon><Delete /></el-icon></el-button>\n                       </div>\n                       <el-button type=\"dashed\" class=\"add-field-btn\" @click=\"addVirtualField\">\n                          <el-icon><Plus /></el-icon> 添加字段\n                       </el-button>\n                       <div class=\"form-tip\">用户下单时需要填写的辅助信息字段。</div>\n                    </div>\n                 </el-form>\n              </div>\n\n              <!-- Shared Account Type UI (Single Resource, like edit page) -->\n              <div v-if=\"currentCdkType === 'shared_account'\">\n                 <el-form label-position=\"top\">\n                    <el-form-item label=\"最大车位数\">\n                       <el-input-number v-model=\"formShared.maxSlots\" :min=\"1\" :max=\"10\" controls-position=\"right\" />\n                       <div class=\"form-tip\">决定该资源可同时服务的用户数</div>\n                    </el-form-item>\n                    \n                    <el-divider content-position=\"left\">属性配置</el-divider>\n                    <div class=\"kv-list\">\n                       <div v-for=\"(attr, idx) in formShared.attributes\" :key=\"idx\" class=\"kv-row\">\n                          <el-input v-model=\"attr.key\" placeholder=\"字段名(如:账号)\" style=\"width: 140px\" />\n                          <span class=\"separator\">:</span>\n                          <el-input v-model=\"attr.value\" placeholder=\"字段值\" style=\"flex: 1\" />\n                          <el-button circle plain size=\"small\" @click=\"formShared.attributes.splice(idx, 1)\" v-if=\"formShared.attributes.length > 1\">\n                            <el-icon><Minus /></el-icon>\n                          </el-button>\n                       </div>\n                       <el-button type=\"dashed\" size=\"small\" class=\"add-attr-btn\" @click=\"formShared.attributes.push({ key: '', value: '' })\">\n                          + 添加属性\n                       </el-button>\n                    </div>\n                 </el-form>\n              </div>\n\n              <!-- One-time CDK Type UI (Parse & Validate) -->\n              <div v-if=\"currentCdkType === 'one_time_cdk'\">\n                 <el-form :model=\"formCard\" label-position=\"top\">\n                    <el-form-item label=\"批量输入卡密\">\n                       <el-input \n                         v-model=\"formCard.rawContent\" \n                         type=\"textarea\" \n                         :rows=\"8\" \n                         placeholder=\"支持直接粘贴，自动去重过滤。&#10;AAAA-BBBB-CCCC&#10;1111-2222-3333\"\n                         @input=\"resetCardParse\"\n                       />\n                    </el-form-item>\n                    \n                    <div class=\"card-actions\">\n                       <el-button type=\"primary\" @click=\"parseCards\" :loading=\"parsing\" :disabled=\"!formCard.rawContent\">\n                          <el-icon><Cpu /></el-icon> 解析并校验\n                       </el-button>\n                       <span class=\"parse-tip\" v-if=\"!cardParsedResult\">未解析，请先点击解析按钮</span>\n                    </div>\n                    \n                    <!-- Parse Result Dashboard -->\n                    <transition name=\"el-zoom-in-top\">\n                      <div v-if=\"cardParsedResult\" class=\"parse-dashboard\">\n                         <div class=\"stat-item success\">\n                            <span class=\"num\">{{ cardParsedResult.valid.length }}</span>\n                            <span class=\"label\">可用数量</span>\n                         </div>\n                         <div class=\"stat-item warning\">\n                            <span class=\"num\">{{ cardParsedResult.duplicates.length }}</span>\n                            <span class=\"label\">重复/库存已存</span>\n                         </div>\n                          <div class=\"stat-item danger\">\n                            <span class=\"num\">{{ cardParsedResult.invalid.length }}</span>\n                            <span class=\"label\">格式无效</span>\n                         </div>\n                      </div>\n                    </transition>\n                    \n                    <el-alert \n                      v-if=\"cardParsedResult && cardParsedResult.valid.length > 0\"\n                      title=\"解析完成\"\n                      type=\"success\"\n                      :closable=\"false\"\n                      show-icon\n                      style=\"margin-top: 16px\"\n                    >\n                      将仅入库 {{ cardParsedResult.valid.length }} 条有效卡密。重复与无效项将被忽略。\n                    </el-alert>\n                 </el-form>\n              </div>\n\n              <!-- Common: Image -->\n              <el-divider />\n              <div class=\"common-section\">\n                 <span class=\"section-label\">详情页帮助图片 (可选)</span>\n                 <div class=\"image-selector\" @click=\"handleSelectImage\">\n                    <img v-if=\"commonImage\" :src=\"commonImage\" class=\"preview-img\" />\n                    <div v-else class=\"placeholder\">\n                       <el-icon><Picture /></el-icon>\n                       <span>选择图片</span>\n                    </div>\n                 </div>\n              </div>\n\n           </div>\n        </div>\n\n        <!-- Step 3: Confirmation -->\n        <div v-show=\"activeStep === 2\" class=\"step-content\">\n           <div class=\"form-card confirmation-card\">\n              <div class=\"success-icon\"><el-icon><CircleCheckFilled /></el-icon></div>\n              <h2>准备就绪</h2>\n              <p>请确认以下信息无误后提交</p>\n              \n              <div class=\"summary-box\">\n                 <div class=\"summary-item\">\n                    <span class=\"label\">商品:</span>\n                    <span class=\"value\">{{ currentProduct?.product_name }}</span>\n                 </div>\n                 <div class=\"summary-item\">\n                    <span class=\"label\">SKU:</span>\n                    <span class=\"value\">{{ skuOptions.filter(s => formStep1.skuIds.includes(s.id)).map(s => s.label).join(', ') || '通用' }}</span>\n                 </div>\n                 <div class=\"summary-item\">\n                    <span class=\"label\">类型:</span>\n                    <span class=\"value\">{{ getTypeText(currentCdkType) }}</span>\n                 </div>\n                 \n                 <el-divider />\n                 \n                 <!-- Specific Summary -->\n                 <div v-if=\"currentCdkType === 'virtual'\">\n                    <div class=\"summary-item\"><span class=\"label\">新增库存:</span> <span class=\"value\">{{ formVirtual.stock }}</span></div>\n                    <div class=\"summary-item\"><span class=\"label\">配置字段:</span> <span class=\"value\">{{ formVirtual.fields.join(', ') || '无' }}</span></div>\n                 </div>\n                 <div v-if=\"currentCdkType === 'shared_account'\">\n                     <div class=\"summary-item\"><span class=\"label\">最大车位数:</span> <span class=\"value\">{{ formShared.maxSlots }}</span></div>\n                     <div class=\"summary-item\"><span class=\"label\">属性字段:</span> <span class=\"value\">{{ formShared.attributes.map(a => a.key).join('/') }}</span></div>\n                 </div>\n                 <div v-if=\"currentCdkType === 'one_time_cdk'\">\n                     <div class=\"summary-item\"><span class=\"label\">有效激活码:</span> <span class=\"value highlight\">{{ cardParsedResult?.valid?.length || 0 }}</span> 条</div>\n                 </div>\n              </div>\n           </div>\n        </div>\n\n      </div>\n    </div>\n    \n    <!-- Footer -->\n    <div class=\"wizard-footer\">\n       <el-button size=\"large\" @click=\"prevStep\" :disabled=\"activeStep === 0\">上一步</el-button>\n       <el-button \n         type=\"primary\" \n         size=\"large\" \n         class=\"next-btn\"\n         @click=\"handleNext\"\n         :loading=\"submitting\"\n       >\n         {{ activeStep === 2 ? '确认添加' : '下一步' }}\n       </el-button>\n    </div>\n\n    <!-- 图库选择弹窗 -->\n    <el-dialog v-model=\"imagePickerVisible\" title=\"图库选择\" width=\"800px\" append-to-body destroy-on-close class=\"picker-dialog\">\n      <div class=\"picker-container\">\n        <div class=\"picker-sidebar\">\n          <div \n            class=\"picker-cat-item\" \n            :class=\"{ active: pickerActiveCatId === '' }\"\n            @click=\"pickerActiveCatId = ''; fetchPickerImages()\"\n          >全部图片</div>\n          <div \n            v-for=\"cat in pickerCategories\" \n            :key=\"cat.id\" \n            class=\"picker-cat-item\"\n            :class=\"{ active: pickerActiveCatId === cat.id }\"\n            @click=\"pickerActiveCatId = cat.id; fetchPickerImages()\"\n          >{{ cat.name }}</div>\n        </div>\n        <div class=\"picker-main\" v-loading=\"pickerLoading\">\n          <div class=\"picker-toolbar\">\n            <el-upload\n              action=\"#\"\n              :auto-upload=\"false\"\n              :show-file-list=\"false\"\n              :on-change=\"handlePickerUpload\"\n            >\n              <el-button type=\"primary\" size=\"small\">上传新图片</el-button>\n            </el-upload>\n          </div>\n          <div class=\"picker-grid\">\n            <div \n              v-for=\"img in galleryImages\" \n              :key=\"img.id\" \n              class=\"picker-img-card\"\n              @click=\"selectGalleryImage(img.url)\"\n            >\n              <el-image :src=\"img.url\" fit=\"cover\" />\n              <div class=\"picker-img-name\">{{ img.name }}</div>\n            </div>\n          </div>\n          <el-empty v-if=\"galleryImages.length === 0\" description=\"暂无图片\" />\n        </div>\n      </div>\n    </el-dialog>\n\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, reactive, computed, onMounted } from 'vue';\nimport { useRouter, useRoute } from 'vue-router';\nimport { \n  ArrowLeft, Picture, Delete, Plus, CircleCheckFilled, Minus, Cpu \n} from '@element-plus/icons-vue';\nimport { ElMessage } from 'element-plus';\nimport { adminCategoryApi, adminProductApi, adminCdkApi, adminApi, type AdminProduct, type AdminImage, type AdminImageCategory } from '@/api/admin-supabase';\nimport { getAdminSupabaseClient } from '@/utils/supabase-admin';\n\nconst router = useRouter();\nconst route = useRoute();\nconst activeStep = ref(0);\nconst submitting = ref(false);\n\n// --- Data ---\nconst categories = ref<any[]>([]);\nconst products = ref<AdminProduct[]>([]);\nconst loadingSkus = ref(false);\nconst skuOptions = ref<{ id: string, label: string }[]>([]);\n\n// --- Forms ---\nconst formStep1 = reactive({\n  categoryId: '',\n  productId: '',\n  skuIds: [] as string[]\n});\n\n// Map URL type query to DB product_type values\nconst typeMap: Record<string, string> = { 'virtual': 'virtual', 'shared': 'shared_account', 'one_time': 'one_time_cdk' };\nconst currentCdkType = computed(() => {\n  const urlType = route.query.type as string;\n  return typeMap[urlType] || 'virtual';\n});\n\nconst filteredProducts = computed(() => {\n  if (!formStep1.categoryId) return [];\n  // Show all products in the selected category (no type filter on products)\n  return products.value.filter(p => p.category_id === formStep1.categoryId);\n});\n\nconst currentProduct = computed(() => products.value.find(p => p.id === formStep1.productId));\n\nconst formVirtual = reactive({\n  stock: 10,\n  fields: ['邮箱'] // Default field example\n});\n\n// Shared Account Form (和编辑页一致)\nconst formShared = reactive({\n  maxSlots: 5,\n  attributes: [{ key: '账号', value: '' }, { key: '密码', value: '' }] as { key: string; value: string }[]\n});\n\n\n// Card Parsing Logic\nconst formCard = reactive({\n  rawContent: ''\n});\nconst parsing = ref(false);\nconst cardParsedResult = ref<{ valid: string[], duplicates: string[], invalid: string[] } | null>(null);\n\nconst resetCardParse = () => {\n  cardParsedResult.value = null; // Reset when user types\n};\n\nconst parseCards = async () => {\n  if (!formCard.rawContent) return;\n  parsing.value = true;\n  \n  try {\n    // 1. 解析输入，去重\n    const lines = formCard.rawContent.split('\\n').map(l => l.trim()).filter(l => l);\n    const uniqueLines = [...new Set(lines)];\n    \n    // 2. 查询当前选择 SKU 关联的 CDK codes（优化：不再查全库）\n    const targetSkuIds = formStep1.skuIds.length > 0 \n      ? formStep1.skuIds \n      : skuOptions.value.map(s => s.id);\n    \n    let existingCodes = new Set<string>();\n    \n    if (targetSkuIds.length > 0) {\n      // 通过 cdk_sku_map 找到这些 SKU 关联的 CDK\n      const { data: mappings } = await getAdminSupabaseClient()\n        .from('cdk_sku_map')\n        .select('cdk:cdks!inner(code, cdk_type)')\n        .in('sku_id', targetSkuIds)\n        .eq('cdk.cdk_type', 'one_time');\n      \n      if (mappings) {\n        existingCodes = new Set(mappings.map((m: any) => m.cdk?.code).filter(Boolean));\n      }\n    }\n    \n    // 3. 分类\n    const valid: string[] = [];\n    const duplicates: string[] = [];\n    const invalid: string[] = [];\n    \n    uniqueLines.forEach(line => {\n      // 基本格式校验：至少4个字符\n      if (line.length < 4) {\n        invalid.push(line);\n      } else if (existingCodes.has(line)) {\n        duplicates.push(line);\n      } else {\n        valid.push(line);\n      }\n    });\n    \n    // 检查输入中的重复\n    const inputDuplicates = lines.length - uniqueLines.length;\n    if (inputDuplicates > 0) {\n      ElMessage.info(`已自动去除 ${inputDuplicates} 条重复输入`);\n    }\n    \n    cardParsedResult.value = {\n      valid,\n      duplicates,\n      invalid\n    };\n  } catch (err) {\n    ElMessage.error('解析校验失败，请重试');\n    cardParsedResult.value = null;\n  } finally {\n    parsing.value = false;\n  }\n};\n\nconst commonImage = ref('');\n\n// --- Lifecycle ---\nonMounted(async () => {\n  const [catRes, prodRes] = await Promise.all([\n    adminCategoryApi.getCategories(),\n    adminProductApi.getProducts()\n  ]);\n  \n  if (catRes.success) categories.value = catRes.categories;\n  if (prodRes.success) products.value = prodRes.products;\n});\n\n// --- Methods ---\nconst handleCategoryChange = () => {\n  formStep1.productId = '';\n  formStep1.skuIds = [];\n  skuOptions.value = [];\n};\n\nconst handleProductChange = async (productId: string) => {\n  formStep1.skuIds = [];\n  skuOptions.value = [];\n  if (!productId) return;\n\n  loadingSkus.value = true;\n  try {\n    const res = await adminProductApi.getProductWithSkus(productId);\n    if (res.success && res.skus) {\n      // Filter SKUs by current CDK type (from URL query)\n      const targetType = currentCdkType.value;\n      const filteredSkus = res.skus.filter((sku: any) => sku.product_type === targetType);\n      \n      // Virtual 类型: 额外过滤掉已绑定 CDK 的 SKU\n      let availableSkus = filteredSkus;\n      if (targetType === 'virtual') {\n        const { data: boundSkuIds } = await getAdminSupabaseClient()\n          .from('cdk_sku_map')\n          .select('sku_id, cdk:cdks!inner(cdk_type)')\n          .eq('cdk.cdk_type', 'virtual');\n        \n        const boundSet = new Set((boundSkuIds || []).map((m: any) => m.sku_id));\n        availableSkus = filteredSkus.filter((sku: any) => !boundSet.has(sku.id));\n      }\n      \n      skuOptions.value = availableSkus.map((sku: any) => {\n        const specValues = Object.values(sku.spec_combination || {}).join(' ');\n        return {\n          id: sku.id,\n          label: specValues || '默认规格'\n        };\n      });\n    }\n  } finally {\n    loadingSkus.value = false;\n  }\n\n  // Reset Configs\n  cardParsedResult.value = null;\n  formCard.rawContent = '';\n  formShared.maxSlots = 5;\n  formShared.attributes.splice(0, formShared.attributes.length, { key: '账号', value: '' }, { key: '密码', value: '' });\n};\n\nconst getTypeText = (type: string | undefined) => {\n  const map: any = { \n    'virtual': '虚拟充值', \n    'shared_account': '账号/合租', \n    'one_time_cdk': '激活码' \n  };\n  return map[type] || type || '-';\n};\n\nconst addVirtualField = () => formVirtual.fields.push('');\nconst removeVirtualField = (idx: number) => formVirtual.fields.splice(idx, 1);\n\n// --- 图库选择器逻辑 ---\nconst imagePickerVisible = ref(false);\nconst pickerLoading = ref(false);\nconst galleryImages = ref<AdminImage[]>([]);\nconst pickerCategories = ref<AdminImageCategory[]>([]);\nconst pickerActiveCatId = ref('');\n\nconst openImagePicker = async () => {\n  imagePickerVisible.value = true;\n  \n  if (pickerCategories.value.length === 0) {\n    const res = await adminApi.imageCategory.getCategories();\n    if (res.success) pickerCategories.value = res.categories;\n  }\n  \n  fetchPickerImages();\n};\n\nconst fetchPickerImages = async () => {\n  pickerLoading.value = true;\n  const res = await adminApi.image.getImages({\n    category_id: pickerActiveCatId.value\n  });\n  if (res.success) galleryImages.value = res.images;\n  pickerLoading.value = false;\n};\n\nconst selectGalleryImage = (url: string) => {\n  commonImage.value = url;\n  imagePickerVisible.value = false;\n  ElMessage.success('已选择图片');\n};\n\nconst handlePickerUpload = async (file: any) => {\n  pickerLoading.value = true;\n  try {\n    const { uploadImageToStorage } = await import('@/utils/uploadImage');\n    const upRes = await uploadImageToStorage(file.raw);\n    if (upRes.success) {\n      await adminApi.image.createImage({\n        name: file.name,\n        url: upRes.url!,\n        category_id: pickerActiveCatId.value || undefined\n      });\n      selectGalleryImage(upRes.url!);\n      fetchPickerImages();\n    }\n  } finally {\n    pickerLoading.value = false;\n  }\n};\n\nconst handleSelectImage = () => {\n  openImagePicker();\n};\n\nconst handleNext = async () => {\n  if (activeStep.value === 0) {\n    if (!formStep1.productId) return ElMessage.warning('请先选择商品');\n    activeStep.value = 1;\n  } else if (activeStep.value === 1) {\n    // Validate Step 1 based on currentCdkType (from URL)\n    if (currentCdkType.value === 'shared_account') {\n       // Check if entries are valid\n       if (formShared.attributes.some(a => !a.key || !a.value)) {\n          return ElMessage.warning('请补全所有账号资源的字段名称与内容');\n       }\n    }\n    \n    if (currentCdkType.value === 'one_time_cdk') {\n       if (!cardParsedResult.value) {\n          return ElMessage.warning('请先点击解析并校验激活码');\n       }\n       if (cardParsedResult.value.valid.length === 0) {\n          return ElMessage.warning('没有可用的有效激活码，请检查输入');\n       }\n    }\n    \n    activeStep.value = 2;\n  } else {\n    // Submit - 调用真实API\n    submitting.value = true;\n    try {\n      const productType = currentCdkType.value;\n      \n      // 映射 cdk_type\n      const cdkTypeMap: Record<string, 'virtual' | 'shared' | 'one_time'> = {\n        'virtual': 'virtual',\n        'shared_account': 'shared',\n        'one_time_cdk': 'one_time'\n      };\n      const cdkType = cdkTypeMap[productType || ''] || 'one_time';\n      \n      // 构造 codes 数组\n      let codes: string[] = [];\n      // account_data 统一只存图片\n      let accountData: Record<string, any> | undefined = commonImage.value \n        ? { image: commonImage.value } \n        : undefined;\n      \n      if (productType === 'one_time_cdk') {\n        // 一次性兑换码：使用解析后的有效卡密（纯文本）\n        codes = cardParsedResult.value?.valid || [];\n      } else if (productType === 'virtual') {\n        // 虚拟充值：code 存储字段配置 JSON\n        const fieldsData = {\n          fields: formVirtual.fields.filter(f => f.trim())\n        };\n        codes = [JSON.stringify(fieldsData)];\n      } else if (productType === 'shared_account') {\n        // 账号合租：单个资源，code 存属性键值对\n        const attrObj: Record<string, string> = {};\n        formShared.attributes.forEach(a => {\n          if (a.key) attrObj[a.key] = a.value;\n        });\n        codes = [JSON.stringify(attrObj)];\n      }\n      \n      if (codes.length === 0) {\n        ElMessage.warning('没有可添加的资源');\n        submitting.value = false;\n        return;\n      }\n      \n      // 获取选中的 SKU IDs（如果没选则使用所有 SKU）\n      let targetSkuIds = formStep1.skuIds.length > 0 \n        ? formStep1.skuIds \n        : skuOptions.value.map(s => s.id);\n      \n      if (targetSkuIds.length === 0) {\n        ElMessage.warning('该商品没有可用的 SKU，请先创建 SKU');\n        submitting.value = false;\n        return;\n      }\n      \n      // 使用选中的 SKU IDs 数组一次性创建 CDK\n      let successCount = 0;\n      let errors: string[] = [];\n      \n      // 统一 API 调用 (包含商品快照)\n      const result = await adminCdkApi.createCdks({\n        sku_ids: targetSkuIds,\n        cdk_type: cdkType,\n        codes,\n        max_slots: productType === 'shared_account' ? formShared.maxSlots : 1,\n        stock: productType === 'virtual' ? formVirtual.stock : 1,\n        account_data: accountData,\n        product_snapshot: currentProduct.value ? {\n          product_id: currentProduct.value.id,\n          product_name: currentProduct.value.product_name,\n          product_image: currentProduct.value.image || undefined\n        } : undefined\n      });\n  \n      if (result.success) {\n        successCount += result.count;\n      } else {\n        errors.push(result.error || '未知错误');\n      }\n      \n      // 显示结果\n      if (successCount > 0) {\n        ElMessage.success(`成功添加 ${successCount} 条资源`);\n        // Navigate back to the correct CDK type page\n        const typeRouteMap: Record<string, string> = {\n          'virtual': 'virtual',\n          'shared': 'accounts',\n          'one_time': 'keys'\n        };\n        const targetRoute = typeRouteMap[route.query.type as string] || 'virtual';\n        router.push(`/_mgmt_9Xfa3/cdk/${targetRoute}`);\n      } else if (errors.length > 0) {\n        ElMessage.error(errors[0]);\n      }\n    } catch (err: any) {\n      ElMessage.error(err.message || '添加失败');\n    } finally {\n      submitting.value = false;\n    }\n  }\n};\n\nconst prevStep = () => {\n  if (activeStep.value > 0) activeStep.value--;\n};\n\n</script>\n\n<style scoped>\n.cdk-post-page {\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  background: transparent;\n  padding-bottom: 80px; /* Space for footer */\n}\n\n/* Header */\n.wizard-header {\n  height: 60px;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 0 24px;\n  background: var(--el-bg-color);\n  border-bottom: 1px solid #ebeef5;\n  border-radius: 8px 8px 0 0;\n  margin-bottom: 24px;\n}\n.header-left { flex: 0 0 200px; display: flex; align-items: center; }\n.back-btn { padding: 0 !important; color: #606266; font-weight: normal; }\n.back-btn:hover { color: #409EFF; }\n.back-icon { margin-right: 6px; }\n.header-titles { margin-left: 16px; border-left: 1px solid #dcdfe6; padding-left: 16px; line-height: 1.2; }\n.main-title { font-size: 14px; font-weight: 600; color: var(--el-text-color-primary); }\n.sub-title { font-size: 10px; color: #909399; }\n.header-center { flex: 1; max-width: 600px; display: flex; justify-content: center; }\n.header-right { flex: 0 0 200px; }\n\n/* Body */\n.wizard-body {\n  width: 100%;\n}\n.centered-container {\n  max-width: 800px;\n  margin: 0 auto;\n}\n\n.form-card {\n  background: var(--el-bg-color);\n  padding: 32px;\n  border-radius: 8px;\n  box-shadow: 0 2px 12px 0 rgba(0,0,0,0.05);\n}\n.card-title {\n  font-size: 18px;\n  font-weight: 600;\n  margin: 0 0 24px 0;\n  color: var(--el-text-color-primary);\n}\n\n/* Dynamic Fields */\n.field-row { display: flex; gap: 8px; margin-bottom: 12px; }\n.add-field-btn { width: 100%; border-style: dashed; }\n.form-tip { font-size: 12px; color: #909399; margin-top: 4px; line-height: 1.5; }\n\n/* Image Selector */\n.image-selector {\n  width: 100px; height: 100px;\n  border: 1px dashed #dcdfe6;\n  border-radius: 6px;\n  display: flex; align-items: center; justify-content: center;\n  cursor: pointer;\n  background: #fbfbfc;\n}\n.image-selector:hover { border-color: #409EFF; }\n.preview-img { width: 100%; height: 100%; border-radius: 6px; object-fit: cover; }\n.placeholder { display: flex; flex-direction: column; align-items: center; color: #909399; font-size: 12px; gap: 4px; }\n.section-label { display: block; margin-bottom: 12px; font-weight: 500; color: #606266; }\n\n/* Rental Dynamic Cards */\n.rental-entry-card {\n  border: 1px solid #ebeef5;\n  background: #fdfdfd;\n  padding: 16px;\n  border-radius: 6px;\n  margin-bottom: 16px;\n}\n.entry-header { display: flex; justify-content: space-between; margin-bottom: 12px; }\n.entry-title { font-weight: 500; font-size: 14px; color: #606266; }\n\n.kv-list { background: var(--el-bg-color); border: 1px dashed var(--el-border-color-lighter); padding: 12px; border-radius: 4px; }\n.kv-header { font-size: 12px; color: #909399; margin-bottom: 8px; }\n.kv-row { display: flex; align-items: center; margin-bottom: 8px; gap: 8px; }\n.separator { color: #dcdfe6; }\n.add-attr-btn { margin-top: 4px; }\n\n.add-entry-btn { width: 100%; border-style: dashed; padding: 12px; height: auto; }\n\n/* Card Parser */\n.card-actions { margin-top: 8px; display: flex; align-items: center; gap: 12px; }\n.parse-tip { color: #e6a23c; font-size: 12px; }\n\n.parse-dashboard {\n  display: flex; gap: 16px; margin-top: 24px;\n}\n.stat-item {\n  flex: 1;\n  background: #f4f6fa;\n  border-radius: 6px;\n  padding: 16px;\n  display: flex; flex-direction: column; align-items: center; justify-content: center;\n}\n.stat-item .num { font-size: 24px; font-weight: bold; line-height: 1.2; }\n.stat-item .label { font-size: 12px; color: #909399; margin-top: 4px; }\n\n.stat-item.success .num { color: #67C23A; }\n.stat-item.warning .num { color: #E6A23C; }\n.stat-item.danger .num { color: #F56C6C; }\n\n/* Confirmation */\n.confirmation-card {\n  text-align: center;\n}\n.success-icon { font-size: 48px; color: #67C23A; margin-bottom: 16px; }\n.summary-box {\n  background: #f5f7fa;\n  padding: 24px;\n  border-radius: 8px;\n  margin-top: 24px;\n  text-align: left;\n}\n.summary-item {\n  display: flex; justify-content: space-between; margin-bottom: 12px; font-size: 14px;\n}\n.summary-item .label { color: #909399; }\n.summary-item .value { font-weight: 500; color: var(--el-text-color-primary); }\n.summary-item .value.highlight { color: #409EFF; font-weight: bold; font-size: 16px; margin-right: 4px; }\n\n/* Footer */\n.wizard-footer {\n  position: fixed;\n  bottom: 0; left: 0; right: 0;\n  padding-left: 250px; /* Sidebar width */\n  height: 72px;\n  background: var(--el-bg-color);\n  border-top: 1px solid #ebeef5;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 16px;\n  z-index: 99;\n  transition: padding-left 0.3s;\n}\n/* Helper for sidebar collapse (Mock logic, in real app bind to layout state) */\n@media (max-width: 1200px) {\n    /* .wizard-footer { padding-left: 64px; } */\n}\n.next-btn { min-width: 120px; }\n\n/* Image Picker Dialog Styles */\n.picker-container {\n  display: flex;\n  height: 500px;\n}\n.picker-sidebar {\n  width: 160px;\n  border-right: 1px solid #ebeef5;\n  padding: 12px 0;\n  overflow-y: auto;\n}\n.picker-cat-item {\n  padding: 10px 16px;\n  cursor: pointer;\n  font-size: 13px;\n  color: #606266;\n  transition: all 0.2s;\n}\n.picker-cat-item:hover { background: #f5f7fa; }\n.picker-cat-item.active {\n  background: #ecf5ff;\n  color: #409EFF;\n  font-weight: 500;\n}\n.picker-main {\n  flex: 1;\n  padding: 16px;\n  overflow-y: auto;\n}\n.picker-toolbar {\n  margin-bottom: 16px;\n}\n.picker-grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));\n  gap: 12px;\n}\n.picker-img-card {\n  border: 1px solid #ebeef5;\n  border-radius: 6px;\n  overflow: hidden;\n  cursor: pointer;\n  transition: all 0.2s;\n}\n.picker-img-card:hover {\n  border-color: #409EFF;\n  box-shadow: 0 2px 8px rgba(64, 158, 255, 0.2);\n}\n.picker-img-card .el-image {\n  width: 100%;\n  height: 100px;\n  display: block;\n}\n.picker-img-name {\n  padding: 6px 8px;\n  font-size: 12px;\n  color: #909399;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  background: #fafafa;\n}\n</style>\n"],"version":3}