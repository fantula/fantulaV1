{"version":3,"file":"tickets-VcvNI0l7.js","sources":["../../../../components/modal/business/TicketDetailModal.vue","../../../../pages/profile/tickets.vue"],"sourcesContent":["<template>\n  <BaseModal\n    v-model:visible=\"isVisible\"\n    :title=\"`工单详情 ${currentTicketNo}`\"\n    width=\"700px\"\n    :show-footer=\"false\"\n    show-mascot\n    mascot-position=\"right\"\n    @close=\"handleClose\"\n  >\n    <div class=\"modal-body\" v-loading=\"loading\">\n      \n      <!-- Rich Order Info Card -->\n         <div class=\"order-card-glass\" v-if=\"orderDetail\">\n            <div class=\"card-image\">\n               <img :src=\"orderDetail.product_snapshot?.image\" alt=\"Product\" />\n            </div>\n            <div class=\"card-info\">\n               <div class=\"info-top\">\n                  <span class=\"order-no\">订单号 #{{ orderDetail.order_no }}</span>\n                  <span class=\"status-badge\">{{ formatOrderStatus(orderDetail.status) }}</span>\n               </div>\n               <div class=\"product-name\">{{ orderDetail.product_snapshot?.product_name }}</div>\n               <div class=\"specs\" v-if=\"orderDetail.sku_snapshot\">\n                  <span v-for=\"(val, key) in orderDetail.sku_snapshot.spec_combination\" :key=\"key\">{{ val }}</span>\n               </div>\n               <div class=\"price-row\">\n                  <span class=\"price\">¥{{ orderDetail.total_amount?.toFixed(2) }}</span>\n                  <span class=\"quantity\">x{{ orderDetail.quantity }}</span>\n               </div>\n            </div>\n         </div>\n         <div class=\"order-card-loading\" v-else-if=\"loadingOrder\">\n            <span class=\"loading-spinner\"></span> 加载订单信息...\n         </div>\n\n      <!-- Ticket Meta -->\n      <div class=\"ticket-meta-glass\" v-if=\"ticketDetail\">\n          <div class=\"meta-row\">\n             <span class=\"label\">提交时间:</span> <span class=\"val\">{{ formatDate(ticketDetail.created_at) }}</span>\n          </div>\n          <div class=\"meta-row\">\n             <span class=\"label\">当前状态:</span> \n             <span :class=\"['status-text', ticketDetail.status]\">\n                {{ ticketDetail.status === 'processing' ? '处理中' : '已解决' }}\n             </span>\n          </div>\n      </div>\n\n      <!-- Chat Container -->\n      <div class=\"chat-container\">\n          <div v-for=\"(reply, idx) in replies\" :key=\"idx\" class=\"chat-message\" :class=\"reply.sender\">\n             <!-- Admin Avatar -->\n             <div v-if=\"reply.sender === 'admin'\" class=\"avatar admin\">服</div>\n             \n             <div class=\"message-content-wrapper\">\n                <div class=\"message-bubble\">\n                   <div class=\"msg-text\">{{ reply.content }}</div>\n                   \n                   <!-- Attachments -->\n                   <div v-if=\"reply.attachments && reply.attachments.length\" class=\"msg-attachments\">\n                      <el-image \n                        v-for=\"url in reply.attachments\" :key=\"url\"\n                        :src=\"url\" \n                        class=\"attachment-img\"\n                        :preview-src-list=\"reply.attachments\"\n                        preview-teleported\n                        fit=\"cover\"\n                      />\n                   </div>\n                </div>\n                <div class=\"message-time\">{{ formatDate(reply.time) }}</div>\n             </div>\n\n             <!-- User Avatar -->\n             <div v-if=\"reply.sender === 'user'\" class=\"avatar user\">我</div>\n          </div>\n      </div>\n\n      <!-- Reply Input -->\n      <div class=\"reply-area\" v-if=\"ticketDetail?.status === 'processing'\">\n          <textarea \n            v-model=\"replyContent\" \n            class=\"reply-textarea\" \n            placeholder=\"请输入您的回复... (Enter 发送)\"\n            @keydown.enter.prevent=\"submitReply\"\n            :disabled=\"replying\"\n          ></textarea>\n          <div class=\"reply-actions\">\n             <button class=\"btn-send\" @click=\"submitReply\" :disabled=\"!replyContent.trim() || replying\">\n                {{ replying ? '发送中...' : '发送回复' }}\n             </button>\n          </div>\n      </div>\n\n    </div>\n  </BaseModal>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, computed, watch, onMounted } from 'vue'\nimport { ticketApi } from '@/api/client/ticket'\nimport { clientOrderApi, type ClientOrder } from '@/api/client/order'\nimport { useBizFormat } from '@/composables/common/useBizFormat'\n\nconst props = defineProps<{\n  visible: boolean\n  ticketId: string\n}>()\n\nconst emit = defineEmits(['update:visible', 'close', 'reply-success'])\n\nconst { formatDate } = useBizFormat()\nconst isVisible = computed({\n  get: () => props.visible,\n  set: (val) => emit('update:visible', val)\n})\n\nconst currentTicketNo = computed(() => {\n  if (ticketDetail.value?.ticket_no) return ticketDetail.value.ticket_no\n  if (props.ticketId) return `T-${props.ticketId.substring(0, 8).toUpperCase()}`\n  return ''\n})\n\nconst loading = ref(false)\nconst loadingOrder = ref(false)\nconst replying = ref(false)\nconst ticketDetail = ref<any>(null)\nconst orderDetail = ref<ClientOrder | null>(null)\nconst replies = ref<any[]>([])\nconst replyContent = ref('')\n\nconst formatOrderStatus = (status: string) => {\n  const map: Record<string, string> = {\n    'active': '使用中',\n    'completed': '已完成',\n    'pending': '处理中',\n    'expired': '已过期',\n    'refunding': '退款中',\n    'refunded': '已退款'\n  }\n  return map[status] || status\n}\n\nconst loadData = async () => {\n    if (!props.ticketId) return\n    loading.value = true\n    try {\n        // 1. Get Ticket Detail\n        const res = await ticketApi.getDetail(props.ticketId)\n        if (res.success && res.data) {\n            ticketDetail.value = res.data\n            replies.value = res.data.replies.map((r: any) => ({\n                sender: r.sender,\n                content: r.content,\n                attachments: r.attachments,\n                time: r.time\n            }))\n\n            // 2. Fetch Order Detail if Order ID exists\n            const orderId = res.data.orders?.id // Assuming ID is available in joined 'orders' from getDetail RPC?\n            // Wait, ticketApi.getDetail returns 'orders: { order_no, ... }'. \n            // Usually we need the actual UUID to call clientOrderApi.getOrderDetail(uuid).\n            // Let's check ticketApi response structure in previous file... It had `orders` object.\n            // If the RPC doesn't return order ID, we might only have order_no.\n            // But let's assume `orders` includes `id`. If not, we rely on what we have or need to update RPC.\n            // UPDATE: In `tickets.vue` we saw `t.orders?.order_no`.\n            // Let's assume we can get `orders.id`.\n            \n            if (res.data.orders?.id) {\n               fetchOrderDetail(res.data.orders.id)\n            } else if (res.data.order_id) {\n               // Fallback if joined object is different\n               fetchOrderDetail(res.data.order_id)\n            }\n        }\n    } catch (e) {\n        console.error(e)\n    } finally {\n        loading.value = false\n    }\n}\n\nconst fetchOrderDetail = async (id: string) => {\n    loadingOrder.value = true\n    try {\n        const res = await clientOrderApi.getOrderDetail(id)\n        if (res.success && res.data) {\n            orderDetail.value = res.data\n        }\n    } finally {\n        loadingOrder.value = false\n    }\n}\n\nconst submitReply = async () => {\n    if (!replyContent.value.trim() || replying.value) return\n    replying.value = true\n    try {\n        const res = await ticketApi.reply(props.ticketId, replyContent.value)\n        if (res.success) {\n            replyContent.value = ''\n            await loadData() // Refresh chat\n            emit('reply-success')\n        }\n    } finally {\n        replying.value = false\n    }\n}\n\nconst handleClose = () => {\n    emit('close')\n}\n\nwatch(() => props.visible, (val) => {\n    if (val && props.ticketId) {\n        loadData()\n    } else {\n        // Reset\n        ticketDetail.value = null\n        orderDetail.value = null\n        replies.value = []\n    }\n}, { immediate: true })\n</script>\n\n<style scoped>\n.modal-body {\n    display: flex; flex-direction: column; gap: 16px;\n    height: 600px;\n}\n\n/* Rich Order Glass Card */\n.order-card-glass {\n  background: rgba(255, 255, 255, 0.03);\n  border: 1px solid rgba(255, 255, 255, 0.08); /* Glass Border */\n  border-radius: 12px;\n  padding: 12px;\n  display: flex; gap: 14px;\n  transition: all 0.3s;\n  flex-shrink: 0;\n}\n.order-card-glass:hover {\n  background: rgba(255, 255, 255, 0.05);\n  border-color: rgba(255, 255, 255, 0.15);\n  transform: translateY(-2px);\n  box-shadow: 0 4px 15px rgba(0,0,0,0.2);\n}\n\n.card-image {\n  width: 72px; height: 72px; border-radius: 8px; overflow: hidden; flex-shrink: 0;\n  border: 1px solid rgba(255,255,255,0.05);\n  background: #0F172A;\n}\n.card-image img { width: 100%; height: 100%; object-fit: cover; }\n\n.card-info {\n  flex: 1; display: flex; flex-direction: column; justify-content: space-between; py: 2px;\n}\n\n.info-top { display: flex; justify-content: space-between; align-items: center; margin-bottom: 4px; }\n.order-no { font-size: 12px; color: #64748B; font-family: monospace; }\n.status-badge { \n  font-size: 10px; padding: 2px 6px; border-radius: 4px; \n  background: rgba(59, 130, 246, 0.1); color: #3B82F6; border: 1px solid rgba(59, 130, 246, 0.2);\n}\n\n.product-name { font-size: 14px; font-weight: 600; color: #F1F5F9; line-height: 1.3; }\n\n.specs { font-size: 12px; color: #94A3B8; display: flex; gap: 8px; margin-top: 2px; }\n.price-row { display: flex; justify-content: space-between; align-items: flex-end; margin-top: 4px; }\n.price { font-size: 15px; font-weight: 700; color: #F97316; font-family: 'Outfit', sans-serif; }\n.quantity { font-size: 12px; color: #64748B; }\n\n.order-card-loading {\n  height: 90px; display: flex; align-items: center; justify-content: center; \n  background: rgba(255,255,255,0.02); border-radius: 12px; color: #64748B; font-size: 13px; gap: 8px;\n  flex-shrink: 0;\n}\n.loading-spinner {\n  width: 14px; height: 14px; border: 2px solid rgba(255,255,255,0.2); border-top-color: #3B82F6;\n  border-radius: 50%; animation: spin 1s linear infinite;\n}\n\n/* Ticket Meta */\n.ticket-meta-glass {\n    display: flex; gap: 20px;\n    background: rgba(255,255,255,0.02);\n    border-radius: 8px; padding: 8px 12px;\n    font-size: 13px; color: #94A3B8;\n    border: 1px solid rgba(255,255,255,0.05);\n    flex-shrink: 0;\n}\n.meta-row { display: flex; gap: 6px; align-items: center; }\n.val { color: #E2E8F0; font-family: monospace; }\n.status-text.processing { color: #3B82F6; }\n.status-text.resolved { color: #10B981; }\n\n/* Chat */\n.chat-container {\n    flex: 1;\n    background: rgba(0,0,0,0.2);\n    border-radius: 12px;\n    padding: 16px;\n    overflow-y: auto;\n    display: flex; flex-direction: column; gap: 16px;\n    border: 1px solid rgba(255,255,255,0.05);\n}\n\n.chat-message { display: flex; gap: 12px; }\n.chat-message.user { justify-content: flex-end; }\n.chat-message.admin { justify-content: flex-start; }\n\n.avatar {\n    width: 32px; height: 32px; border-radius: 50%; \n    display: flex; align-items: center; justify-content: center;\n    font-size: 12px; color: #fff; font-weight: 600;\n    flex-shrink: 0;\n}\n.avatar.user { background: linear-gradient(135deg, #F97316, #EA580C); order: 2; margin-left: -4px;}\n.avatar.admin { background: linear-gradient(135deg, #3B82F6, #2563EB); }\n\n.message-content-wrapper { \n    max-width: 70%; display: flex; flex-direction: column; \n}\n.chat-message.user .message-content-wrapper { align-items: flex-end; order: 1}\n.chat-message.admin .message-content-wrapper { align-items: flex-start; }\n\n.message-bubble {\n    padding: 10px 14px; border-radius: 12px;\n    font-size: 14px; line-height: 1.5; color: #E2E8F0;\n    position: relative;\n}\n.chat-message.user .message-bubble { \n    background: rgba(249, 115, 22, 0.15); \n    border: 1px solid rgba(249, 115, 22, 0.3);\n    border-top-right-radius: 2px;\n}\n.chat-message.admin .message-bubble { \n    background: rgba(59, 130, 246, 0.15); \n    border: 1px solid rgba(59, 130, 246, 0.3);\n    border-top-left-radius: 2px;\n}\n\n.msg-attachments { display: flex; gap: 8px; margin-top: 8px; flex-wrap: wrap; }\n.attachment-img { width: 60px; height: 60px; border-radius: 4px; border: 1px solid rgba(255,255,255,0.1); cursor: pointer; }\n\n.message-time { font-size: 11px; color: #64748B; margin-top: 4px; }\n\n/* Reply Area */\n.reply-area {\n    background: rgba(255,255,255,0.03); border: 1px solid rgba(255,255,255,0.08);\n    border-radius: 12px; padding: 12px;\n    display: flex; flex-direction: column; gap: 10px;\n    flex-shrink: 0;\n}\n.reply-textarea {\n    width: 100%; height: 60px; background: transparent; border: none; outline: none;\n    color: #fff; font-size: 14px; resize: none;\n}\n.reply-textarea::placeholder { color: #64748B; }\n\n.reply-actions { display: flex; justify-content: flex-end; }\n.btn-send {\n    padding: 6px 20px; background: #3B82F6; color: #fff; border: none; border-radius: 6px;\n    font-size: 13px; font-weight: 500; cursor: pointer; transition: all 0.2s;\n}\n.btn-send:hover:not(:disabled) { background: #2563EB; }\n.btn-send:disabled { background: #334155; color: #64748B; cursor: not-allowed; }\n\n@keyframes spin { to { transform: rotate(360deg); } }\n</style>\n","<template>\n  <div class=\"tickets-section\">\n    <div class=\"section-header\">\n      <h2 class=\"section-title\">我的工单</h2>\n    </div>\n    \n    <!-- Tabs (Glass Pill) -->\n    <div class=\"tickets-tabs\">\n      <div \n        v-for=\"tab in tabs\" \n        :key=\"tab.key\"\n        :class=\"['tab-item', { active: activeTab === tab.key }]\"\n        @click=\"selectTab(tab.key)\"\n      >\n        {{ tab.label }}\n      </div>\n    </div>\n\n    <!-- Ticket List -->\n    <div class=\"tickets-list\">\n      <div class=\"ticket-card-glass\" v-for=\"ticket in filteredTickets\" :key=\"ticket.id\" :class=\"ticket.statusClass\">\n        <!-- Header -->\n        <div class=\"card-header\">\n          <div class=\"header-left\">\n            <span class=\"ticket-id\">{{ ticket.shortId }}</span>\n            <div class=\"ticket-status-badge\" :class=\"ticket.statusClass\">{{ ticket.statusText }}</div>\n          </div>\n          <span class=\"ticket-time\">{{ ticket.time }}</span>\n        </div>\n        \n        <!-- Content -->\n        <div class=\"card-body\">\n          <div class=\"ticket-content-text\">{{ ticket.content }}</div>\n          <div class=\"ticket-meta-row\" v-if=\"ticket.orderId\">\n             <span class=\"label\">关联业务:</span>\n             <span class=\"product-name\">{{ ticket.productName }}</span>\n             <span class=\"order-link\">订单 {{ ticket.orderId }}</span>\n          </div>\n        </div>\n        \n        <!-- Actions -->\n        <div class=\"card-actions\">\n           <button class=\"action-btn glass-btn\" @click=\"openViewModal(ticket)\">\n              <el-icon><View /></el-icon> 查看详情\n           </button>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <!-- New Standard Detail Modal -->\n  <TicketDetailModal\n     v-model:visible=\"showDetailModal\"\n     :ticket-id=\"currentTicketId\"\n     @close=\"showDetailModal = false\"\n     @reply-success=\"fetchTickets\"\n  />\n\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, computed, onMounted } from 'vue'\nimport { ticketApi } from '@/api/client/ticket'\nimport { useBizFormat } from '@/composables/common/useBizFormat'\nimport { View } from '@element-plus/icons-vue'\nimport TicketDetailModal from '@/components/modal/business/TicketDetailModal.vue'\n\nconst { formatDate } = useBizFormat()\n\n// Tabs\nconst tabs = [\n  { key: 'all', label: '全部' },\n  { key: 'processing', label: '进行中' },\n  { key: 'resolved', label: '已解决' }\n]\n\nconst activeTab = ref('all')\nconst loading = ref(false)\nconst tickets = ref<any[]>([])\n\n// Modal State\nconst showDetailModal = ref(false)\nconst currentTicketId = ref('')\n\nconst selectTab = (key: string) => { \n  activeTab.value = key \n}\n\nconst fetchTickets = async () => {\n  loading.value = true\n  try {\n    const res = await ticketApi.getList()\n    if (res.success && res.data) {\n      tickets.value = res.data.map((t: any) => ({\n        id: t.id,\n        shortId: t.ticket_no || `T-${t.id.substring(0, 8).toUpperCase()}`, // Use real ticket_no if exists\n        content: t.title, \n        time: formatDate(t.created_at),\n        orderId: t.orders?.order_no || '',\n        productName: t.orders?.product_snapshot?.product_name || '通用工单',\n        status: t.status,\n        statusText: t.status === 'processing' ? '处理中' : '已解决',\n        statusClass: t.status === 'processing' ? 'processing' : 'resolved',\n      }))\n    }\n  } catch (e) {\n    console.error('Fetch tickets failed', e)\n  } finally {\n    loading.value = false\n  }\n}\n\nonMounted(fetchTickets)\n\nconst filteredTickets = computed(() => {\n  if (activeTab.value === 'all') return tickets.value\n  return tickets.value.filter(ticket => ticket.status === activeTab.value)\n})\n\nconst openViewModal = (ticket: any) => {\n  currentTicketId.value = ticket.id\n  showDetailModal.value = true\n}\n</script>\n\n<style scoped>\n.tickets-section { padding: 0; min-height: 100%; display: flex; flex-direction: column; }\n\n.section-header {\n  margin-bottom: 24px; padding-bottom: 12px; border-bottom: 1px solid rgba(255,255,255,0.05);\n}\n.section-title { font-size: 20px; font-weight: 700; color: #F1F5F9; margin: 0; letter-spacing: -0.5px; }\n\n/* Tabs */\n.tickets-tabs { display: flex; gap: 12px; margin-bottom: 24px; }\n.tab-item {\n  padding: 8px 20px; border-radius: 100px;\n  background: rgba(255,255,255,0.03); border: 1px solid rgba(255,255,255,0.05);\n  color: #94A3B8; font-size: 14px; font-weight: 500; cursor: pointer;\n  transition: all 0.2s;\n}\n.tab-item:hover { background: rgba(255,255,255,0.08); color: #E2E8F0; }\n.tab-item.active {\n  background: rgba(59, 130, 246, 0.15); color: #3B82F6; border-color: rgba(59, 130, 246, 0.3);\n  font-weight: 600;\n}\n\n/* List */\n.tickets-list { display: flex; flex-direction: column; gap: 16px; }\n\n/* Glass Card */\n.ticket-card-glass {\n  background: rgba(255, 255, 255, 0.02);\n  border: 1px solid rgba(255, 255, 255, 0.05);\n  border-radius: 16px;\n  padding: 16px 20px;\n  transition: all 0.3s;\n  position: relative;\n  overflow: hidden;\n}\n.ticket-card-glass:hover {\n  background: rgba(255, 255, 255, 0.04);\n  border-color: rgba(255, 255, 255, 0.1);\n  transform: translateY(-2px);\n  box-shadow: 0 4px 20px rgba(0,0,0,0.2);\n}\n\n/* Status Indicator Border (Left) */\n.ticket-card-glass::before {\n  content: ''; position: absolute; left: 0; top: 0; bottom: 0; width: 3px;\n  background: #3B82F6; opacity: 0.5;\n}\n.ticket-card-glass.resolved::before { background: #10B981; }\n\n.card-header { display: flex; justify-content: space-between; align-items: start; margin-bottom: 12px; }\n.header-left { display: flex; align-items: center; gap: 10px; }\n.ticket-id { font-size: 15px; font-weight: 600; color: #E2E8F0; font-family: monospace; }\n.ticket-status-badge {\n    font-size: 11px; padding: 2px 8px; border-radius: 4px;\n    background: rgba(59, 130, 246, 0.1); color: #3B82F6; border: 1px solid rgba(59, 130, 246, 0.2);\n}\n.ticket-status-badge.resolved {\n    background: rgba(16, 185, 129, 0.1); color: #10B981; border-color: rgba(16, 185, 129, 0.2);\n}\n.ticket-time { font-size: 12px; color: #64748B; }\n\n.card-body { margin-bottom: 16px; }\n.ticket-content-text { font-size: 14px; color: #CBD5E1; margin-bottom: 8px; line-height: 1.5; }\n.ticket-meta-row { font-size: 12px; color: #94A3B8; display: flex; align-items: center; gap: 6px; }\n.product-name { color: #E2E8F0; font-weight: 500; }\n.order-link { color: #64748B; font-family: monospace; }\n\n.card-actions { \n    display: flex; gap: 10px; justify-content: flex-end; \n    border-top: 1px solid rgba(255,255,255,0.05); padding-top: 12px;\n}\n.glass-btn {\n    background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1);\n    color: #94A3B8; padding: 6px 16px; border-radius: 8px; font-size: 13px;\n    cursor: pointer; display: flex; align-items: center; gap: 6px; transition: all 0.2s;\n}\n.glass-btn:hover { background: rgba(255,255,255,0.1); color: #fff; }\n</style> "],"names":["_ssrRenderList","_openBlock","_createBlock","_createVNode","_toDisplayString","_createTextVNode","_createCommentVNode","_Fragment","_renderList","_withKeys","_withModifiers","tickets"],"mappings":"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"}