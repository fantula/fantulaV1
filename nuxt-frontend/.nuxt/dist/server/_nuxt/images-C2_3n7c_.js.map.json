{"file":"images-C2_3n7c_.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8BA,UAAA,QAAA;AAIA,UAAA,OAAA;AAEA,UAAA,UAAA,SAAA;AAAA,MAAyB,KAAA,MAAA,MAAA;AAAA,MACN,KAAA,CAAA,QAAA,KAAA,qBAAA,GAAA;AAAA,IAC0B,CAAA;AAG7C,UAAA,UAAA,IAAA,KAAA;AACA,UAAA,aAAA,IAAA,EAAA;AACA,UAAA,aAAA,IAAA,EAAA;AAEA,UAAA,kBAAA,YAAA;AACE,cAAA,QAAA;AACA,YAAA,MAAA,MAAA,sBAAA,cAAA;AACA,UAAA,IAAA,SAAA;AACE,mBAAA,QAAA,IAAA;AAAA,MAAuB;AAEzB,cAAA,QAAA;AAAA,IAAgB;AAGlB,UAAA,YAAA,YAAA;AACE,UAAA,CAAA,WAAA,MAAA,QAAA;AACI,kBAAA,QAAA,SAAA;AACA;AAAA,MAAA;AAEJ,cAAA,QAAA;AACA,YAAA,MAAA,MAAA,sBAAA,eAAA,WAAA,KAAA;AACA,UAAA,IAAA,SAAA;AACG,kBAAA,QAAA,QAAA;AACA,mBAAA,QAAA;AACA,cAAA,gBAAA;AACA,aAAA,QAAA;AAAA,MAAa,OAAA;AAEb,kBAAA,MAAA,WAAA,IAAA,KAAA;AAAA,MAAoC;AAEvC,cAAA,QAAA;AAAA,IAAgB;AAGlB,UAAA,eAAA,CAAA,QAAA;AACE,mBAAA,QAAA,WAAA,IAAA,IAAA,QAAA,QAAA;AAAA,QAAwD,MAAA;AAAA,MAChD,CAAA,EAAA,KAAA,YAAA;AAEN,gBAAA,QAAA;AACA,cAAA,MAAA,MAAA,sBAAA,eAAA,IAAA,EAAA;AACA,YAAA,IAAA,SAAA;AACE,oBAAA,QAAA,QAAA;AACA,gBAAA,gBAAA;AACA,eAAA,QAAA;AAAA,QAAa,OAAA;AAEb,oBAAA,MAAA,WAAA,IAAA,KAAA;AAAA,QAAoC;AAEtC,gBAAA,QAAA;AAAA,MAAgB,CAAA;AAAA,IACjB;;;;;;;;;QApFU,uBAAA,CAAA,WAAA,QAAA,QAAA;AAAA,QAAO,OAAA;AAAA,QACV,OAAA;AAAA,QACA,kBAAA;AAAA,QACN,WAAA;AAAA,QACU,QAAA;AAAA,MACH,GAAA,MAAA,GAAA;AAAA;;;;;cAIiB,uBAAA,CAAA,WAAA,WAAA,QAAA;AAAA,cAAU,aAAA;AAAA,cAAc,OAAA,EAAA,gBAAA,OAAA;AAAA,YAAQ,GAAA,MAAA,UAAA,QAAA,CAAA;;;cACnC,SAAA;AAAA,cAAkB,SAAA,QAAA;AAAA,YAAqB,GAAA;AAAA;;;;;;kBAAa;AAAA;;;;;;;AAIjDA,0BAAA,WAAA,OAAA,CAAA,QAAA;;;;gBAEN,MAAA;AAAA,gBAAU,MAAA;AAAA,gBAAc,SAAA,CAAA,WAAA,aAAA,GAAA;AAAA,cAAgC,GAAA;AAAA;;;;;;oBAAK;AAAA;;;;;;;;;;gBATtDC,YAAA,OAAA,EAAA,OAAA,cAAA,GAAA;AAAA,kBACEA,YAAA,qBAAA;AAAA,oBAC2D,YAAA,WAAA;AAAA,oBAA9D,uBAAA,CAAA,WAAA,WAAA,QAAA;AAAA,oBAAU,aAAA;AAAA,oBAAc,OAAA,EAAA,gBAAA,OAAA;AAAA,kBAAQ,GAAA,MAAA,GAAA,CAAA,cAAA,qBAAA,CAAA;AAAA;oBAC6B,MAAA;AAAA,oBAAhE,SAAA;AAAA,oBAAkB,SAAA,QAAA;AAAA,kBAAqB,GAAA;AAAA;sBAAaC,gBAAA,MAAA;AAAA,oBAAA,CAAA;AAAA;;;;gBAExDC,gBAAAC,UAAA,GAAAC,YAAA,OAAA,EAAA,OAAA,cAAA;AAAA,mBACOD,UAAA,IAAA,GAAAC,YAAAC,UAAA,MAAAC,WAAA,WAAA,OAAA,CAAA,QAAA;;sBAIb,KAAA,IAAA;AAAA,sBAHmC,OAAA;AAAA,oBAAU,GAAA;AAAA;sBAChCN,YAAA,sBAAA;AAAA,wBACmE,MAAA;AAAA,wBAAzE,MAAA;AAAA,wBAAU,MAAA;AAAA,wBAAc,SAAA,CAAA,WAAA,aAAA,GAAA;AAAA,sBAAgC,GAAA;AAAA;0BAAKC,gBAAA,IAAA;AAAA,wBAAA,CAAA;AAAA;;;;;;gBAHpC,CAAA;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;ACkC/C,UAAA,QAAA;AAKA,UAAA,OAAA;AAEA,UAAA,UAAA,SAAA;AAAA,MAAyB,KAAA,MAAA,MAAA;AAAA,MACN,KAAA,CAAA,QAAA,KAAA,qBAAA,GAAA;AAAA,IAC0B,CAAA;AAG7C,UAAA,OAAA,SAAA;AAAA,MAAsB,YAAA;AAAA,MACR,MAAA;AAAA,IACN,CAAA;AAER,UAAA,WAAA,IAAA,EAAA;AACA,UAAA,YAAA,IAAA,KAAA;AAEA,UAAA,mBAAA,CAAA,MAAA,gBAAA;AACE,eAAA,QAAA;AACA,UAAA,CAAA,KAAA,QAAA,KAAA,MAAA;AACE,aAAA,OAAA,KAAA;AAAA,MAAiB;AAAA,IACnB;AAGF,UAAA,eAAA,YAAA;AACE,UAAA,CAAA,KAAA,YAAA;AACE,kBAAA,QAAA,OAAA;AACA;AAAA,MAAA;AAEF,UAAA,SAAA,MAAA,WAAA,GAAA;AACE,kBAAA,QAAA,SAAA;AACA;AAAA,MAAA;AAEF,UAAA,KAAA,QAAA,KAAA,KAAA,SAAA,IAAA;AACI,kBAAA,QAAA,YAAA;AACA;AAAA,MAAA;AAGJ,gBAAA,QAAA;AACA,UAAA;AACE,cAAA,OAAA,SAAA,MAAA,CAAA,EAAA;AACA,cAAA,EAAA,qBAAA,IAAA,MAAA,OAAA,2BAAA;AACA,cAAA,YAAA,MAAA,qBAAA,IAAA;AAEA,YAAA,CAAA,UAAA,SAAA;AACE,oBAAA,MAAA,aAAA,UAAA,KAAA;AACA,oBAAA,QAAA;AACA;AAAA,QAAA;AAGF,cAAA,MAAA,MAAA,cAAA,YAAA;AAAA,UAA4C,MAAA,KAAA,QAAA,KAAA;AAAA,UAClB,KAAA,UAAA;AAAA,UACT,aAAA,KAAA;AAAA,QACG,CAAA;AAGpB,YAAA,IAAA,SAAA;AACE,oBAAA,QAAA,MAAA;AACA,kBAAA,QAAA;AACA,eAAA,SAAA;AAAA,QAAc,OAAA;AAEd,oBAAA,MAAA,eAAA,IAAA,KAAA;AAAA,QAAwC;AAAA,MAC1C,SAAA,OAAA;AAEA,gBAAA,MAAA,iBAAA,KAAA;AACA,kBAAA,MAAA,YAAA,MAAA,WAAA,OAAA;AAAA,MAAoD,UAAA;AAEpD,kBAAA,QAAA;AAAA,MAAkB;AAAA,IACpB;AAGF,UAAA,YAAA,MAAA;AACE,WAAA,aAAA;AACA,WAAA,OAAA;AACA,eAAA,QAAA,CAAA;AAAA,IAAkB;;;;;;;;;;;;QA3HP,uBAAA,CAAA,WAAA,QAAA,QAAA;AAAA,QAAO,OAAA;AAAA,QACV,OAAA;AAAA,QACA,UAAA;AAAA,QACG,kBAAA;AAAA,QACT,WAAA;AAAA,MACU,GAAA,MAAA,GAAA;AAAA;;;;;YA8BoB,GAAA;AAAA;;;;;;kBAAY;AAAA;;;;;;cACtB,SAAA;AAAA,cAAkB,SAAA,UAAA;AAAA,YAAwB,GAAA;AAAA;;;;;;kBAAe;AAAA;;;;;;;;gBAFhDD,YAAA,sBAAA;AAAA,kBACyB,SAAA,CAAA,WAAA,QAAA,QAAA;AAAA,gBAAxB,GAAA;AAAA;oBAAYC,gBAAA,IAAA;AAAA,kBAAA,CAAA;AAAA;;;kBAC+C,MAAA;AAAA,kBAArE,SAAA;AAAA,kBAAkB,SAAA,UAAA;AAAA,gBAAwB,GAAA;AAAA;oBAAeA,gBAAA,MAAA;AAAA,kBAAA,CAAA;AAAA;;;;;;;;;;cA7B5D,eAAA;AAAA,YAAkB,GAAA;AAAA;;;;oBACb,UAAA;AAAA,kBAAO,GAAA;AAAA;;;;0BACA,uBAAA,CAAA,WAAA,KAAA,aAAA;AAAA,0BAAU,aAAA;AAAA,0BAAc,OAAA,EAAA,SAAA,OAAA;AAAA,wBAAQ,GAAA;AAAA;;;AAC7BF,4CAAA,QAAA,YAAA,CAAA,QAAA;;;kCAAsB,OAAA,IAAA;AAAA,kCAAgB,OAAA,IAAA;AAAA,gCAAkB,GAAA,MAAA,UAAA,SAAA,CAAA;AAAA;;;;;;oCAAM,KAAA,IAAA;AAAA,oCAAxC,OAAA,IAAA;AAAA,oCAAgB,OAAA,IAAA;AAAA,kCAAkB,GAAA,MAAA,GAAA,CAAA,SAAA,OAAA,CAAA;AAAA;;;;;;;;;4BACxE,YAAA,KAAA;AAAA,4BAFa,uBAAA,CAAA,WAAA,KAAA,aAAA;AAAA,4BAAU,aAAA;AAAA,4BAAc,OAAA,EAAA,SAAA,OAAA;AAAA,0BAAQ,GAAA;AAAA;+BAClBI,UAAA,IAAA,GAAAC,YAAAC,UAAA,MAAAC,WAAA,QAAA,YAAA,CAAA,QAAA;;kCAAmD,KAAA,IAAA;AAAA,kCAAxC,OAAA,IAAA;AAAA,kCAAgB,OAAA,IAAA;AAAA,gCAAkB,GAAA,MAAA,GAAA,CAAA,SAAA,OAAA,CAAA;AAAA;;;;;;;;;AAGxE,yBAAAC,mBAAA,yBAAA,EAAA,OAAA,OAAA,GAAA;AAAA,oBAAY,SAAAC,QAAA,CAAA,IAAA,QAAA,UAAA,cAAA;;;;0BACC,uBAAA,CAAA,WAAA,KAAA,OAAA;AAAA,0BAAI,aAAA;AAAA,wBAAc,GAAA,MAAA,UAAA,SAAA,CAAA;AAAA;;;4BAAY,YAAA,KAAA;AAAA,4BAA9B,uBAAA,CAAA,WAAA,KAAA,OAAA;AAAA,4BAAI,aAAA;AAAA,0BAAc,GAAA,MAAA,GAAA,CAAA,cAAA,qBAAA,CAAA;AAAA;;;;;;;oBAEzB,UAAA;AAAA,kBAAO,GAAA;AAAA;;;;0BAEhB,QAAA;AAAA,0BACC,eAAA;AAAA,0BACO,OAAA;AAAA,0BACN,aAAA;AAAA,0BACI,aAAA,SAAA;AAAA,0BACA,aAAA;AAAA,wBACF,GAAA;AAAA;;;;;;8BAI4C;AAAA;;;;AAF3C,qCAAAD,mBAAA,sBAAA,EAAA,MAAA,UAAA,GAAA;AAAA,gCAAc,SAAAC,QAAA,CAAA,IAAA,QAAA,UAAA,cAAA;;;;;;oCAAO;AAAA;;;;;;;kCAAP,SAAAA,QAAA,MAAA;AAAA,oCAAOP,gBAAA,QAAA;AAAA,kCAAA,CAAA;AAAA;;;;;;;;;;4BAItB,OAAA;AAAA,4BAZJ,QAAA;AAAA,4BACC,eAAA;AAAA,4BACO,OAAA;AAAA,4BACN,aAAA;AAAA,4BACI,aAAA,SAAA;AAAA,4BACA,aAAA;AAAA,0BACF,GAAA;AAAA;8BAIkDD,YAAA,OAAA,EAAA,OAAA,iBAAA,GAAA,0BAAA;AAAA,4BAAN,CAAA;AAAA;8BAFVA,YAAA,sBAAA,EAAA,MAAA,UAAA,GAAA;AAAA,gCAAnB,SAAAQ,QAAA,MAAA;AAAA,kCAAOP,gBAAA,QAAA;AAAA,gCAAA,CAAA;AAAA;;;;;;;;;;;;;sBAdtB,OAAA;AAAA,sBAJK,UAAA;AAAA,oBAAO,GAAA;AAAA;wBAGbD,YAAA,sBAAA;AAAA,0BAAA,YAAA,KAAA;AAAA,0BAFa,uBAAA,CAAA,WAAA,KAAA,aAAA;AAAA,0BAAU,aAAA;AAAA,0BAAc,OAAA,EAAA,SAAA,OAAA;AAAA,wBAAQ,GAAA;AAAA;6BAClBG,UAAA,IAAA,GAAAC,YAAAC,UAAA,MAAAC,WAAA,QAAA,YAAA,CAAA,QAAA;;gCAAmD,KAAA,IAAA;AAAA,gCAAxC,OAAA,IAAA;AAAA,gCAAgB,OAAA,IAAA;AAAA,8BAAkB,GAAA,MAAA,GAAA,CAAA,SAAA,OAAA,CAAA;AAAA;;;;;;;;sBAG5D,SAAAE,QAAA,MAAA;AAAA,wBAC+BR,YAAA,qBAAA;AAAA,0BAAA,YAAA,KAAA;AAAA,0BAA9B,uBAAA,CAAA,WAAA,KAAA,OAAA;AAAA,0BAAI,aAAA;AAAA,wBAAc,GAAA,MAAA,GAAA,CAAA,cAAA,qBAAA,CAAA;AAAA;;;;sBAiB9B,OAAA;AAAA,sBAfK,UAAA;AAAA,oBAAO,GAAA;AAAA;wBAcZA,YAAA,sBAAA;AAAA,0BAAA,OAAA;AAAA,0BAZJ,QAAA;AAAA,0BACC,eAAA;AAAA,0BACO,OAAA;AAAA,0BACN,aAAA;AAAA,0BACI,aAAA,SAAA;AAAA,0BACA,aAAA;AAAA,wBACF,GAAA;AAAA;4BAIkDA,YAAA,OAAA,EAAA,OAAA,iBAAA,GAAA,0BAAA;AAAA,0BAAN,CAAA;AAAA;4BAFVA,YAAA,sBAAA,EAAA,MAAA,UAAA,GAAA;AAAA,8BAAnB,SAAAQ,QAAA,MAAA;AAAA,gCAAOP,gBAAA,QAAA;AAAA,8BAAA,CAAA;AAAA;;;;;;;;;;;;;;;;gBAM7B,OAAA;AAAA,gBAzBO,eAAA;AAAA,cAAkB,GAAA;AAAA;kBAKlBD,YAAA,yBAAA;AAAA,oBAAA,OAAA;AAAA,oBAJK,UAAA;AAAA,kBAAO,GAAA;AAAA;sBAGbA,YAAA,sBAAA;AAAA,wBAAA,YAAA,KAAA;AAAA,wBAFa,uBAAA,CAAA,WAAA,KAAA,aAAA;AAAA,wBAAU,aAAA;AAAA,wBAAc,OAAA,EAAA,SAAA,OAAA;AAAA,sBAAQ,GAAA;AAAA;2BAClBG,UAAA,IAAA,GAAAC,YAAAC,UAAA,MAAAC,WAAA,QAAA,YAAA,CAAA,QAAA;;8BAAmD,KAAA,IAAA;AAAA,8BAAxC,OAAA,IAAA;AAAA,8BAAgB,OAAA,IAAA;AAAA,4BAAkB,GAAA,MAAA,GAAA,CAAA,SAAA,OAAA,CAAA;AAAA;;;;;;;;oBAG5D,SAAAE,QAAA,MAAA;AAAA,sBAC+BR,YAAA,qBAAA;AAAA,wBAAA,YAAA,KAAA;AAAA,wBAA9B,uBAAA,CAAA,WAAA,KAAA,OAAA;AAAA,wBAAI,aAAA;AAAA,sBAAc,GAAA,MAAA,GAAA,CAAA,cAAA,qBAAA,CAAA;AAAA;;;;oBAiB9B,OAAA;AAAA,oBAfK,UAAA;AAAA,kBAAO,GAAA;AAAA;sBAcZA,YAAA,sBAAA;AAAA,wBAAA,OAAA;AAAA,wBAZJ,QAAA;AAAA,wBACC,eAAA;AAAA,wBACO,OAAA;AAAA,wBACN,aAAA;AAAA,wBACI,aAAA,SAAA;AAAA,wBACA,aAAA;AAAA,sBACF,GAAA;AAAA;0BAIkDA,YAAA,OAAA,EAAA,OAAA,iBAAA,GAAA,0BAAA;AAAA,wBAAN,CAAA;AAAA;0BAFVA,YAAA,sBAAA,EAAA,MAAA,UAAA,GAAA;AAAA,4BAAnB,SAAAQ,QAAA,MAAA;AAAA,8BAAOP,gBAAA,QAAA;AAAA,4BAAA,CAAA;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACuJ3C,UAAA,UAAA,IAAA,KAAA;AACA,UAAA,aAAA,IAAA,KAAA;AACA,UAAA,aAAA,IAAA,EAAA;AACA,UAAAQ,UAAA,IAAA,EAAA;AACA,UAAA,oBAAA,IAAA,EAAA;AACA,UAAA,gBAAA,IAAA,EAAA;AACA,UAAA,cAAA,IAAA,EAAA;AAEA,UAAA,mBAAA,IAAA,KAAA;AACA,UAAA,sBAAA,IAAA,KAAA;AACA,UAAA,oBAAA,IAAA,KAAA;AACA,UAAA,iBAAA,IAAA,KAAA;AACA,UAAA,aAAA,IAAA,EAAA;AASA,UAAA,kBAAA,YAAA;AACE,iBAAA,QAAA;AACA,YAAA,MAAA,MAAA,sBAAA,cAAA;AACA,UAAA,IAAA,SAAA;AACE,mBAAA,QAAA,IAAA;AAAA,MAAuB;AAEzB,iBAAA,QAAA;AAAA,IAAmB;AAUrB,UAAA,cAAA,SAAA,MAAAA,QAAA,MAAA,MAAA;AAEA,UAAA,cAAA,YAAA;AACE,cAAA,QAAA;AACA,kBAAA,QAAA,CAAA;AACA,UAAA;AACE,cAAA,MAAA,MAAA,cAAA,UAAA;AAAA,UAA0C,aAAA,kBAAA;AAAA,UACT,SAAA,cAAA;AAAA,QACR,CAAA;AAEzB,YAAA,IAAA,SAAA;AACE,UAAAA,QAAA,QAAA,IAAA,UAAA,CAAA;AAAA,QAA8B,OAAA;AAE9B,oBAAA,MAAA,IAAA,SAAA,QAAA;AAAA,QAAqC;AAAA,MACvC,UAAA;AAEA,gBAAA,QAAA;AAAA,MAAgB;AAAA,IAClB;AAGF,UAAA,eAAA,MAAA;AACE,kBAAA;AAAA,IAAY;AAcd,UAAA,WAAA,SAAA;AAAA,MAA0B,IAAA;AAAA,MACpB,MAAA;AAAA,MACE,aAAA;AAAA,IACO,CAAA;AAGf,UAAA,aAAA,CAAA,QAAA;AACE,eAAA,KAAA,IAAA;AACA,eAAA,OAAA,IAAA;AACA,eAAA,cAAA,IAAA,eAAA;AACA,wBAAA,QAAA;AAAA,IAA0B;AAG5B,UAAA,cAAA,YAAA;AACE,YAAA,MAAA,MAAA,cAAA,YAAA,SAAA,IAAA;AAAA,QAAyD,MAAA,SAAA;AAAA,QACxC,aAAA,SAAA;AAAA,MACO,CAAA;AAExB,UAAA,IAAA,SAAA;AACE,kBAAA,QAAA,MAAA;AACA,0BAAA,QAAA;AACA,oBAAA;AAAA,MAAY,OAAA;AAEZ,kBAAA,MAAA,IAAA,SAAA,MAAA;AAAA,MAAmC;AAAA,IACrC;AAGF,UAAA,eAAA,CAAA,QAAA;AACG,mBAAA,QAAA,YAAA,MAAA,EAAA,MAAA,UAAA,CAAA,EAAA,KAAA,YAAA;AAEG,cAAA,MAAA,MAAA,cAAA,YAAA,IAAA,EAAA;AACA,YAAA,IAAA,SAAA;AACE,oBAAA,QAAA,MAAA;AACA,sBAAA;AAAA,QAAY,OAAA;AAEZ,oBAAA,MAAA,IAAA,KAAA;AAAA,QAAyB;AAAA,MAC3B,CAAA;AAAA,IACD;AAGL,UAAA,oBAAA,MAAA;AACE,mBAAA,QAAA,WAAA,YAAA,MAAA,MAAA,SAAA,QAAA,EAAA,MAAA,UAAA,CAAA,EAAA,KAAA,YAAA;AAEM,cAAA,MAAA,MAAA,cAAA,aAAA,YAAA,KAAA;AACA,YAAA,IAAA,SAAA;AACK,oBAAA,QAAA,QAAA;AACA,sBAAA;AAAA,QAAY,OAAA;AAEZ,oBAAA,MAAA,IAAA,KAAA;AAAA,QAAyB;AAAA,MAC9B,CAAA;AAAA,IACH;AAIL,UAAA,UAAA,IAAA,KAAA;AACA,UAAA,aAAA,YAAA;AACE,cAAA,QAAA;AACA,UAAA;AACE,cAAA,EAAA,kBAAA,IAAA,MAAA,OAAA,eAAA,EAAA,KAAA,OAAA,EAAA,EAAA;AACA,cAAA,QAAA,MAAA,kBAAA;AACA,YAAA,CAAA,MAAA,QAAmB,UAAA,MAAA,UAAA;AAEnB,cAAA,EAAA,mBAAA,IAAA,MAAA,OAAA,eAAA,EAAA,KAAA,OAAA,EAAA,EAAA;AACA,cAAA,WAAA,MAAA,MAAA,GAAA,kBAAA,YAAA;AAAA,UAA8D,QAAA;AAAA,UACpD,SAAA,EAAA,iBAAA,UAAA,KAAA,IAAA,gBAAA,mBAAA;AAAA,UAC0E,MAAA,KAAA,UAAA,EAAA,QAAA,UAAA,CAAA;AAAA,QACxC,CAAA;AAG5C,cAAA,SAAA,MAAA,SAAA,KAAA;AACA,YAAA,OAAA,MAAA,OAAA,IAAA,MAAA,OAAA,KAAA;AAEA,cAAA,YAAA,OAAA,WAAA,CAAA;AACA,cAAA,eAAA,IAAA,IAAAA,QAAA,MAAA,IAAA,CAAA,MAAA,EAAA,GAAA,CAAA;AAQA,cAAA,UAAA,UAAA,OAAA,CAAA,QAAA,CAAA,aAAA,IAAA,IAAA,GAAA,CAAA;AACA,YAAA,QAAA,WAAA,GAAA;AACI,oBAAA,QAAA,MAAA;AACA;AAAA,QAAA;AAIJ,YAAA,kBAAA,WAAA,MAAA,KAAA,CAAA,MAAA,EAAA,SAAA,KAAA,GAAA;AACA,YAAA,CAAA,iBAAA;AACI,gBAAA,OAAA,MAAA,sBAAA,eAAA,KAAA;AACA,cAAA,KAAA,QAAA,mBAAA,KAAA,UAAA;AACA,gBAAA,gBAAA;AAAA,QAAsB;AAG1B,YAAA,QAAA;AACA,mBAAA,KAAA,SAAA;AACI,gBAAA,OAAA,EAAA,IAAA,MAAA,GAAA,EAAA,IAAA;AACA,gBAAA,MAAA,MAAA,cAAA,YAAA,EAAA,MAAA,KAAA,EAAA,KAAA,aAAA,gBAAA,CAAA;AACA,cAAA,IAAA,QAAA;AAAA,QAAiB;AAErB,kBAAA,QAAA,WAAA,KAAA,MAAA;AACA,oBAAA;AAAA,MAAY,SAAA,GAAA;AAGZ,kBAAA,MAAA,WAAA,EAAA,OAAA;AAAA,MAAoC,UAAA;AAEpC,gBAAA,QAAA;AAAA,MAAgB;AAAA,IAClB;AAGF,UAAA,sBAAA,MAAA;AACE,kBAAA;AAAA,IAAY;AAGd,UAAA,eAAA,CAAA,QAAA;AACI,iBAAA,QAAA;AACA,qBAAA,QAAA;AAAA,IAAuB;AAG3B,UAAA,aAAA,CAAA,YAAA;AACE,UAAA,CAAA,QAAA,QAAA;AACA,aAAA,IAAA,KAAA,OAAA,EAAA,mBAAA;AAAA,IAA4C;;;;;;;;;;;;;;;;;;;;;;;YArWhB;AAAA;;;;;AAEU,UAAA,YAAA,QAAA,KAAA,kBAAA,UAAA,IAAA;;MAA2D,OAAA;;;;AAOzEV,oBAAA,WAAA,OAAA,CAAA,QAAA;AAGI,cAAA,eAAAW,eAAA,CAAA,EAAA,QAAA,kBAAA,UAAA,IAAA,IAAA,oBAAA,IAAA,SAAA,MAAA,GAAA,UAAA,CAAA,CAAA,oBAAA;AAGH,YAAA,IAAA,SAAA,OAAA;;;;;;;;gBAAoC;AAAA;;;;;;;;;;;;gBACzB;AAAA;;;;;AACC,cAAA,2CAAAC,eAAA,IAAA,IAAA,CAAA,eAAA;AAAA,MAAQ,CAAA;;;;QAM5B,SAAA,CAAA,WAAA,iBAAA,QAAA;AAAA,MAA8B,GAAA;AAAA;;AAC9B,mBAAAJ,mBAAA,oBAAA,EAAA,OAAA,gBAAA,GAAA;AAAA,cAAqB,SAAAC,QAAA,CAAA,IAAA,QAAA,UAAA,cAAA;;;;;;kBAAY;AAAA;;;;;;;;gBAAZ,SAAAA,QAAA,MAAA;AAAA,kBAAYR,YAAAY,MAAAC,eAAA,CAAA;AAAA,gBAAA,CAAA;AAAA;;;YAC5C;AAAA;;;;;;;QAUe,uBAAA,CAAA,WAAA,cAAA,QAAA;AAAA,QAAa,aAAA;AAAA,QACV,eAAA;AAAA,QACA,WAAA;AAAA,QACZ,OAAA,EAAA,SAAA,QAAA;AAAA,QACA,SAAA;AAAA,QACc,SAAA;AAAA,MACN,GAAA,MAAA,OAAA,CAAA;;AAKE,UAAA,YAAA,MAAA,SAAA,GAAA;AAC4B,cAAA,8FAAAF,eAAA,YAAA,MAAA,MAAA,CAAA,WAAA;;;UACnB,MAAA;AAAA,UAAS,SAAA;AAAA,QAAa,GAAA;AAAA;;;;;;cAAuB;AAAA;;;;AACjD,cAAAJ,mBAAA,uBAAA,EAAA,WAAA,cAAA,MAAA,OAAA,CAAA;;;UACD,SAAA,CAAA,WAAA,YAAA,QAAA,CAAA;AAAA,QAAwB,GAAA;AAAA;;;;;;cAAW;AAAA;;;;;;;;AAGX,UAAA,YAAA,MAAA,SAAA,GAAA;AAA3B,cAAAA,mBAAA,uBAAA,EAAA,WAAA,cAAA,MAAA,OAAA,CAAA;AAAA,MAAoB,OAAA;;;;;QAEb,SAAA,QAAA;AAAA,QAAsB,MAAAK,MAAAE,eAAA;AAAA,MAAgB,GAAA;AAAA;;;;;;YAAc;AAAA;;;;;;QACvD,SAAA,CAAA,WAAA,oBAAA,QAAA;AAAA,QAAqC,MAAAF,MAAAG,cAAA;AAAA,MAAgB,GAAA;AAAA;;;;;;YAAY;AAAA;;;;;AAM1E,UAAAN,QAAA,MAAA,WAAA,GAAA;;AACC,cAAAF,mBAAA,qBAAA,EAAA,aAAA,UAAA,MAAA,OAAA,CAAA;;;;AAKOR,sBAAAU,QAAA,OAAA,CAAA,QAAA;AAGM,gBAAA,eAAAC,eAAA,CAAA,EAAA,UAAA,YAAA,MAAA,SAAA,IAAA,EAAA,EAAA,GAAA,WAAA,CAAA,CAAA,6DAAA;;;YAKJ,KAAA;AAAA,YACN,SAAA;AAAA,YACI,OAAA;AAAA,UACF,GAAA,MAAA,OAAA,CAAA;;;;YAKW,MAAA;AAAA,YAAY,MAAAE,MAAAI,YAAA;AAAA,YAAe,SAAA,CAAA,WAAA,aAAA,IAAA,GAAA;AAAA,UAAuC,GAAA,MAAA,OAAA,CAAA;;;YAClE,MAAA;AAAA,YAAY,MAAA;AAAA,YAAa,MAAAJ,MAAAK,YAAA;AAAA,YAAiB,SAAA,CAAA,WAAA,WAAA,GAAA;AAAA,UAAiC,GAAA,MAAA,OAAA,CAAA;;;YAC3E,MAAA;AAAA,YAAY,MAAA;AAAA,YAAa,MAAAL,MAAAM,cAAA;AAAA,YAAgB,SAAA,CAAA,WAAA,aAAA,GAAA;AAAA,UAAqC,GAAA,MAAA,OAAA,CAAA;;AAI/D,cAAA,YAAA,MAAA,SAAA,IAAA,EAAA,GAAA;;;;;;;;;kBACZ;AAAA;;;;;;;;;AAMa,cAAA,IAAA,UAAA;;UAAkC,OAAA;;;;QACjB,CAAA;;;;AAQ9B,UAAAT,QAAA,MAAA,SAAA,GAAA;;;;UAE7B,QAAA;AAAA,UACO,OAAAA,QAAA,MAAA;AAAA,UACQ,aAAA;AAAA,UACH,uBAAA;AAAA,QACZ,GAAA,MAAA,OAAA,CAAA;;;;;;;;QAOwB,uBAAA,CAAA,WAAA,iBAAA,QAAA;AAAA,QAAgB,UAAA;AAAA,MAAW,GAAA,MAAA,OAAA,CAAA;;;QAC/B,uBAAA,CAAA,WAAA,oBAAA,QAAA;AAAA,QAAmB,YAAA,WAAA;AAAA,QAAe,WAAA;AAAA,MAAsB,GAAA,MAAA,OAAA,CAAA;;;QAG/D,uBAAA,CAAA,WAAA,kBAAA,QAAA;AAAA,QAAiB,OAAA;AAAA,QAAQ,OAAA;AAAA,QAAe,kBAAA;AAAA,QAAQ,WAAA;AAAA,MAAyB,GAAA;AAAA;;;;;YAanD,GAAA;AAAA;;;;;;kBAAY;AAAA;;;;;;cAChC,SAAA;AAAA,YAAkB,GAAA;AAAA;;;;;;kBAAe;AAAA;;;;;;;;gBAFxBT,YAAA,sBAAA;AAAA,kBACmC,SAAA,CAAA,WAAA,kBAAA,QAAA;AAAA,gBAAxB,GAAA;AAAA;oBAAYC,gBAAA,IAAA;AAAA,kBAAA,CAAA;AAAA;;;kBACa,MAAA;AAAA,kBAA7C,SAAA;AAAA,gBAAkB,GAAA;AAAA;oBAAeA,gBAAA,IAAA;AAAA,kBAAA,CAAA;AAAA;;;;;;;;;;cAbnC,eAAA;AAAA,YAAsB,GAAA;AAAA;;AACvB,yBAAAM,mBAAA,yBAAA,EAAA,OAAA,KAAA,GAAA;AAAA,oBAAU,SAAAC,QAAA,CAAA,IAAA,QAAA,UAAA,cAAA;;;;0BACM,uBAAA,CAAA,WAAA,SAAA,OAAA;AAAA,wBAAI,GAAA,MAAA,UAAA,SAAA,CAAA;AAAA;;;4BAAI,YAAA,SAAA;AAAA,4BAAR,uBAAA,CAAA,WAAA,SAAA,OAAA;AAAA,0BAAI,GAAA,MAAA,GAAA,CAAA,cAAA,qBAAA,CAAA;AAAA;;;;;AAEpB,yBAAAD,mBAAA,yBAAA,EAAA,OAAA,KAAA,GAAA;AAAA,oBAAU,SAAAC,QAAA,CAAA,IAAA,QAAA,UAAA,cAAA;;;;0BACQ,uBAAA,CAAA,WAAA,SAAA,cAAA;AAAA,0BAAW,OAAA,EAAA,SAAA,OAAA;AAAA,wBAAE,GAAA;AAAA;;;AAChBT,4CAAA,WAAA,OAAA,CAAA,QAAA;;;kCAAsB,OAAA,IAAA;AAAA,kCAAgB,OAAA,IAAA;AAAA,gCAAkB,GAAA,MAAA,UAAA,SAAA,CAAA;AAAA;;;;;;oCAAM,KAAA,IAAA;AAAA,oCAAxC,OAAA,IAAA;AAAA,oCAAgB,OAAA,IAAA;AAAA,kCAAkB,GAAA,MAAA,GAAA,CAAA,SAAA,OAAA,CAAA;AAAA;;;;;;;;;4BACxE,YAAA,SAAA;AAAA,4BAFmB,uBAAA,CAAA,WAAA,SAAA,cAAA;AAAA,4BAAW,OAAA,EAAA,SAAA,OAAA;AAAA,0BAAE,GAAA;AAAA;+BACLI,UAAA,IAAA,GAAAC,YAAAC,UAAA,MAAAC,WAAA,WAAA,OAAA,CAAA,QAAA;;kCAAmD,KAAA,IAAA;AAAA,kCAAxC,OAAA,IAAA;AAAA,kCAAgB,OAAA,IAAA;AAAA,gCAAkB,GAAA,MAAA,GAAA,CAAA,SAAA,OAAA,CAAA;AAAA;;;;;;;;;;;;sBAL7D,SAAAE,QAAA,MAAA;AAAA,wBACcR,YAAA,qBAAA;AAAA,0BAAA,YAAA,SAAA;AAAA,0BAAR,uBAAA,CAAA,WAAA,SAAA,OAAA;AAAA,wBAAI,GAAA,MAAA,GAAA,CAAA,cAAA,qBAAA,CAAA;AAAA;;;;sBAEV,SAAAQ,QAAA,MAAA;AAAA,wBAGXR,YAAA,sBAAA;AAAA,0BAAA,YAAA,SAAA;AAAA,0BAFmB,uBAAA,CAAA,WAAA,SAAA,cAAA;AAAA,0BAAW,OAAA,EAAA,SAAA,OAAA;AAAA,wBAAE,GAAA;AAAA;6BACLG,UAAA,IAAA,GAAAC,YAAAC,UAAA,MAAAC,WAAA,WAAA,OAAA,CAAA,QAAA;;gCAAmD,KAAA,IAAA;AAAA,gCAAxC,OAAA,IAAA;AAAA,gCAAgB,OAAA,IAAA;AAAA,8BAAkB,GAAA,MAAA,GAAA,CAAA,SAAA,OAAA,CAAA;AAAA;;;;;;;;;;;;;;;gBAG7E,OAAA;AAAA,gBATO,eAAA;AAAA,cAAsB,GAAA;AAAA;kBAGtBN,YAAA,yBAAA,EAAA,OAAA,KAAA,GAAA;AAAA,oBAFS,SAAAQ,QAAA,MAAA;AAAA,sBACcR,YAAA,qBAAA;AAAA,wBAAA,YAAA,SAAA;AAAA,wBAAR,uBAAA,CAAA,WAAA,SAAA,OAAA;AAAA,sBAAI,GAAA,MAAA,GAAA,CAAA,cAAA,qBAAA,CAAA;AAAA;;;;oBAEV,SAAAQ,QAAA,MAAA;AAAA,sBAGXR,YAAA,sBAAA;AAAA,wBAAA,YAAA,SAAA;AAAA,wBAFmB,uBAAA,CAAA,WAAA,SAAA,cAAA;AAAA,wBAAW,OAAA,EAAA,SAAA,OAAA;AAAA,sBAAE,GAAA;AAAA;2BACLG,UAAA,IAAA,GAAAC,YAAAC,UAAA,MAAAC,WAAA,WAAA,OAAA,CAAA,QAAA;;8BAAmD,KAAA,IAAA;AAAA,8BAAxC,OAAA,IAAA;AAAA,8BAAgB,OAAA,IAAA;AAAA,4BAAkB,GAAA,MAAA,GAAA,CAAA,SAAA,OAAA,CAAA;AAAA;;;;;;;;;;;;;;;;;QActE,uBAAA,CAAA,WAAA,eAAA,QAAA;AAAA,QAAc,OAAA;AAAA,QAAQ,gBAAA;AAAA,QAAqB,kBAAA;AAAA,MAAiB,GAAA;AAAA;;;;;;gBACyB,KAAA,WAAA;AAAA,gBAA1F,OAAA,EAAA,aAAA,QAAA,cAAA,SAAA,WAAA,SAAA,UAAA,SAAA;AAAA,cAAY,GAAA,MAAA,GAAA,CAAA,KAAA,CAAA;AAAA;;;;;;;;;;;;;;;;","names":["_ssrRenderList","_createVNode","_createTextVNode","_withDirectives","_openBlock","_createBlock","_Fragment","_renderList","_ssrRenderComponent","_withCtx","images","_ssrRenderClass","_ssrInterpolate","_unref","Setting","Refresh","Upload","View","Edit","Delete"],"sources":["../../../../components/admin/media/CategoryManagerModal.vue","../../../../components/admin/media/ImageUploadModal.vue","../../../../pages/_mgmt_9Xfa3/media/images.vue"],"sourcesContent":["<template>\n  <el-dialog \n    v-model=\"visible\" \n    title=\"分类管理\" \n    width=\"500px\" \n    append-to-body \n    :z-index=\"2000\"\n    @open=\"fetchCategories\"\n  >\n     <div class=\"cat-manager\">\n       <div class=\"add-cat-row\">\n         <el-input v-model=\"newCatName\" placeholder=\"新分类名称\" style=\"margin-right: 10px;\" />\n         <el-button type=\"primary\" @click=\"handleAdd\" :loading=\"loading\">添加分类</el-button>\n       </div>\n       <el-divider />\n       <div class=\"cat-list\" v-loading=\"loading\">\n         <div v-for=\"cat in categories\" :key=\"cat.id\" class=\"cat-item\">\n           <span>{{ cat.name }}</span>\n           <el-button link type=\"danger\" size=\"small\" @click=\"handleDelete(cat)\">删除</el-button>\n         </div>\n       </div>\n     </div>\n  </el-dialog>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, computed } from 'vue'\nimport { ElMessage, ElMessageBox } from 'element-plus'\nimport { adminImageCategoryApi, type AdminImageCategory } from '@/api/admin/media'\n\nconst props = defineProps<{\n  modelValue: boolean\n}>()\n\nconst emit = defineEmits(['update:modelValue', 'change'])\n\nconst visible = computed({\n  get: () => props.modelValue,\n  set: (val) => emit('update:modelValue', val)\n})\n\nconst loading = ref(false)\nconst categories = ref<AdminImageCategory[]>([])\nconst newCatName = ref('')\n\nconst fetchCategories = async () => {\n  loading.value = true\n  const res = await adminImageCategoryApi.getCategories()\n  if (res.success) {\n    categories.value = res.categories\n  }\n  loading.value = false\n}\n\nconst handleAdd = async () => {\n  if (!newCatName.value.trim()) {\n      ElMessage.warning('请输入分类名称')\n      return\n  }\n  loading.value = true\n  const res = await adminImageCategoryApi.createCategory(newCatName.value)\n  if (res.success) {\n     ElMessage.success('分类添加成功')\n     newCatName.value = ''\n     await fetchCategories()\n     emit('change')\n  } else {\n     ElMessage.error('添加失败: ' + res.error)\n  }\n  loading.value = false\n}\n\nconst handleDelete = (cat: AdminImageCategory) => {\n  ElMessageBox.confirm(`确认删除分类 \"${cat.name}\" 吗？`, '删除分类', {\n    type: 'warning'\n  }).then(async () => {\n    loading.value = true\n    const res = await adminImageCategoryApi.deleteCategory(cat.id)\n    if (res.success) {\n      ElMessage.success('分类删除成功')\n      await fetchCategories()\n      emit('change')\n    } else {\n      ElMessage.error('删除失败: ' + res.error)\n    }\n    loading.value = false\n  })\n}\n</script>\n\n<style scoped>\n.cat-manager {\n  padding: 0 10px;\n}\n.add-cat-row {\n  display: flex;\n  margin-bottom: 15px;\n}\n.cat-list {\n  max-height: 300px;\n  overflow-y: auto;\n}\n.cat-item {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 10px 0;\n  border-bottom: 1px solid var(--el-border-color-lighter);\n}\n.cat-item:last-child {\n  border-bottom: none;\n}\n</style>\n","<template>\n  <el-dialog \n    v-model=\"visible\" \n    title=\"上传图片\" \n    width=\"500px\" \n    @closed=\"resetForm\" \n    append-to-body \n    :z-index=\"2000\"\n  >\n    <el-form :model=\"form\" label-width=\"80px\">\n      <el-form-item label=\"所属分类\" required>\n        <el-select v-model=\"form.categoryId\" placeholder=\"请选择分类\" style=\"width: 100%;\">\n           <el-option v-for=\"cat in categories\" :key=\"cat.id\" :label=\"cat.name\" :value=\"cat.id\" />\n        </el-select>\n      </el-form-item>\n      <el-form-item label=\"图片名称\">\n         <el-input v-model=\"form.name\" placeholder=\"默认使用文件名\" />\n      </el-form-item>\n      <el-form-item label=\"选择图片\" required>\n         <el-upload\n           class=\"upload-demo\"\n           action=\"#\"\n           :auto-upload=\"false\"\n           :limit=\"1\"\n           :on-change=\"handleFileChange\"\n           :file-list=\"fileList\"\n           list-type=\"picture\"\n         >\n           <el-button type=\"primary\">点击选择文件</el-button>\n           <template #tip>\n             <div class=\"el-upload__tip\">只能上传 jpg/png 文件，且不超过 2MB</div>\n           </template>\n         </el-upload>\n      </el-form-item>\n    </el-form>\n    <template #footer>\n      <span class=\"dialog-footer\">\n        <el-button @click=\"visible = false\">取消</el-button>\n        <el-button type=\"primary\" @click=\"submitUpload\" :loading=\"uploading\">开始上传</el-button>\n      </span>\n    </template>\n  </el-dialog>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, reactive, computed, watch } from 'vue'\nimport { ElMessage } from 'element-plus'\nimport { adminImageApi, type AdminImageCategory } from '@/api/admin/media'\n\nconst props = defineProps<{\n  modelValue: boolean\n  categories: AdminImageCategory[]\n}>()\n\nconst emit = defineEmits(['update:modelValue', 'success'])\n\nconst visible = computed({\n  get: () => props.modelValue,\n  set: (val) => emit('update:modelValue', val)\n})\n\nconst form = reactive({\n  categoryId: '',\n  name: ''\n})\nconst fileList = ref<any[]>([])\nconst uploading = ref(false)\n\nconst handleFileChange = (file: any, fileListRef: any) => {\n  fileList.value = fileListRef\n  if (!form.name && file.name) {\n    form.name = file.name\n  }\n}\n\nconst submitUpload = async () => {\n  if (!form.categoryId) {\n    ElMessage.warning('请选择分类')\n    return\n  }\n  if (fileList.value.length === 0) {\n    ElMessage.warning('请选择图片文件')\n    return\n  }\n  if (form.name && form.name.length > 50) {\n      ElMessage.warning('图片名称过长，请精简')\n      return\n  }\n  \n  uploading.value = true\n  try {\n    const file = fileList.value[0].raw\n    const { uploadImageToStorage } = await import('@/utils/uploadImage')\n    const uploadRes = await uploadImageToStorage(file)\n    \n    if (!uploadRes.success) {\n      ElMessage.error('文件上传失败: ' + uploadRes.error)\n      uploading.value = false\n      return\n    }\n    \n    const res = await adminImageApi.createImage({\n      name: form.name || file.name,\n      url: uploadRes.url!,\n      category_id: form.categoryId\n    })\n    \n    if (res.success) {\n      ElMessage.success('上传成功')\n      visible.value = false\n      emit('success')\n    } else {\n      ElMessage.error('保存图片记录失败: ' + res.error)\n    }\n  } catch (error: any) {\n    console.error('Upload error:', error)\n    ElMessage.error('上传失败: ' + (error.message || '未知错误'))\n  } finally {\n    uploading.value = false\n  }\n}\n\nconst resetForm = () => {\n  form.categoryId = ''\n  form.name = ''\n  fileList.value = []\n}\n</script>\n\n<style scoped>\n:deep(.el-upload-list__item-name) {\n  max-width: 300px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n</style>\n","<template>\n  <div class=\"media-layout\">\n    \n    <!-- 左侧分类侧边栏 -->\n    <div class=\"media-sidebar\">\n      <div class=\"sidebar-header\">\n        <h3 class=\"sidebar-title\">图片分类</h3>\n      </div>\n      \n      <div class=\"category-nav\">\n        <!-- 固定项 -->\n        <div \n          class=\"nav-item\" \n          :class=\"{ active: currentCategoryId === '' }\"\n          @click=\"handleCategorySelect('')\"\n        >\n          <el-icon><Picture /></el-icon>\n          <span class=\"nav-label\">全部图片</span>\n          <span class=\"nav-count\" v-if=\"totalImages > 0 && currentCategoryId === ''\">{{ totalImages }}</span>\n        </div>\n\n        <!-- 分类列表 -->\n        <div class=\"nav-divider\"></div>\n        <div class=\"nav-list\" v-loading=\"catLoading\">\n          <div \n            v-for=\"cat in categories\" \n            :key=\"cat.id\" \n            class=\"nav-item\"\n            :class=\"{ active: currentCategoryId === cat.id, 'is-uncategorized': cat.name === '未分类' }\"\n            @click=\"handleCategorySelect(cat.id)\"\n          >\n            <el-icon v-if=\"cat.name === '未分类'\"><FolderRemove /></el-icon>\n            <el-icon v-else><Folder /></el-icon>\n            <span class=\"nav-label\">{{ cat.name }}</span>\n          </div>\n        </div>\n      </div>\n\n      <div class=\"sidebar-footer\">\n        <el-button block @click=\"catDialogVisible = true\">\n          <el-icon class=\"el-icon--left\"><Setting /></el-icon> 管理分类\n        </el-button>\n      </div>\n    </div>\n\n    <!-- 右侧内容区 -->\n    <div class=\"media-content\">\n      <!-- 顶部工具栏 -->\n      <div class=\"content-toolbar\">\n         <div class=\"toolbar-left\">\n            <el-input \n              v-model=\"searchKeyword\" \n              placeholder=\"搜索图片...\" \n              prefix-icon=\"Search\"\n              clearable \n              style=\"width: 240px;\" \n              @keyup.enter=\"handleSearch\"\n              @clear=\"handleSearch\"\n            />\n         </div>\n         <div class=\"toolbar-right\">\n             <!-- 批量操作区 -->\n             <div v-if=\"selectedIds.length > 0\" class=\"batch-actions\">\n                 <span class=\"selection-info\">已选 {{ selectedIds.length }} 项</span>\n                 <el-button type=\"danger\" link @click=\"handleBatchDelete\">批量删除</el-button>\n                 <el-divider direction=\"vertical\" />\n                 <el-button link @click=\"selectedIds = []\">取消选择</el-button>\n             </div>\n             \n             <el-divider direction=\"vertical\" v-if=\"selectedIds.length > 0\" />\n             \n             <el-button @click=\"syncFromR2\" :loading=\"syncing\" :icon=\"Refresh\">R2 同步</el-button>\n             <el-button type=\"primary\" @click=\"uploadDialogVisible = true\" :icon=\"Upload\">上传图片</el-button>\n         </div>\n      </div>\n\n      <!-- 图片网格 -->\n      <div class=\"content-body\" v-loading=\"loading\">\n         <div v-if=\"images.length === 0\" class=\"empty-state\">\n           <el-empty description=\"暂无图片\" />\n         </div>\n         \n         <div v-else class=\"image-grid-container\">\n            <div \n              v-for=\"img in images\" \n              :key=\"img.id\" \n              class=\"grid-item\"\n              :class=\"{ selected: selectedIds.includes(img.id) }\"\n              @click=\"toggleSelect(img.id)\"\n            >\n               <div class=\"img-preview\">\n                  <el-image \n                    :src=\"img.url\" \n                    fit=\"cover\" \n                    loading=\"lazy\"\n                    class=\"real-image\"\n                  />\n                  <!-- 悬浮遮罩 -->\n                  <div class=\"img-overlay\">\n                      <div class=\"overlay-actions\">\n                          <el-button circle size=\"small\" :icon=\"View\" @click.stop=\"previewImage(img.url)\" />\n                          <el-button circle size=\"small\" type=\"primary\" :icon=\"Edit\" @click.stop=\"handleEdit(img)\" />\n                          <el-button circle size=\"small\" type=\"danger\" :icon=\"Delete\" @click.stop=\"handleDelete(img)\" />\n                      </div>\n                  </div>\n                  <!-- 选中标记 -->\n                  <div class=\"selection-mark\" v-if=\"selectedIds.includes(img.id)\">\n                      <el-icon><Check /></el-icon>\n                  </div>\n               </div>\n               <div class=\"img-meta\">\n                   <div class=\"img-name\" :title=\"img.name\">{{ img.name }}</div>\n                   <div class=\"img-info\">\n                       <span class=\"cat-badge\" v-if=\"img.category\">{{ img.category.name }}</span>\n                       <span class=\"date\">{{ formatDate(img.created_at) }}</span>\n                   </div>\n               </div>\n            </div>\n         </div>\n      </div>\n\n      <!-- 分页 (固定底部) -->\n      <div class=\"content-footer\" v-if=\"images.length > 0\">\n         <el-pagination\n           background\n           layout=\"total, prev, pager, next\"\n           :total=\"images.length\" \n           :page-size=\"50\"\n           hide-on-single-page\n         />\n         <!-- 注意：当前API没有分页返回 total，这里假设全部返回或者后续优化分页API。为了体验暂时显示 total=length -->\n      </div>\n    </div>\n\n    <!-- 弹窗组件 -->\n    <CategoryManagerModal v-model=\"catDialogVisible\" @change=\"fetchCategories\" />\n    <ImageUploadModal v-model=\"uploadDialogVisible\" :categories=\"categories\" @success=\"handleUploadSuccess\" />\n\n    <!-- 编辑图片弹窗 -->\n    <el-dialog v-model=\"editDialogVisible\" title=\"编辑图片信息\" width=\"400px\" append-to-body :z-index=\"2000\">\n       <el-form :model=\"editForm\" label-width=\"80px\">\n         <el-form-item label=\"名称\">\n           <el-input v-model=\"editForm.name\" />\n         </el-form-item>\n         <el-form-item label=\"分类\">\n            <el-select v-model=\"editForm.category_id\" style=\"width: 100%;\">\n             <el-option v-for=\"cat in categories\" :key=\"cat.id\" :label=\"cat.name\" :value=\"cat.id\" />\n          </el-select>\n         </el-form-item>\n       </el-form>\n       <template #footer>\n        <span class=\"dialog-footer\">\n          <el-button @click=\"editDialogVisible = false\">取消</el-button>\n          <el-button type=\"primary\" @click=\"confirmEdit\">保存</el-button>\n        </span>\n      </template>\n    </el-dialog>\n\n    <!-- 图片预览 (使用 el-image-viewer 无法直接嵌入，使用 el-image 的 preview 功能但需要手动触发) -->\n    <!-- 由于 el-image 自带点击预览，这里我们在 overlay 里的预览按钮可以手动调用一个隐藏的 el-image 的预览，或者简单点直接弹个 dialog -->\n    <el-dialog v-model=\"previewVisible\" width=\"800px\" custom-class=\"preview-dialog\" append-to-body>\n        <img :src=\"previewUrl\" style=\"max-width: 100%; max-height: 600px; display: block; margin: 0 auto;\" />\n    </el-dialog>\n\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, reactive, computed, onMounted } from 'vue'\nimport { \n  Picture, Folder, FolderRemove, Setting, Search, \n  Upload, Refresh, Delete, Edit, View, Check \n} from '@element-plus/icons-vue'\nimport { ElMessage, ElMessageBox } from 'element-plus'\nimport { adminImageApi, adminImageCategoryApi, type AdminImage, type AdminImageCategory } from '@/api/admin/media'\nimport CategoryManagerModal from '@/components/admin/media/CategoryManagerModal.vue'\nimport ImageUploadModal from '@/components/admin/media/ImageUploadModal.vue'\n\n// --- State ---\nconst loading = ref(false)\nconst catLoading = ref(false)\nconst categories = ref<AdminImageCategory[]>([])\nconst images = ref<AdminImage[]>([])\nconst currentCategoryId = ref('')\nconst searchKeyword = ref('')\nconst selectedIds = ref<string[]>([])\n\nconst catDialogVisible = ref(false)\nconst uploadDialogVisible = ref(false)\nconst editDialogVisible = ref(false)\nconst previewVisible = ref(false)\nconst previewUrl = ref('')\n\n// --- Initialization ---\nonMounted(async () => {\n  await fetchCategories()\n  await fetchImages()\n})\n\n// --- Category Logic ---\nconst fetchCategories = async () => {\n  catLoading.value = true\n  const res = await adminImageCategoryApi.getCategories()\n  if (res.success) {\n    categories.value = res.categories\n  }\n  catLoading.value = false\n}\n\nconst handleCategorySelect = (id: string) => {\n  if (currentCategoryId.value === id) return\n  currentCategoryId.value = id\n  fetchImages()\n}\n\n// --- Image Logic ---\nconst totalImages = computed(() => images.value.length) // Temporary, as API might not return total count yet\n\nconst fetchImages = async () => {\n  loading.value = true\n  selectedIds.value = [] // Reset selection on refresh\n  try {\n    const res = await adminImageApi.getImages({\n      category_id: currentCategoryId.value,\n      keyword: searchKeyword.value\n    })\n    if (res.success) {\n      images.value = res.images || []\n    } else {\n      ElMessage.error(res.error || '获取图片失败')\n    }\n  } finally {\n    loading.value = false\n  }\n}\n\nconst handleSearch = () => {\n  fetchImages()\n}\n\n// --- Selection Logic ---\nconst toggleSelect = (id: string) => {\n  const idx = selectedIds.value.indexOf(id)\n  if (idx > -1) {\n    selectedIds.value.splice(idx, 1)\n  } else {\n    selectedIds.value.push(id)\n  }\n}\n\n// --- Edit/Delete Logic ---\nconst editForm = reactive({\n  id: '',\n  name: '',\n  category_id: ''\n})\n\nconst handleEdit = (img: AdminImage) => {\n  editForm.id = img.id\n  editForm.name = img.name\n  editForm.category_id = img.category_id || ''\n  editDialogVisible.value = true\n}\n\nconst confirmEdit = async () => {\n  const res = await adminImageApi.updateImage(editForm.id, {\n    name: editForm.name,\n    category_id: editForm.category_id\n  })\n  if (res.success) {\n    ElMessage.success('更新成功')\n    editDialogVisible.value = false\n    fetchImages()\n  } else {\n    ElMessage.error(res.error || '更新失败')\n  }\n}\n\nconst handleDelete = (img: AdminImage) => {\n   ElMessageBox.confirm('确认删除此图片？', '警告', { type: 'warning' })\n    .then(async () => {\n      const res = await adminImageApi.deleteImage(img.id)\n      if (res.success) {\n        ElMessage.success('删除成功')\n        fetchImages()\n      } else {\n        ElMessage.error(res.error)\n      }\n    })\n}\n\nconst handleBatchDelete = () => {\n  ElMessageBox.confirm(`确认删除选中的 ${selectedIds.value.length} 张图片？`, '批量删除', { type: 'warning' })\n    .then(async () => {\n        const res = await adminImageApi.deleteImages(selectedIds.value)\n        if (res.success) {\n             ElMessage.success('批量删除成功')\n             fetchImages()\n        } else {\n             ElMessage.error(res.error)\n        }\n    })\n}\n\n// --- R2 Sync ---\nconst syncing = ref(false)\nconst syncFromR2 = async () => {\n  syncing.value = true\n  try {\n    const { getAdminAuthToken } = await import('@/utils/supabase-admin')\n    const token = await getAdminAuthToken()\n    if (!token) return ElMessage.error('请登录管理员账号')\n\n    const { EDGE_FUNCTIONS_URL } = await import('@/utils/supabase')\n    const response = await fetch(`${EDGE_FUNCTIONS_URL}/list-r2`, {\n      method: 'POST',\n      headers: { 'Authorization': `Bearer ${token}`, 'Content-Type': 'application/json' },\n      body: JSON.stringify({ prefix: 'uploads' })\n    })\n    \n    const result = await response.json()\n    if (result.error) throw new Error(result.error)\n    \n    const r2Objects = result.objects || []\n    const existingUrls = new Set(images.value.map(i => i.url)) // Check current list (maybe incomplete if paged, but API returns all for now)\n    // To be safe, we should fetch ALL images for sync check, but let's assume current list is enough for now or user knows to view 'All'\n    // Better: Fetch all just for sync check? No, too heavy.\n    // Let's rely on backend check or simple check against current view if 'All' is selected.\n    // Ideally sync should be backend generic task.\n    // We stick to current logic: compares against Client-side fetched images. \n    \n    // Logic from previous version maintained:\n    const missing = r2Objects.filter((obj: any) => !existingUrls.has(obj.url))\n    if (missing.length === 0) {\n        ElMessage.success('已是最新')\n        return\n    }\n    \n    // Auto create \"未分类\"\n    let uncategorizedId = categories.value.find(c => c.name === '未分类')?.id\n    if (!uncategorizedId) {\n        const cRes = await adminImageCategoryApi.createCategory('未分类')\n        if (cRes.success) uncategorizedId = cRes.category?.id\n        await fetchCategories()\n    }\n    \n    let added = 0\n    for (const m of missing) {\n        const name = m.key.split('/').pop()\n        const res = await adminImageApi.createImage({ name, url: m.url, category_id: uncategorizedId })\n        if (res.success) added++\n    }\n    ElMessage.success(`同步完成，新增 ${added} 张图片`)\n    fetchImages()\n    \n  } catch (e: any) {\n    ElMessage.error('同步失败: ' + e.message)\n  } finally {\n    syncing.value = false\n  }\n}\n\nconst handleUploadSuccess = () => {\n  fetchImages()\n}\n\nconst previewImage = (url: string) => {\n    previewUrl.value = url\n    previewVisible.value = true\n}\n\nconst formatDate = (dateStr: string) => {\n  if (!dateStr) return ''\n  return new Date(dateStr).toLocaleDateString()\n}\n</script>\n\n<style scoped>\n.media-layout {\n  display: flex;\n  height: calc(100vh - 120px); /* Adjust based on global header height */\n  background: var(--el-bg-color);\n  border-radius: 8px;\n  overflow: hidden;\n  border: 1px solid var(--el-border-color-lighter);\n}\n\n/* Sidebar */\n.media-sidebar {\n  width: 240px;\n  background: var(--el-bg-color-page); /* Slightly different bg */\n  border-right: 1px solid var(--el-border-color-lighter);\n  display: flex;\n  flex-direction: column;\n}\n.sidebar-header {\n  padding: 16px 20px;\n  border-bottom: 1px solid var(--el-border-color-lighter);\n}\n.sidebar-title {\n  margin: 0;\n  font-size: 16px;\n  font-weight: 600;\n  color: var(--el-text-color-primary);\n}\n.category-nav {\n  flex: 1;\n  overflow-y: auto;\n  padding: 12px 0;\n}\n.nav-item {\n  padding: 10px 20px;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  color: var(--el-text-color-regular);\n  transition: all 0.2s;\n  font-size: 14px;\n}\n.nav-item:hover {\n  background: var(--el-fill-color-light);\n  color: var(--el-color-primary);\n}\n.nav-item.active {\n  background: var(--el-color-primary-light-9);\n  color: var(--el-color-primary);\n  border-right: 3px solid var(--el-color-primary);\n}\n.nav-item .el-icon {\n  margin-right: 10px;\n  font-size: 16px;\n}\n.nav-label {\n    flex: 1;\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n}\n.nav-count {\n  font-size: 12px;\n  color: var(--el-text-color-secondary);\n  background: var(--el-fill-color);\n  padding: 2px 6px;\n  border-radius: 10px;\n}\n.nav-divider {\n    height: 1px;\n    background: var(--el-border-color-lighter);\n    margin: 8px 20px;\n}\n\n.sidebar-footer {\n  padding: 16px;\n  border-top: 1px solid var(--el-border-color-lighter);\n}\n\n/* Content */\n.media-content {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  min-width: 0; /* Fix flex overflow */\n}\n\n/* Toolbar */\n.content-toolbar {\n  padding: 16px 24px;\n  border-bottom: 1px solid var(--el-border-color-lighter);\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  background: var(--el-bg-color);\n}\n.toolbar-right {\n    display: flex;\n    align-items: center;\n    gap: 12px;\n}\n.batch-actions {\n    display: flex;\n    align-items: center;\n    gap: 8px;\n    background: var(--el-color-danger-light-9);\n    padding: 4px 12px;\n    border-radius: 4px;\n}\n.selection-info {\n    font-size: 13px;\n    color: var(--el-color-danger);\n}\n\n/* Grid */\n.content-body {\n  flex: 1;\n  overflow-y: auto;\n  padding: 24px;\n  background: var(--el-fill-color-extra-light); \n}\n.image-grid-container {\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));\n  gap: 20px;\n}\n\n.grid-item {\n  background: #fff;\n  border-radius: 8px;\n  overflow: hidden;\n  border: 1px solid transparent;\n  box-shadow: 0 1px 4px rgba(0,0,0,0.05);\n  transition: all 0.2s;\n  cursor: pointer;\n  position: relative;\n}\n.grid-item:hover {\n  transform: translateY(-2px);\n  box-shadow: 0 4px 12px rgba(0,0,0,0.1);\n}\n.grid-item.selected {\n  border-color: var(--el-color-primary);\n  box-shadow: 0 0 0 2px var(--el-color-primary-light-5);\n}\n\n.img-preview {\n  height: 140px;\n  width: 100%;\n  position: relative;\n  background: #f5f7fa;\n}\n.real-image {\n  width: 100%;\n  height: 100%;\n  display: block;\n}\n/* Overlay */\n.img-overlay {\n    position: absolute;\n    top: 0; left: 0; right: 0; bottom: 0;\n    background: rgba(0,0,0,0.4);\n    opacity: 0;\n    transition: opacity 0.2s;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n}\n.grid-item:hover .img-overlay {\n    opacity: 1;\n}\n.overlay-actions {\n    display: flex;\n    gap: 8px;\n}\n\n.selection-mark {\n    position: absolute;\n    top: 8px;\n    left: 8px;\n    background: var(--el-color-primary);\n    color: white;\n    width: 20px;\n    height: 20px;\n    border-radius: 50%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    font-size: 12px;\n}\n\n.img-meta {\n  padding: 8px 12px;\n}\n.img-name {\n  font-size: 13px;\n  color: var(--el-text-color-primary);\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  margin-bottom: 4px;\n}\n.img-info {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n}\n.cat-badge {\n    font-size: 11px;\n    color: var(--el-text-color-secondary);\n    background: var(--el-fill-color);\n    padding: 1px 4px;\n    border-radius: 3px;\n    max-width: 80px;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n}\n.date {\n    font-size: 11px;\n    color: var(--el-text-color-placeholder);\n}\n\n.content-footer {\n    padding: 16px 24px;\n    background: var(--el-bg-color);\n    border-top: 1px solid var(--el-border-color-lighter);\n    display: flex;\n    justify-content: flex-end;\n}\n</style>\n"],"version":3}