{"file":"faq-B1d3CfEx.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0FA,YAAA;AAAA,MAAQ,OAAA;AAAA,MACC,MAAA;AAAA,QACD,EAAA,MAAA,eAAA,SAAA,gCAAA;AAAA,QAC4D,EAAA,MAAA,YAAA,SAAA,0BAAA;AAAA,MACT;AAAA,IACzD,CAAA;AAGF,UAAA,cAAA,IAAA,EAAA;AACA,UAAA,mBAAA,IAAA,KAAA;AACA,UAAA,aAAA,IAAA,IAAA;AACA,UAAA,UAAA,IAAA,IAAA;AAEA,UAAA,aAAA,IAAA,EAAA;AACA,UAAA,OAAA,IAAA,EAAA;AAEA,UAAA,eAAA,SAAA,MAAA;AAAA,MAAoC,EAAA,IAAA,OAAA,MAAA,OAAA;AAAA,MACR,GAAA,WAAA;AAAA,IACZ,CAAA;AA2BhB,UAAA,eAAA,SAAA,MAAA;AACE,UAAA,SAAA,KAAA,SAAA,CAAA;AAGA,UAAA,iBAAA,UAAA,OAAA;AACE,iBAAA,OAAA,OAAA,CAAAA,SAAAA,KAAA,gBAAA,iBAAA,KAAA;AAAA,MAAwE;AAI1E,UAAA,YAAA,MAAA,QAAA;AACE,cAAA,IAAA,YAAA,MAAA,YAAA;AACA,iBAAA,OAAA;AAAA,UAAgB,CAAAA,SAAAA,KAAA,SAAA,YAAA,EAAA,SAAA,CAAA,KAAAA,KAAA,UAAAA,KAAA,OAAA,YAAA,EAAA,SAAA,CAAA;AAAA,QAEoC;AAAA,MACpD;AAGF,aAAA;AAAA,IAAO,CAAA;;;;AA9HsBC,oBAAA,aAAA,OAAA,CAAA,aAAA;;;;;;;;;;;;;;;;;;;gBA2BI;AAAA;;;;;;;;;;;;;;;;YAqBD;AAAA;;;;;;;;;;;;;;;","names":["faq","_ssrRenderList"],"sources":["../../../../pages/faq.vue"],"sourcesContent":["<template>\n  <div class=\"faq-page force-light\">\n    <!-- 顶部导航 -->\n\n    <div class=\"page-content\">\n      <div class=\"content-container\">\n        <div class=\"header-section\">\n          <h1 class=\"main-title\">常见问题</h1>\n        </div>\n        \n        <div class=\"search-section\">\n          <h3 class=\"search-title\">有问题？快速搜索解答</h3>\n          <div class=\"search-box\">\n            <input \n              v-model=\"searchQuery\" \n              type=\"text\" \n              placeholder=\"输入您的问题关键词...\" \n              class=\"search-input\"\n              @keyup.enter=\"handleSearch\"\n            />\n            <button @click=\"handleSearch\" class=\"search-btn\">搜索</button>\n          </div>\n        </div>\n\n        <div class=\"category-section\">\n          <button \n            v-for=\"category in categoryList\" \n            :key=\"category.id\"\n            :class=\"['category-btn', { active: activeCategoryId === category.id }]\"\n            @click=\"setActiveCategory(category.id)\"\n          >\n            {{ category.name }}\n          </button>\n        </div>\n\n        <!-- 常见问题解答标题板块 (已删除) -->\n\n\n        <!-- 问题列表板块 -->\n        <div class=\"faq-list-section\">\n          <div v-if=\"loading\" class=\"loading-state\">加载中...</div>\n          <div v-else-if=\"filteredFaqs.length === 0\" class=\"empty-state\">暂无相关问题</div>\n          <div v-else class=\"faq-card-list\">\n            <div \n              v-for=\"(faq, index) in filteredFaqs\" \n              :key=\"faq.id\"\n              :class=\"['faq-card', { active: expandedId === faq.id }]\"\n              @click=\"toggleFaq(faq.id)\"\n            >\n              <div class=\"faq-card-header\">\n                <div class=\"q-badge\">Q</div>\n                <div class=\"faq-question-text\">{{ faq.question }}</div>\n                <div class=\"toggle-icon\">\n                  <el-icon><Plus /></el-icon>\n                </div>\n              </div>\n              \n              <div class=\"faq-card-body-grid\" :class=\"{ 'is-expanded': expandedId === faq.id }\">\n                <div class=\"min-h-0-wrapper\">\n                  <div class=\"answer-wrapper\">\n                    <div class=\"a-badge\">A</div>\n                    <div class=\"faq-answer-text\">{{ faq.answer }}</div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div class=\"contact-section\">\n          <h3 class=\"contact-title\">没有找到您的问题？</h3>\n          <p class=\"contact-desc\">我们的客服团队随时为您提供帮助，平均响应时间不超过3分钟，解决率高达99.8%!</p>\n          <button class=\"contact-btn\">\n            <span class=\"contact-icon\">\n              <el-icon><Service /></el-icon>\n            </span>\n            联系在线客服\n          </button>\n        </div>\n      </div>\n    </div>\n\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, computed, onMounted } from 'vue'\nimport { InfoFilled, Right, Plus, Service } from '@element-plus/icons-vue'\nimport { supabaseFaqApi } from '@/api/supabase'\n\nuseHead({\n  title: '常见问题 - 凡图拉',\n  meta: [\n    { name: 'description', content: '凡图拉常见问题解答，帮助您快速了解平台使用方法和相关政策。' },\n    { name: 'keywords', content: '凡图拉,常见问题,FAQ,帮助,客服,使用指南' }\n  ]\n})\n\nconst searchQuery = ref('')\nconst activeCategoryId = ref('all')\nconst expandedId = ref<string | null>(null)\nconst loading = ref(true)\n\nconst categories = ref<{id: string, name: string}[]>([])\nconst faqs = ref<any[]>([])\n\nconst categoryList = computed(() => [\n  { id: 'all', name: '全部问题' },\n  ...categories.value\n])\n\n// 获取FAQ数据\nconst fetchFaqs = async () => {\n  loading.value = true\n  try {\n    // 并行获取分类和所有FAQ\n    const [catRes, faqRes] = await Promise.all([\n      supabaseFaqApi.getCategories(),\n      supabaseFaqApi.getFaqs()\n    ])\n\n    if (catRes.success) {\n      categories.value = catRes.categories\n    }\n    \n    if (faqRes.success) {\n      faqs.value = faqRes.faqs\n    }\n  } catch (e) {\n    console.error('Failed to fetch FAQs', e)\n  } finally {\n    loading.value = false\n  }\n}\n\nconst filteredFaqs = computed(() => {\n  let result = faqs.value || []\n  \n  // Category Filter\n  if (activeCategoryId.value !== 'all') {\n    result = result.filter(faq => faq.category_id === activeCategoryId.value)\n  }\n  \n  // Search Filter\n  if (searchQuery.value.trim()) {\n    const q = searchQuery.value.toLowerCase()\n    result = result.filter(faq => \n      faq.question.toLowerCase().includes(q) ||\n      (faq.answer && faq.answer.toLowerCase().includes(q))\n    )\n  }\n  \n  return result\n})\n\nconst handleSearch = () => {\n  // 搜索逻辑已通过 computed 实现，此处可扩张统计或埋点\n}\n\nconst setActiveCategory = (id: string) => { \n  activeCategoryId.value = id\n  // 重置展开状态\n  expandedId.value = null\n}\n\nconst toggleFaq = (id: string) => {\n  if (expandedId.value === id) {\n    expandedId.value = null\n  } else {\n    expandedId.value = id\n  }\n}\n\nonMounted(async () => {\n  await fetchFaqs()\n    \n  // Check URL query for specific question to expanded\n  const route = useRoute()\n  const qId = route.query.q as string\n  if (qId && faqs.value.length > 0) {\n      const targetFaq = faqs.value.find(f => f.id === qId)\n      if (targetFaq) {\n        // If the faq has a category, switch to it (optional, 'all' works too but this is nicer)\n        if (targetFaq.category_id) {\n            activeCategoryId.value = targetFaq.category_id\n        }\n        // Expand the item\n        expandedId.value = qId\n        \n        // Scroll to item after a short delay for DOM update\n        setTimeout(() => {\n            const el = document.getElementById(`faq-${qId}`) // We need to add ID to the element\n            if (el) {\n                el.scrollIntoView({ behavior: 'smooth', block: 'center' })\n            }\n        }, 100)\n      }\n  }\n})\n</script>\n\n<style scoped>\n/* Dark Aurora Theme Styles */\n.faq-page {\n  min-height: 100vh;\n  /* Transparent background to reveal global particle sky */\n  background-color: transparent; \n  display: flex;\n  flex-direction: column;\n}\n\n.page-content {\n  flex: 1;\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: flex-start;\n  align-items: flex-start;\n  padding: 20px 20px; /* Reduced top padding */\n}\n\n/* Glassmorphism Container */\n.content-container {\n  width: 100%;\n  max-width: 900px;\n  background: rgba(30, 41, 59, 0.7); /* Dark Slate Glass */\n  backdrop-filter: blur(20px);\n  -webkit-backdrop-filter: blur(20px);\n  border: 1px solid rgba(255, 255, 255, 0.1);\n  border-radius: 24px;\n  padding: 60px 40px;\n  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);\n  margin: 0 auto;\n}\n\n.header-section {\n  text-align: center;\n  margin-bottom: 50px;\n}\n\n.main-title {\n  font-family: 'Outfit', sans-serif;\n  font-weight: 700;\n  font-size: 42px;\n  /* Blue-Orange Gradient Text */\n  background: linear-gradient(135deg, #60A5FA 0%, #F97316 100%);\n  -webkit-background-clip: text;\n  -webkit-text-fill-color: transparent;\n  margin-bottom: 10px;\n  letter-spacing: 1px;\n  text-shadow: 0 4px 12px rgba(96, 165, 250, 0.3);\n}\n\n/* Search Section - Dark Glass */\n.search-section {\n  background: rgba(15, 23, 42, 0.6);\n  padding: 30px;\n  border-radius: 20px;\n  border: 1px solid rgba(255, 255, 255, 0.08);\n  margin-bottom: 30px;\n  text-align: center;\n}\n\n.search-title {\n  font-weight: 600;\n  font-size: 20px;\n  color: #E2E8F0; /* Slate-200 */\n  margin-bottom: 20px;\n}\n\n.search-box {\n  display: flex;\n  max-width: 600px;\n  margin: 0 auto;\n  gap: 0;\n  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.2);\n  border-radius: 50px;\n}\n\n.search-input {\n  flex: 1;\n  padding: 14px 24px;\n  border: 1px solid rgba(255, 255, 255, 0.1) !important;\n  background-color: rgba(30, 41, 59, 0.8) !important;\n  color: white !important;\n  border-right: none !important;\n  border-radius: 25px 0 0 25px;\n  font-size: 16px;\n  outline: none;\n  transition: all 0.3s ease;\n}\n\n.search-input::placeholder {\n  color: #64748B; /* Slate-500 */\n}\n\n.search-input:focus {\n  border-color: #60A5FA !important;\n  background-color: rgba(30, 41, 59, 1) !important;\n}\n\n.search-btn {\n  padding: 12px 30px;\n  background: linear-gradient(135deg, #2563eb 0%, #1d4ed8 100%) !important; /* Global Blue */\n  color: white !important;\n  border: none;\n  border-radius: 0 25px 25px 0;\n  font-size: 16px;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.3s ease;\n}\n\n.search-btn:hover {\n  filter: brightness(1.1);\n  box-shadow: 0 0 15px rgba(96, 165, 250, 0.4);\n}\n\n/* Categories - Dark Glass Pills */\n.category-section {\n  display: flex;\n  justify-content: center;\n  gap: 12px;\n  margin-bottom: 40px;\n  flex-wrap: wrap;\n}\n\n.category-btn {\n  padding: 8px 20px;\n  border: 1px solid rgba(255, 255, 255, 0.1);\n  background: rgba(30, 41, 59, 0.6) !important;\n  color: #94A3B8 !important; /* Slate-400 */\n  border-radius: 20px;\n  font-size: 14px;\n  font-weight: 500;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  backdrop-filter: blur(5px);\n}\n\n.category-btn:hover {\n  border-color: #60A5FA;\n  color: white !important;\n  background: rgba(59, 130, 246, 0.2) !important;\n}\n\n.category-btn.active {\n  background: linear-gradient(135deg, #60A5FA 0%, #3B82F6 100%) !important;\n  border-color: transparent !important;\n  color: white !important;\n  box-shadow: 0 4px 12px rgba(59, 130, 246, 0.3);\n}\n\n/* FAQ Header Section */\n.faq-header-section {\n  background: rgba(59, 130, 246, 0.1) !important;\n  padding: 20px 30px;\n  border-radius: 16px 16px 0 0;\n  margin-bottom: 0;\n  display: flex;\n  justify-content: flex-start;\n  border: 1px solid rgba(255, 255, 255, 0.1);\n  border-bottom: none;\n}\n\n.faq-header {\n  display: flex;\n  align-items: center;\n  gap: 12px;\n}\n\n.faq-icon img {\n  width: 24px;\n  height: 24px;\n  display: block;\n  filter: drop-shadow(0 0 5px rgba(96, 165, 250, 0.5));\n}\n\n.faq-title {\n  font-weight: 600;\n  font-size: 18px;\n  color: #60A5FA !important; /* Blue-400 */\n  margin: 0;\n}\n\n/* FAQ List - Card Style Redesign */\n.faq-list-section {\n  background: transparent !important; /* Remove container bg */\n  padding: 0;\n  border: none;\n  margin-bottom: 60px;\n}\n\n.faq-card-list {\n  display: flex;\n  flex-direction: column;\n  gap: 16px;\n}\n\n.faq-card {\n  background: rgba(30, 41, 59, 0.4);\n  border: 1px solid rgba(255, 255, 255, 0.05);\n  border-radius: 16px;\n  overflow: hidden;\n  cursor: pointer;\n  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n  position: relative;\n}\n\n.faq-card:hover {\n  background: rgba(30, 41, 59, 0.6);\n  border-color: rgba(96, 165, 250, 0.3); /* Blue hint */\n  transform: translateY(-2px);\n  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);\n}\n\n.faq-card.active {\n  background: rgba(30, 41, 59, 0.8);\n  border-color: rgba(96, 165, 250, 0.5);\n  box-shadow: 0 8px 30px rgba(0, 0, 0, 0.3);\n}\n\n/* Card Header */\n.faq-card-header {\n  padding: 24px;\n  display: flex;\n  align-items: center;\n  gap: 16px;\n}\n\n.q-badge {\n  flex-shrink: 0;\n  width: 32px;\n  height: 32px;\n  border-radius: 8px;\n  background: rgba(96, 165, 250, 0.1);\n  color: #60A5FA;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-weight: 800;\n  font-family: 'Outfit', sans-serif;\n  font-size: 16px;\n}\n\n.faq-question-text {\n  flex: 1; /* Keep flex: 1 but control width via max-width? No, remove flex: 1 if we want strict width, OR keep it and separate via margin-left auto on icon */\n  /* Actually, to support \"narrow text\" but \"icon on far right\": \n     Text should take available space but STOP at 50%. \n     Icon should stay at end. \n     Solution: Text max-width 50%, Icon margin-left auto. */\n  flex: 0 1 auto; /* Don't grow indefinitely, but allow shrink */\n  font-size: 17px;\n  font-weight: 600;\n  color: #F1F5F9;\n  letter-spacing: 0.2px;\n  max-width: 50%; /* 继续收窄至 50% */\n  line-height: 1.5;\n}\n\n.toggle-icon {\n  margin-left: auto; /* Push to far right */\n  flex-shrink: 0;\n  width: 32px;\n  height: 32px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: #94A3B8;\n  transition: transform 0.4s cubic-bezier(0.4, 0, 0.2, 1), color 0.3s;\n}\n\n.faq-card.active .toggle-icon {\n  transform: rotate(135deg); /* Rotate Plus to X */\n  color: #F97316; /* Orange active */\n}\n\n/* Card Body (Answer) */\n/* Card Body (Answer) - Grid Animation Trick */\n.faq-card-body-grid {\n  display: grid;\n  grid-template-rows: 0fr;\n  transition: grid-template-rows 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n}\n\n.faq-card-body-grid.is-expanded {\n  grid-template-rows: 1fr;\n}\n\n.min-h-0-wrapper {\n  overflow: hidden;\n  min-height: 0;\n}\n\n.answer-wrapper {\n  padding: 0 24px 24px 72px; /* Indent to align with text */\n  display: flex;\n  gap: 16px;\n  opacity: 0.9;\n}\n\n.a-badge {\n  display: none; /* Hidden for cleaner look, or enable if wanted */\n}\n\n.faq-answer-text {\n  font-size: 15px;\n  line-height: 1.8;\n  color: #94A3B8;\n  /* Width constraint as requested (narrower) */\n  max-width: 75%; \n}\n\n/* Override previous styles */\n/* Override previous styles */\n.faq-question, .faq-answer { display: none; }\n\n.contact-section {\n  background: rgba(15, 23, 42, 0.6) !important; /* Darker Glass */\n  padding: 40px;\n  border-radius: 20px;\n  box-shadow: none;\n  text-align: center;\n  border: 1px solid rgba(255, 255, 255, 0.08);\n}\n\n.contact-title {\n  font-weight: 600;\n  font-size: 24px;\n  color: white !important;\n  margin-bottom: 15px;\n}\n\n.contact-desc {\n  font-size: 16px;\n  color: #94A3B8 !important;\n  margin-bottom: 30px;\n  line-height: 1.6;\n}\n\n.contact-btn {\n  display: inline-flex;\n  align-items: center;\n  gap: 10px;\n  padding: 14px 32px;\n  background: linear-gradient(135deg, #F97316 0%, #FB923C 100%) !important; /* Orange Gradient for Support */\n  color: white !important;\n  border: none;\n  border-radius: 30px;\n  font-size: 16px;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  box-shadow: 0 4px 15px rgba(249, 115, 22, 0.3);\n}\n\n.contact-btn:hover {\n  filter: brightness(1.1);\n  transform: translateY(-2px);\n  box-shadow: 0 6px 20px rgba(249, 115, 22, 0.4);\n}\n\n.contact-icon .el-icon {\n  font-size: 20px;\n  color: #fff;\n}\n</style>\n"],"version":3}