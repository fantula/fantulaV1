{"version":3,"file":"CouponSelectorModal-RmImYc2L.js","sources":["../../../../components/modal/base/BaseBusinessModal.vue","../../../../components/modal/business/CouponSelectorModal.vue"],"sourcesContent":["<template>\n  <Transition name=\"modal-fade\">\n    <div v-if=\"visible\" class=\"modal-mask\" @click.self=\"handleClose\">\n      <div class=\"modal-business\" :style=\"{ width: width }\">\n        <!-- 头部 -->\n        <div class=\"modal-header\" v-if=\"showHeader\">\n          <div class=\"header-content\">\n            <div class=\"modal-title\">{{ title }}</div>\n            <div class=\"modal-subtitle\" v-if=\"subtitle\">{{ subtitle }}</div>\n          </div>\n          <button class=\"modal-close\" @click=\"handleClose\">×</button>\n        </div>\n        \n        <!-- 内容区域 -->\n        <div class=\"modal-body\" :class=\"{ 'no-header': !showHeader }\">\n          <slot></slot>\n        </div>\n        \n        <!-- 底部操作栏 -->\n        <div class=\"modal-footer\" v-if=\"showFooter\">\n          <div class=\"footer-left\">\n            <slot name=\"footer-left\"></slot>\n          </div>\n          <div class=\"footer-right\">\n            <slot name=\"footer-right\">\n              <button \n                v-if=\"showCancel\"\n                class=\"btn btn-secondary\" \n                @click=\"handleCancel\"\n                :disabled=\"loading\"\n              >\n                {{ cancelText }}\n              </button>\n              <button \n                v-if=\"showConfirm\"\n                class=\"btn btn-primary\"\n                @click=\"handleConfirm\"\n                :disabled=\"loading || confirmDisabled\"\n              >\n                <span v-if=\"loading\" class=\"btn-loading\"></span>\n                {{ confirmText }}\n              </button>\n            </slot>\n          </div>\n        </div>\n      </div>\n    </div>\n  </Transition>\n</template>\n\n<script setup lang=\"ts\">\n/**\n * 基础业务弹窗\n * 用途: 支付、优惠券选择、充值等复杂业务\n * 尺寸: 600px (可自定义)\n */\n\nconst props = withDefaults(defineProps<{\n  visible: boolean\n  title?: string\n  subtitle?: string\n  width?: string\n  showHeader?: boolean\n  showFooter?: boolean\n  showCancel?: boolean\n  showConfirm?: boolean\n  cancelText?: string\n  confirmText?: string\n  loading?: boolean\n  confirmDisabled?: boolean\n}>(), {\n  title: '业务弹窗',\n  width: '600px',\n  showHeader: true,\n  showFooter: true,\n  showCancel: true,\n  showConfirm: true,\n  cancelText: '取消',\n  confirmText: '确定',\n  loading: false,\n  confirmDisabled: false\n})\n\nconst emit = defineEmits<{\n  (e: 'close'): void\n  (e: 'cancel'): void\n  (e: 'confirm'): void\n}>()\n\nconst handleClose = () => {\n  if (!props.loading) emit('close')\n}\n\nconst handleCancel = () => {\n  if (!props.loading) {\n    emit('cancel')\n    emit('close')\n  }\n}\n\nconst handleConfirm = () => {\n  emit('confirm')\n}\n</script>\n\n<style scoped>\n/* 遮罩层 */\n.modal-mask {\n  position: fixed;\n  z-index: 2000;\n  left: 0; top: 0; right: 0; bottom: 0;\n  background: rgba(0, 0, 0, 0.5);\n  backdrop-filter: blur(4px);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n/* 弹窗容器 */\n.modal-business {\n  max-width: 90vw;\n  max-height: 85vh;\n  background: rgba(30, 41, 59, 0.95);\n  backdrop-filter: blur(12px);\n  border: 1px solid rgba(255, 255, 255, 0.1);\n  border-radius: 20px;\n  box-shadow: 0 12px 48px rgba(0, 0, 0, 0.35);\n  overflow: hidden;\n  display: flex;\n  flex-direction: column;\n}\n\n/* 头部 */\n.modal-header {\n  padding: 24px 28px;\n  background: linear-gradient(135deg, #3B82F6 0%, #2563EB 100%);\n  position: relative;\n  flex-shrink: 0;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n}\n\n.header-content {\n  flex: 1;\n}\n\n.modal-title {\n  font-size: 20px;\n  font-weight: 700;\n  color: #fff;\n}\n\n.modal-subtitle {\n  font-size: 13px;\n  color: rgba(255, 255, 255, 0.8);\n  margin-top: 4px;\n}\n\n.modal-close {\n  width: 36px;\n  height: 36px;\n  background: rgba(255, 255, 255, 0.15);\n  border: none;\n  border-radius: 10px;\n  color: #fff;\n  font-size: 22px;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition: background 0.2s;\n  flex-shrink: 0;\n}\n\n.modal-close:hover {\n  background: rgba(255, 255, 255, 0.25);\n}\n\n/* 内容区 */\n.modal-body {\n  padding: 24px 28px;\n  overflow-y: auto;\n  flex: 1;\n  min-height: 100px;\n}\n\n.modal-body.no-header {\n  padding-top: 32px;\n}\n\n/* 底部 */\n.modal-footer {\n  padding: 16px 28px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  border-top: 1px solid rgba(255, 255, 255, 0.05);\n  flex-shrink: 0;\n}\n\n.footer-left {\n  display: flex;\n  align-items: center;\n  gap: 12px;\n}\n\n.footer-right {\n  display: flex;\n  gap: 12px;\n}\n\n/* 按钮 */\n.btn {\n  padding: 12px 24px;\n  border-radius: 10px;\n  font-size: 15px;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.2s;\n  border: none;\n  display: inline-flex;\n  align-items: center;\n  gap: 6px;\n}\n\n.btn:disabled {\n  opacity: 0.6;\n  cursor: not-allowed;\n}\n\n.btn-secondary {\n  background: rgba(255, 255, 255, 0.08);\n  color: #94A3B8;\n  border: 1px solid rgba(255, 255, 255, 0.1);\n}\n\n.btn-secondary:hover:not(:disabled) {\n  background: rgba(255, 255, 255, 0.12);\n  color: #F1F5F9;\n}\n\n.btn-primary {\n  background: linear-gradient(135deg, #3B82F6 0%, #2563EB 100%);\n  color: #fff;\n  min-width: 100px;\n  justify-content: center;\n}\n\n.btn-primary:hover:not(:disabled) {\n  transform: translateY(-1px);\n  box-shadow: 0 4px 12px rgba(59, 130, 246, 0.4);\n}\n\n/* Loading */\n.btn-loading {\n  width: 14px;\n  height: 14px;\n  border: 2px solid rgba(255,255,255,0.3);\n  border-top-color: #fff;\n  border-radius: 50%;\n  animation: spin 0.8s linear infinite;\n}\n\n@keyframes spin {\n  to { transform: rotate(360deg); }\n}\n\n/* 动画 */\n.modal-fade-enter-active,\n.modal-fade-leave-active {\n  transition: opacity 0.25s ease;\n}\n\n.modal-fade-enter-active .modal-business,\n.modal-fade-leave-active .modal-business {\n  transition: transform 0.25s ease;\n}\n\n.modal-fade-enter-from,\n.modal-fade-leave-to {\n  opacity: 0;\n}\n\n.modal-fade-enter-from .modal-business,\n.modal-fade-leave-to .modal-business {\n  transform: scale(0.95);\n}\n</style>\n","<template>\n  <BaseBusinessModal\n    :visible=\"visible\"\n    title=\"选择优惠券\"\n    width=\"600px\"\n    confirmText=\"确认使用\"\n    :loading=\"loading\"\n    :confirmDisabled=\"!allowEmpty\" \n    @close=\"handleClose\"\n    @cancel=\"handleClose\"\n    @confirm=\"handleConfirm\"\n  >\n    <div class=\"coupon-selector-content\">\n      <!-- 头部提示与刷新 -->\n      <div class=\"action-header\">\n        <div class=\"header-tip\">\n          <el-icon><InfoFilled /></el-icon>\n          仅显示当前订单可用的优惠券\n        </div>\n        <el-button \n          :icon=\"Refresh\" \n          circle \n          size=\"small\" \n          class=\"refresh-btn\"\n          @click=\"loadCoupons\" \n          :loading=\"listLoading\" \n        />\n      </div>\n\n      <!-- 优惠券列表 -->\n      <div class=\"coupon-list-container\">\n        <div v-if=\"listLoading\" class=\"loading-state\">\n          <div class=\"spinner\"></div> 正在获取优惠券...\n        </div>\n\n        <div v-else-if=\"coupons.length === 0\" class=\"empty-state\">\n          <el-empty description=\"暂无可用优惠券\" :image-size=\"80\" />\n        </div>\n\n        <div v-else class=\"coupon-list\">\n          <!-- 不使用优惠券选项 (Styled to match Ticket dimensions roughly) -->\n           <div \n            class=\"coupon-item no-coupon glass-card\"\n            :class=\"{ active: tempSelected === null }\"\n            @click=\"tempSelected = null\"\n          >\n            <div class=\"coupon-left\">\n              <el-icon><CircleClose /></el-icon>\n            </div>\n            <div class=\"coupon-center\">\n              <div class=\"coupon-title\">不使用优惠券</div>\n              <div class=\"coupon-desc\">放弃当前优惠</div>\n            </div>\n            <div class=\"coupon-right\">\n              <div class=\"radio-check\"></div>\n            </div>\n          </div>\n\n          <!-- 优惠券项 (Using BaseCouponTicket) -->\n          <div \n            v-for=\"coupon in sortedCoupons\" \n            :key=\"coupon.id\"\n            class=\"ticket-wrapper\"\n            :class=\"{ \n              selected: tempSelected?.id === coupon.id,\n              disabled: !isApplicable(coupon)\n            }\"\n            @click=\"handleItemClick(coupon)\"\n          >\n            <BaseCouponTicket\n              :color=\"getTicketColor(coupon.coupon)\"\n              :value=\"getTicketValue(coupon.coupon)\"\n              :unit=\"getTicketUnit(coupon.coupon)\"\n              :title=\"coupon.coupon.name\"\n              :desc=\"getTicketDesc(coupon.coupon)\"\n              :type-label=\"getCouponTypeLabel(coupon.coupon.type)\"\n              :expiry-text=\"formatDate(coupon.coupon.end_date)\"\n              :status=\"'unused'\"\n              :disabled=\"!isApplicable(coupon)\"\n              size=\"compact\"\n              class=\"selector-ticket\"\n            >\n               <!-- Custom Action Slot for Selection -->\n               <template #action>\n                  <div class=\"radio-check\" :class=\"{ checked: tempSelected?.id === coupon.id }\"></div>\n               </template>\n            </BaseCouponTicket>\n            \n            <!-- Inapplicable Reason Overlay/Text if needed, or just rely on transparency -->\n             <div v-if=\"!isApplicable(coupon)\" class=\"inapplicable-reason\">\n                {{ getInapplicableReason(coupon) }}\n             </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- 底部左侧信息 -->\n    <template #footer-left>\n      <div class=\"selected-info\" v-if=\"tempSelected\">\n        已选择: <span class=\"highlight\">{{ tempSelected.coupon.name }}</span>\n        <span class=\"discount-preview\">-¥{{ tempSelected.coupon.value }}</span>\n      </div>\n      <div class=\"selected-info\" v-else>\n        未选择优惠券\n      </div>\n    </template>\n  </BaseBusinessModal>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, computed, watch } from 'vue'\nimport BaseBusinessModal from '@/components/modal/base/BaseBusinessModal.vue'\nimport BaseCouponTicket from '@/components/exchange/coupon/BaseCouponTicket.vue'\nimport { couponApi, type UserCoupon, type Coupon } from '@/api/coupon'\nimport { Refresh, InfoFilled, CircleClose } from '@element-plus/icons-vue'\n\nconst props = defineProps<{\n  modelValue: boolean\n  orderAmount: number\n  skuIds: string[]\n  productIds: string[]\n  currentCouponId?: string\n}>()\n\nconst emit = defineEmits(['update:modelValue', 'select'])\n\n// UI 状态\nconst visible = computed({\n  get: () => props.modelValue,\n  set: (val) => emit('update:modelValue', val)\n})\n\nconst listLoading = ref(false)\nconst loading = ref(false) // 确认按钮 loading\nconst coupons = ref<UserCoupon[]>([])\nconst tempSelected = ref<UserCoupon | null>(null)\nconst allowEmpty = true // 允许传 null\n\n// 初始化逻辑\nwatch(() => props.modelValue, (val) => {\n  if (val) {\n    loadCoupons()\n  }\n})\n\nconst sortedCoupons = computed(() => {\n  return [...coupons.value].sort((a, b) => {\n    const aValid = isApplicable(a)\n    const bValid = isApplicable(b)\n    if (aValid && !bValid) return -1\n    if (!aValid && bValid) return 1\n    return b.coupon.value - a.coupon.value\n  })\n})\n\nconst loadCoupons = async () => {\n  listLoading.value = true\n  try {\n    const res = await couponApi.getUserCoupons()\n    if (res.success && res.data) {\n      const now = new Date()\n      coupons.value = res.data.filter(c => \n        c.status === 'unused' && \n        c.coupon.type !== 'balance' &&\n        (!c.coupon.end_date || new Date(c.coupon.end_date) >= now)\n      )\n      \n      // 初始化选中状态\n      if (props.currentCouponId) {\n        tempSelected.value = coupons.value.find(c => c.id === props.currentCouponId) || null\n      } else {\n        tempSelected.value = null\n      }\n    }\n  } catch (e) {\n    console.error('Failed to load coupons', e)\n  } finally {\n    listLoading.value = false\n  }\n}\n\n// 检查可用性\nconst isApplicable = (coupon: UserCoupon) => {\n  const c = coupon.coupon\n  if (props.orderAmount < c.min_usage) return false\n  \n  if (c.type === 'product') {\n     // Assuming c.extra holds sku_ids or product_ids as per previous logic, \n     // but type definition might vary. Using 'any' safety or strict type if known.\n     const extra = (c as any).extra || {}\n     // Some coupons might use direct fields if refined, but sticking to previous logic structure:\n     // If the previous code used c.sku_ids directly, I will assume it exists on the type or I cast it.\n     // Re-checking previous file content: it used `c.sku_ids` and `c.product_ids`.\n     const cAny = c as any\n     \n     if (cAny.sku_ids && cAny.sku_ids.length > 0) {\n        const hasCommonSku = props.skuIds.some(sid => \n          cAny.sku_ids.includes(sid)\n        )\n        if (!hasCommonSku) return false\n     } else if (cAny.product_ids && cAny.product_ids.length > 0) {\n        const hasCommonProduct = props.productIds.some(pid => \n          cAny.product_ids?.includes(pid)\n        )\n        if (!hasCommonProduct) return false\n     }\n  }\n  return true\n}\n\nconst getInapplicableReason = (coupon: UserCoupon) => {\n  if (props.orderAmount < coupon.coupon.min_usage) {\n    return `还差 ¥${(coupon.coupon.min_usage - props.orderAmount).toFixed(2)}`\n  }\n  if (coupon.coupon.type === 'product') {\n    return '该商品不可用'\n  }\n  return '不可用'\n}\n\nconst handleItemClick = (coupon: UserCoupon) => {\n  if (!isApplicable(coupon)) return\n  // Toggle off if clicking selected? Or just select. Standard is just select.\n  tempSelected.value = coupon\n}\n\n// 事件处理\nconst handleClose = () => {\n  visible.value = false\n}\n\nconst handleConfirm = () => {\n  emit('select', tempSelected.value)\n  visible.value = false\n}\n\n// 转换函数 for BaseCouponTicket\nconst getTicketColor = (c: Coupon) => {\n  if (c.type === 'flat') return 'purple'\n  if (c.type === 'product') return 'cyan'\n  if (c.type === 'balance') return 'gold'\n  return 'default'\n}\n\nconst getTicketDesc = (c: Coupon) => {\n  if (c.type === 'product') {\n      const extra = (c as any).extra\n      if (extra && extra.product_name) {\n          return `${extra.product_name} 专用`\n      }\n      return '指定商品专用优惠'\n  }\n  if (c.min_usage > 0) return `满 ${c.min_usage} 可用`\n  return '无门槛使用'\n}\n\nconst getTicketValue = (c: Coupon) => {\n    if (c.type === 'product' && (!c.value || c.value === 0)) {\n        return '兑换'\n    }\n    return c.value\n}\n\nconst getTicketUnit = (c: Coupon) => {\n    if (c.type === 'product' && (!c.value || c.value === 0)) {\n        return ''\n    }\n    return '点'\n}\n\nconst getCouponTypeLabel = (type: string) => {\n  const map: any = { flat: '立减券', product: '商品券', balance: '额度券' }\n  return map[type] || '通用券'\n}\n\nconst formatDate = (dateStr: string | null) => {\n  if (!dateStr) return '永久有效'\n  const date = new Date(dateStr)\n  return `有效期至 ${date.getFullYear()}.${String(date.getMonth()+1).padStart(2,'0')}.${String(date.getDate()).padStart(2,'0')}`\n}\n\n</script>\n\n<style scoped>\n.coupon-selector-content {\n  /* No padding needed because BaseBusinessModal body has padding */\n}\n\n/* Header */\n.action-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 20px;\n}\n\n.header-tip {\n  font-size: 13px;\n  color: var(--text-sub);\n  display: flex;\n  align-items: center;\n  gap: 6px;\n}\n\n.refresh-btn {\n  background: rgba(255, 255, 255, 0.05);\n  border: 1px solid rgba(255, 255, 255, 0.1);\n  color: var(--text-sub);\n}\n\n.refresh-btn:hover {\n  background: rgba(255, 255, 255, 0.1);\n  color: var(--active-orange);\n  border-color: var(--active-orange);\n}\n\n/* List */\n.coupon-list-container {\n  height: 480px; \n  overflow-y: auto;\n  padding-right: 4px;\n}\n\n.coupon-list {\n  display: flex; flex-direction: column; gap: 16px;\n}\n\n/* Ticket Wrapper for Selection State */\n.ticket-wrapper {\n  position: relative;\n  transition: all 0.2s;\n  border-radius: 16px; /* Match ticket radius */\n  cursor: pointer;\n}\n\n.ticket-wrapper.selected {\n  outline: 2px solid var(--primary-blue);\n  outline-offset: 2px;\n  box-shadow: 0 0 20px rgba(59, 130, 246, 0.3);\n}\n\n.ticket-wrapper.disabled {\n  opacity: 0.6;\n  cursor: not-allowed;\n  filter: grayscale(1);\n}\n\n.inapplicable-reason {\n  position: absolute;\n  top: 50%; left: 50%;\n  transform: translate(-50%, -50%);\n  background: rgba(0,0,0,0.8);\n  color: #EF4444;\n  padding: 8px 16px;\n  border-radius: 8px;\n  font-size: 13px;\n  font-weight: 600;\n  pointer-events: none;\n  border: 1px solid rgba(239, 68, 68, 0.3);\n}\n\n/* No Coupon Item - Manually styled to look consistent */\n.coupon-item.no-coupon {\n  display: flex;\n  align-items: center;\n  /* Match BaseCouponTicket height approx */\n  height: 80px; \n  background: rgba(255, 255, 255, 0.03); \n  border: 1px solid rgba(255, 255, 255, 0.08); \n  border-radius: 16px;\n  cursor: pointer;\n  transition: all 0.2s;\n}\n.coupon-item.no-coupon:hover {\n  border-color: var(--primary-blue);\n}\n.coupon-item.no-coupon.active {\n  background: rgba(23, 143, 198, 0.15);\n  border-color: var(--primary-blue);\n  box-shadow: 0 0 0 1px var(--primary-blue) inset;\n}\n\n.coupon-item.no-coupon .coupon-left {\n  width: 80px;\n  display: flex; justify-content: center; align-items: center;\n  font-size: 24px; color: var(--text-sub);\n  border-right: 1px dashed rgba(255,255,255,0.1);\n}\n.coupon-item.no-coupon .coupon-center {\n  flex: 1; padding: 0 20px;\n}\n.coupon-item.no-coupon .coupon-title { font-size: 15px; color: var(--text-main); font-weight: 600; }\n.coupon-item.no-coupon .coupon-desc { font-size: 13px; color: var(--text-sub); margin-top: 4px; }\n.coupon-item.no-coupon .coupon-right { width: 60px; display: flex; justify-content: center; }\n\n\n/* Radio Check Style */\n.radio-check {\n  width: 22px; height: 22px;\n  border-radius: 50%;\n  border: 2px solid rgba(255,255,255,0.3);\n  transition: all 0.2s;\n  position: relative;\n}\n\n.radio-check.checked,\n.coupon-item.no-coupon.active .radio-check {\n  border-color: var(--active-orange);\n  background: var(--active-orange);\n  box-shadow: 0 0 10px rgba(249, 115, 22, 0.4);\n}\n\n.radio-check.checked::after,\n.coupon-item.no-coupon.active .radio-check::after {\n  content: '';\n  position: absolute;\n  top: 50%; left: 50%;\n  transform: translate(-50%, -50%);\n  width: 8px; height: 8px;\n  background: #fff;\n  border-radius: 50%;\n}\n\n/* Footer Info */\n.selected-info {\n  font-size: 14px;\n  color: var(--text-sub);\n}\n\n.highlight {\n  color: var(--active-orange);\n  font-weight: 600;\n  margin: 0 4px;\n}\n\n.discount-preview {\n  color: #EF4444; \n  font-weight: 600;\n  margin-left: 4px;\n}\n\n/* BaseBusinessModal Overrides for Liquid Metal */\n:deep(.modal-header) {\n  background: transparent !important;\n  border-bottom: 1px solid rgba(255, 255, 255, 0.1);\n  padding: 24px !important;\n}\n\n:deep(.modal-title) {\n  text-shadow: 0 0 10px rgba(59, 130, 246, 0.5);\n}\n\n:deep(.modal-close) {\n  background: rgba(255, 255, 255, 0.05) !important;\n  border: 1px solid rgba(255, 255, 255, 0.1) !important;\n}\n\n:deep(.modal-close:hover) {\n  background: rgba(255, 255, 255, 0.1) !important;\n  border-color: var(--primary-blue) !important;\n  color: var(--active-orange) !important;\n}\n\n:deep(.btn-secondary) {\n  background: transparent !important;\n  border: 1px solid rgba(255, 255, 255, 0.1) !important;\n  color: var(--text-sub) !important;\n}\n\n:deep(.btn-secondary:hover) {\n  border-color: rgba(255, 255, 255, 0.3) !important;\n  color: #fff !important;\n}\n\n:deep(.btn-primary) {\n  background: linear-gradient(90deg, var(--active-orange) 0%, #FB923C 100%) !important;\n  border: none !important;\n  box-shadow: 0 4px 12px rgba(249, 115, 22, 0.3) !important;\n}\n\n:deep(.btn-primary:hover) {\n  box-shadow: 0 6px 16px rgba(249, 115, 22, 0.5) !important;\n  transform: translateY(-1px) !important;\n}\n</style>\n"],"names":["_ssrRenderAttrs","_mergeProps","_ssrIncludeBooleanAttr","_createVNode","_toDisplayString","_openBlock","_createBlock","_ssrRenderList","_withCtx","_unref","InfoFilled","Refresh","_createTextVNode","CircleClose","_createCommentVNode"],"mappings":"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"}