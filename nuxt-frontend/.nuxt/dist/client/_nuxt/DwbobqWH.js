import{b as C,E as k}from"./CoJKtQsI.js";import{bX as D,bI as M,bZ as _,c0 as q,f as F,cW as G,b$ as L,r as E,g as s,l as t,cx as U,G as f,o as u,w as a,aF as P,D as S,a as m,n as l,d,E as W,aA as X,M as Z,t as v,b as w,c1 as j,c3 as H}from"./CEI0siaN.js";import{b as R,u as y,E as J}from"./BjbJQEzT.js";const K=D({title:String,confirmButtonText:String,cancelButtonText:String,confirmButtonType:{type:String,values:C,default:"primary"},cancelButtonType:{type:String,values:C,default:"text"},icon:{type:_,default:()=>M},iconColor:{type:String,default:"#f90"},hideIcon:Boolean,hideAfter:{type:Number,default:200},effect:{...y.effect,default:"light"},teleported:y.teleported,persistent:y.persistent,width:{type:[String,Number],default:150},virtualTriggering:R.virtualTriggering,virtualRef:R.virtualRef}),O={confirm:n=>n instanceof MouseEvent,cancel:n=>n instanceof MouseEvent},Q=F({name:"ElPopconfirm",__name:"popconfirm",props:K,emits:O,setup(n,{expose:N,emit:$}){const i=n,g=$,{t:T}=G(),r=L("popconfirm"),p=E(),B=E(),I=s(()=>{var e;return(e=t(p))==null?void 0:e.popperRef}),x=()=>{var e,o;(o=(e=B.value)==null?void 0:e.focus)==null||o.call(e)},c=()=>{var e,o;(o=(e=p.value)==null?void 0:e.onClose)==null||o.call(e)},z=s(()=>({width:U(i.width)})),h=e=>{g("confirm",e),c()},b=e=>{g("cancel",e),c()},V=s(()=>i.confirmButtonText||T("el.popconfirm.confirmButtonText")),A=s(()=>i.cancelButtonText||T("el.popconfirm.cancelButtonText"));return N({popperRef:I,hide:c}),(e,o)=>(u(),f(t(J),j({ref_key:"tooltipRef",ref:p,trigger:"click",effect:e.effect},e.$attrs,{"virtual-triggering":e.virtualTriggering,"virtual-ref":e.virtualRef,"popper-class":`${t(r).namespace.value}-popover`,"popper-style":z.value,teleported:e.teleported,"fallback-placements":["bottom","top","right","left"],"hide-after":e.hideAfter,persistent:e.persistent,loop:"",onShow:x}),{content:a(()=>[m("div",{ref_key:"rootRef",ref:B,tabindex:"-1",class:l(t(r).b())},[m("div",{class:l(t(r).e("main"))},[!e.hideIcon&&e.icon?(u(),f(t(W),{key:0,class:l(t(r).e("icon")),style:X({color:e.iconColor})},{default:a(()=>[(u(),f(Z(e.icon)))]),_:1},8,["class","style"])):S("v-if",!0),d(" "+v(e.title),1)],2),m("div",{class:l(t(r).e("action"))},[P(e.$slots,"actions",{confirm:h,cancel:b},()=>[w(t(k),{size:"small",type:e.cancelButtonType==="text"?"":e.cancelButtonType,text:e.cancelButtonType==="text",onClick:b},{default:a(()=>[d(v(A.value),1)]),_:1},8,["type","text"]),w(t(k),{size:"small",type:e.confirmButtonType==="text"?"":e.confirmButtonType,text:e.confirmButtonType==="text",onClick:h},{default:a(()=>[d(v(V.value),1)]),_:1},8,["type","text"])])],2)],2)]),default:a(()=>[e.$slots.reference?P(e.$slots,"reference",{key:0}):S("v-if",!0)]),_:3},16,["effect","virtual-triggering","virtual-ref","popper-class","popper-style","teleported","hide-after","persistent"]))}});var Y=q(Q,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popconfirm/src/popconfirm.vue"]]);const ne=H(Y);export{ne as E,K as a,O as p};
