import{r as t,B as u}from"./CEI0siaN.js";import{a as O}from"./DgMG35os.js";import{D as z}from"./Demiahkb.js";import{u as b}from"./Ce6k4emn.js";import{u as x}from"./CRWHP3jh.js";function P(d){const o=t(!1),c=t([]),f=t(0),a=t(1),n=t(20),l=t([]);async function s(){o.value=!0;try{const{success:e,orders:r,total:i,error:C}=await O.getOrders({page:a.value,pageSize:n.value,order_type:d,exclude_status:["refunding","refunded"]});if(!e){u.error(C||"加载失败");return}c.value=r,f.value=i}catch(e){console.error("加载订单失败:",e),u.error("系统异常")}finally{o.value=!1}}function m(e){a.value=e,s()}function g(e){n.value=e,a.value=1,s()}function p(e){l.value=e.map(r=>r.id)}function v(e){e&&(navigator.clipboard.writeText(e),u.success("已复制"))}function S(e){return e?typeof e=="string"?e:typeof e=="object"?Object.entries(e).map(([r,i])=>`${r}: ${i}`).join(" / "):"-":"-"}const{formatPrice:y,formatDate:T}=x(),{getOrderStatusLabel:h,getOrderStatusType:A}=b();return{loading:o,list:c,total:f,page:a,pageSize:n,selectedIds:l,DEFAULT_AVATAR:z,loadList:s,handlePageChange:m,handleSizeChange:g,handleSelectionChange:p,handleCopy:v,formatSpec:S,getStatusText:e=>h(e),getStatusType:e=>A(e),formatTime:e=>T(e),formatPrice:y}}export{P as u};
