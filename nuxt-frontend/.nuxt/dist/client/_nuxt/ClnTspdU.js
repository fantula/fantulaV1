import{b_ as K,c3 as G,f as U,b9 as ee,c2 as te,r as v,g as L,cg as se,cs as D,be as Y,G as $,o as x,w as le,i as oe,a as j,aG as re,n as B,l as N,aD as I,aU as ne,T as ie,cj as ce,c as ae,b as V,F as ue,cp as P,b$ as ve,cA as q,J as F,c5 as fe,am as me,dG as de,h as pe,K as J,dH as he,D as be,aI as ge,M as ye,bu as Se,cx as Q,c6 as we}from"./o2XBa361.js";import{t as ze}from"./Cq9Fpw4b.js";import{u as Ee}from"./CqX7ZdKI.js";const T=4,_e={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}},ke=({move:b,size:f,bar:o})=>({[o.size]:f,transform:`translate${o.axis}(${b}%)`}),X=Symbol("scrollbarContextKey"),He=K({vertical:Boolean,size:String,move:Number,ratio:{type:Number,required:!0},always:Boolean}),Te="Thumb",Le=U({__name:"thumb",props:He,setup(b){const f=b,o=ee(X),s=te("scrollbar");o||ze(Te,"can not inject scrollbar context");const m=v(),c=v(),S=v({}),g=v(!1);let p=!1,i=!1,d=0,u=0,a=ce?document.onselectstart:null;const t=L(()=>_e[f.vertical?"vertical":"horizontal"]),l=L(()=>ke({size:f.size,move:f.move,bar:t.value})),z=L(()=>m.value[t.value.offset]**2/o.wrapElement[t.value.scrollSize]/f.ratio/c.value[t.value.offset]),w=n=>{var h;if(n.stopPropagation(),n.ctrlKey||[1,2].includes(n.button))return;(h=window.getSelection())==null||h.removeAllRanges(),H(n);const E=n.currentTarget;E&&(S.value[t.value.axis]=E[t.value.offset]-(n[t.value.client]-E.getBoundingClientRect()[t.value.direction]))},k=n=>{if(!c.value||!m.value||!o.wrapElement)return;const h=Math.abs(n.target.getBoundingClientRect()[t.value.direction]-n[t.value.client]),E=c.value[t.value.offset]/2,y=(h-E)*100*z.value/m.value[t.value.offset];o.wrapElement[t.value.scroll]=y*o.wrapElement[t.value.scrollSize]/100},H=n=>{n.stopImmediatePropagation(),p=!0,d=o.wrapElement.scrollHeight,u=o.wrapElement.scrollWidth,document.addEventListener("mousemove",A),document.addEventListener("mouseup",R),a=document.onselectstart,document.onselectstart=()=>!1},A=n=>{if(!m.value||!c.value||p===!1)return;const h=S.value[t.value.axis];if(!h)return;const E=(m.value.getBoundingClientRect()[t.value.direction]-n[t.value.client])*-1,y=c.value[t.value.offset]-h,e=(E-y)*100*z.value/m.value[t.value.offset];t.value.scroll==="scrollLeft"?o.wrapElement[t.value.scroll]=e*u/100:o.wrapElement[t.value.scroll]=e*d/100},R=()=>{p=!1,S.value[t.value.axis]=0,document.removeEventListener("mousemove",A),document.removeEventListener("mouseup",R),C(),i&&(g.value=!1)},O=()=>{i=!1,g.value=!!f.size},W=()=>{i=!0,g.value=p};se(()=>{C(),document.removeEventListener("mouseup",R)});const C=()=>{document.onselectstart!==a&&(document.onselectstart=a)};return D(Y(o,"scrollbarElement"),"mousemove",O),D(Y(o,"scrollbarElement"),"mouseleave",W),(n,h)=>(x(),$(ie,{name:N(s).b("fade"),persisted:""},{default:le(()=>[oe(j("div",{ref_key:"instance",ref:m,class:B([N(s).e("bar"),N(s).is(t.value.key)]),onMousedown:k,onClick:h[0]||(h[0]=re(()=>{},["stop"]))},[j("div",{ref_key:"thumb",ref:c,class:B(N(s).e("thumb")),style:I(l.value),onMousedown:w},null,38)],34),[[ne,n.always||g.value]])]),_:1},8,["name"]))}});var Z=G(Le,[["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/thumb.vue"]]);const Re=K({always:{type:Boolean,default:!0},minSize:{type:Number,required:!0}}),Ce=U({__name:"bar",props:Re,setup(b,{expose:f}){const o=b,s=ee(X),m=v(0),c=v(0),S=v(""),g=v(""),p=v(1),i=v(1);return f({handleScroll:a=>{if(a){const t=a.offsetHeight-T,l=a.offsetWidth-T;c.value=a.scrollTop*100/t*p.value,m.value=a.scrollLeft*100/l*i.value}},update:()=>{const a=s?.wrapElement;if(!a)return;const t=a.offsetHeight-T,l=a.offsetWidth-T,z=t**2/a.scrollHeight,w=l**2/a.scrollWidth,k=Math.max(z,o.minSize),H=Math.max(w,o.minSize);p.value=z/(t-z)/(k/(t-k)),i.value=w/(l-w)/(H/(l-H)),g.value=k+T<t?`${k}px`:"",S.value=H+T<l?`${H}px`:""}}),(a,t)=>(x(),ae(ue,null,[V(Z,{move:m.value,ratio:i.value,size:S.value,always:a.always},null,8,["move","ratio","size","always"]),V(Z,{move:c.value,ratio:p.value,size:g.value,vertical:"",always:a.always},null,8,["move","ratio","size","always"])],64))}});var Ne=G(Ce,[["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/bar.vue"]]);const Pe=K({distance:{type:Number,default:0},height:{type:[String,Number],default:""},maxHeight:{type:[String,Number],default:""},native:Boolean,wrapStyle:{type:ve([String,Object,Array]),default:""},wrapClass:{type:[String,Array],default:""},viewClass:{type:[String,Array],default:""},viewStyle:{type:[String,Array,Object],default:""},noresize:Boolean,tag:{type:String,default:"div"},always:Boolean,minSize:{type:Number,default:20},tabindex:{type:[String,Number],default:void 0},id:String,role:String,...Ee(["ariaLabel","ariaOrientation"])}),xe={"end-reached":b=>["left","right","top","bottom"].includes(b),scroll:({scrollTop:b,scrollLeft:f})=>[b,f].every(P)},Be=["tabindex"],Ae="ElScrollbar",Me=U({name:Ae,__name:"scrollbar",props:Pe,emits:xe,setup(b,{expose:f,emit:o}){const s=b,m=o,c=te("scrollbar");let S,g,p,i=0,d=0,u="";const a={bottom:!1,top:!1,right:!1,left:!1},t=v(),l=v(),z=v(),w=v(),k=L(()=>{const e={},r=q(s.height),_=q(s.maxHeight);return r&&(e.height=r),_&&(e.maxHeight=_),[s.wrapStyle,e]}),H=L(()=>[s.wrapClass,c.e("wrap"),{[c.em("wrap","hidden-default")]:!s.native}]),A=L(()=>[c.e("view"),s.viewClass]),R=e=>{var r;return(r=a[e])!=null?r:!1},O={top:"bottom",bottom:"top",left:"right",right:"left"},W=e=>{const r=O[u];if(!r)return;const _=e[u],M=e[r];_&&!a[u]&&(a[u]=!0),!M&&a[r]&&(a[r]=!1)},C=()=>{var e;if(l.value){(e=w.value)==null||e.handleScroll(l.value);const r=i,_=d;i=l.value.scrollTop,d=l.value.scrollLeft;const M={bottom:i+l.value.clientHeight>=l.value.scrollHeight-s.distance,top:i<=s.distance&&r!==0,right:d+l.value.clientWidth>=l.value.scrollWidth-s.distance&&_!==d,left:d<=s.distance&&_!==0};if(m("scroll",{scrollTop:i,scrollLeft:d}),r!==i&&(u=i>r?"bottom":"top"),_!==d&&(u=d>_?"right":"left"),s.distance>0){if(R(u))return;W(M)}M[u]&&m("end-reached",u)}};function n(e,r){Se(e)?l.value.scrollTo(e):P(e)&&P(r)&&l.value.scrollTo(e,r)}const h=e=>{P(e)&&(l.value.scrollTop=e)},E=e=>{P(e)&&(l.value.scrollLeft=e)},y=()=>{var e;(e=w.value)==null||e.update(),a[u]=!1};return F(()=>s.noresize,e=>{e?(S?.(),g?.(),p?.()):({stop:S}=Q(z,y),{stop:g}=Q(l,y),p=D("resize",y))},{immediate:!0}),F(()=>[s.maxHeight,s.height],()=>{s.native||J(()=>{var e;y(),l.value&&((e=w.value)==null||e.handleScroll(l.value))})}),fe(X,me({scrollbarElement:t,wrapElement:l})),de(()=>{l.value&&(l.value.scrollTop=i,l.value.scrollLeft=d)}),pe(()=>{s.native||J(()=>{y()})}),he(()=>y()),f({wrapRef:l,update:y,scrollTo:n,setScrollTop:h,setScrollLeft:E,handleScroll:C}),(e,r)=>(x(),ae("div",{ref_key:"scrollbarRef",ref:t,class:B(N(c).b())},[j("div",{ref_key:"wrapRef",ref:l,class:B(H.value),style:I(k.value),tabindex:e.tabindex,onScroll:C},[(x(),$(ye(e.tag),{id:e.id,ref_key:"resizeRef",ref:z,class:B(A.value),style:I(e.viewStyle),role:e.role,"aria-label":e.ariaLabel,"aria-orientation":e.ariaOrientation},{default:le(()=>[ge(e.$slots,"default")]),_:3},8,["id","class","style","role","aria-label","aria-orientation"]))],46,Be),e.native?be("v-if",!0):(x(),$(Ne,{key:0,ref_key:"barRef",ref:w,always:e.always,"min-size":e.minSize},null,8,["always","min-size"]))],2))}});var Oe=G(Me,[["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/scrollbar.vue"]]);const je=we(Oe);export{_e as B,je as E,T as G,Pe as a,X as b,ke as r,xe as s,He as t};
