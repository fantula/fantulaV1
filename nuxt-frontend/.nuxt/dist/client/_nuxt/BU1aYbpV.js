import{d as Q}from"./C-2dxbDp.js";import{a as la}from"./92s3wAHG.js";import{bt as De,dz as Bt,ex as Ct,cW as _e,r as ne,g as E,ds as Lt,bX as Ce,bY as de,dD as sn,b_ as rn,aN as on,c0 as Ke,f as Te,am as vt,b$ as $e,c as X,o as F,aF as me,a as Z,c1 as ya,l as e,aA as rt,n as S,cq as ft,b6 as Pe,dy as un,J as Oe,dr as dn,ey as cn,di as vn,cd as Wt,G as be,w as ie,aD as Je,D as ue,E as ye,bi as St,M as Na,t as he,c5 as mt,c6 as we,K as Ye,da as fn,c2 as ka,cC as mn,h as pn,F as ge,k as Ve,d as na,i as Re,b as G,ei as hn,aQ as bn,cm as yn,cl as Kt,T as kn,bk as gn,j as qe,cA as qa,bV as pt,bb as We,aR as Qe,dt as va,a2 as ot,L as Ea,dv as fa,cf as it,b4 as Ut,ce as wn,ch as jt,c3 as Ht}from"./CEI0siaN.js";import{E as Ga}from"./CoJKtQsI.js";import{a as zt,E as ca}from"./BCllKHMW.js";import{a as Dn,u as Pt,E as Cn,c as Fe,e as Pa}from"./BjbJQEzT.js";import{a as Sn}from"./DqBrY_lx.js";import{E as Pn}from"./CNYNJsmX.js";import{v as Mt}from"./CCoZ80-G.js";import{U as Va,C as Za}from"./BB_Ol6Sd.js";import{d as Mn}from"./CChPPi86.js";import{C as ut}from"./CXRxotb2.js";import{a as qt,d as Vn,c as Ta,b as $n}from"./Cp1EI20B.js";import{o as On}from"./DE5qJ7kT.js";import{u as Yn}from"./97-vZjNt.js";import{u as Rn}from"./C6m5ANi3.js";import{d as Vt}from"./Cq9Fpw4b.js";const nt=(t,d)=>[t>0?t-1:void 0,t,t<d?t+1:void 0],Gt=t=>Array.from(Array.from({length:t}).keys()),Zt=t=>t.replace(/\W?m{1,2}|\W?ZZ/g,"").replace(/\W?h{1,2}|\W?s{1,3}|\W?a/gi,"").trim(),Jt=t=>t.replace(/\W?D{1,2}|\W?Do|\W?d{1,4}|\W?M{1,4}|\W?Y{2,4}/g,"").trim(),$t=function(t,d){const l=Ct(t),a=Ct(d);return l&&a?t.getTime()===d.getTime():!l&&!a?t===d:!1},Qt=function(t,d){const l=De(t),a=De(d);return l&&a?t.length!==d.length?!1:t.every((n,c)=>$t(n,d[c])):!l&&!a?$t(t,d):!1},Ot=function(t,d,l){const a=Bt(d)||d==="x"?Q(t).locale(l):Q(t,d).locale(l);return a.isValid()?a:void 0},Yt=function(t,d,l){return Bt(d)?t:d==="x"?+t:Q(t).locale(l).format(d)},lt=(t,d)=>{var l;const a=[],n=d?.();for(let c=0;c<t;c++)a.push((l=n?.includes(c))!=null?l:!1);return a},Aa=t=>De(t)?t.map(d=>d.toDate()):t.toDate();var Ba={exports:{}},Tn=Ba.exports,Rt;function In(){return Rt||(Rt=1,(function(t,d){(function(l,a){t.exports=a()})(Tn,(function(){return function(l,a,n){var c=a.prototype,u=function(w){return w&&(w.indexOf?w:w.s)},y=function(w,T,x,m,k){var r=w.name?w:w.$locale(),v=u(r[T]),B=u(r[x]),p=v||B.map((function(P){return P.slice(0,m)}));if(!k)return p;var g=r.weekStart;return p.map((function(P,o){return p[(o+(g||0))%7]}))},D=function(){return n.Ls[n.locale()]},M=function(w,T){return w.formats[T]||(function(x){return x.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(m,k,r){return k||r.slice(1)}))})(w.formats[T.toUpperCase()])},C=function(){var w=this;return{months:function(T){return T?T.format("MMMM"):y(w,"months")},monthsShort:function(T){return T?T.format("MMM"):y(w,"monthsShort","months",3)},firstDayOfWeek:function(){return w.$locale().weekStart||0},weekdays:function(T){return T?T.format("dddd"):y(w,"weekdays")},weekdaysMin:function(T){return T?T.format("dd"):y(w,"weekdaysMin","weekdays",2)},weekdaysShort:function(T){return T?T.format("ddd"):y(w,"weekdaysShort","weekdays",3)},longDateFormat:function(T){return M(w.$locale(),T)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};c.localeData=function(){return C.bind(this)()},n.localeData=function(){var w=D();return{firstDayOfWeek:function(){return w.weekStart||0},weekdays:function(){return n.weekdays()},weekdaysShort:function(){return n.weekdaysShort()},weekdaysMin:function(){return n.weekdaysMin()},months:function(){return n.months()},monthsShort:function(){return n.monthsShort()},longDateFormat:function(T){return M(w,T)},meridiem:w.meridiem,ordinal:w.ordinal}},n.months=function(){return y(D(),"months")},n.monthsShort=function(){return y(D(),"monthsShort","months",3)},n.weekdays=function(w){return y(D(),"weekdays",null,null,w)},n.weekdaysShort=function(w){return y(D(),"weekdaysShort","weekdays",3,w)},n.weekdaysMin=function(w){return y(D(),"weekdaysMin","weekdays",2,w)}}}))})(Ba)),Ba.exports}var xn=In();const Nn=la(xn),Fn=["year","years","month","months","date","dates","week","datetime","datetimerange","daterange","monthrange","yearrange"],mr=["sun","mon","tue","wed","thu","fri","sat"];var La={exports:{}},_n=La.exports,Tt;function En(){return Tt||(Tt=1,(function(t,d){(function(l,a){t.exports=a()})(_n,(function(){var l={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},a=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|Q|YYYY|YY?|ww?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,n=/\d/,c=/\d\d/,u=/\d\d?/,y=/\d*[^-_:/,()\s\d]+/,D={},M=function(r){return(r=+r)+(r>68?1900:2e3)},C=function(r){return function(v){this[r]=+v}},w=[/[+-]\d\d:?(\d\d)?|Z/,function(r){(this.zone||(this.zone={})).offset=(function(v){if(!v||v==="Z")return 0;var B=v.match(/([+-]|\d\d)/g),p=60*B[1]+(+B[2]||0);return p===0?0:B[0]==="+"?-p:p})(r)}],T=function(r){var v=D[r];return v&&(v.indexOf?v:v.s.concat(v.f))},x=function(r,v){var B,p=D.meridiem;if(p){for(var g=1;g<=24;g+=1)if(r.indexOf(p(g,0,v))>-1){B=g>12;break}}else B=r===(v?"pm":"PM");return B},m={A:[y,function(r){this.afternoon=x(r,!1)}],a:[y,function(r){this.afternoon=x(r,!0)}],Q:[n,function(r){this.month=3*(r-1)+1}],S:[n,function(r){this.milliseconds=100*+r}],SS:[c,function(r){this.milliseconds=10*+r}],SSS:[/\d{3}/,function(r){this.milliseconds=+r}],s:[u,C("seconds")],ss:[u,C("seconds")],m:[u,C("minutes")],mm:[u,C("minutes")],H:[u,C("hours")],h:[u,C("hours")],HH:[u,C("hours")],hh:[u,C("hours")],D:[u,C("day")],DD:[c,C("day")],Do:[y,function(r){var v=D.ordinal,B=r.match(/\d+/);if(this.day=B[0],v)for(var p=1;p<=31;p+=1)v(p).replace(/\[|\]/g,"")===r&&(this.day=p)}],w:[u,C("week")],ww:[c,C("week")],M:[u,C("month")],MM:[c,C("month")],MMM:[y,function(r){var v=T("months"),B=(T("monthsShort")||v.map((function(p){return p.slice(0,3)}))).indexOf(r)+1;if(B<1)throw new Error;this.month=B%12||B}],MMMM:[y,function(r){var v=T("months").indexOf(r)+1;if(v<1)throw new Error;this.month=v%12||v}],Y:[/[+-]?\d+/,C("year")],YY:[c,function(r){this.year=M(r)}],YYYY:[/\d{4}/,C("year")],Z:w,ZZ:w};function k(r){var v,B;v=r,B=D&&D.formats;for(var p=(r=v.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(V,A,L){var W=L&&L.toUpperCase();return A||B[L]||l[L]||B[W].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(H,te,le){return te||le.slice(1)}))}))).match(a),g=p.length,P=0;P<g;P+=1){var o=p[P],$=m[o],i=$&&$[0],O=$&&$[1];p[P]=O?{regex:i,parser:O}:o.replace(/^\[|\]$/g,"")}return function(V){for(var A={},L=0,W=0;L<g;L+=1){var H=p[L];if(typeof H=="string")W+=H.length;else{var te=H.regex,le=H.parser,ce=V.slice(W),K=te.exec(ce)[0];le.call(A,K),V=V.replace(K,"")}}return(function(h){var q=h.afternoon;if(q!==void 0){var N=h.hours;q?N<12&&(h.hours+=12):N===12&&(h.hours=0),delete h.afternoon}})(A),A}}return function(r,v,B){B.p.customParseFormat=!0,r&&r.parseTwoDigitYear&&(M=r.parseTwoDigitYear);var p=v.prototype,g=p.parse;p.parse=function(P){var o=P.date,$=P.utc,i=P.args;this.$u=$;var O=i[1];if(typeof O=="string"){var V=i[2]===!0,A=i[3]===!0,L=V||A,W=i[2];A&&(W=i[2]),D=this.$locale(),!V&&W&&(D=B.Ls[W]),this.$d=(function(ce,K,h,q){try{if(["x","X"].indexOf(K)>-1)return new Date((K==="X"?1e3:1)*ce);var N=k(K)(ce),ee=N.year,b=N.month,Y=N.day,I=N.hours,J=N.minutes,_=N.seconds,se=N.milliseconds,oe=N.zone,pe=N.week,Ee=new Date,Ue=Y||(ee||b?1:Ee.getDate()),je=ee||Ee.getFullYear(),Ie=0;ee&&!b||(Ie=b>0?b-1:Ee.getMonth());var Ae,Se=I||0,Me=J||0,Le=_||0,He=se||0;return oe?new Date(Date.UTC(je,Ie,Ue,Se,Me,Le,He+60*oe.offset*1e3)):h?new Date(Date.UTC(je,Ie,Ue,Se,Me,Le,He)):(Ae=new Date(je,Ie,Ue,Se,Me,Le,He),pe&&(Ae=q(Ae).week(pe).toDate()),Ae)}catch{return new Date("")}})(o,O,$,B),this.init(),W&&W!==!0&&(this.$L=this.locale(W).$L),L&&o!=this.format(O)&&(this.$d=new Date("")),D={}}else if(O instanceof Array)for(var H=O.length,te=1;te<=H;te+=1){i[1]=O[te-1];var le=B.apply(this,i);if(le.isValid()){this.$d=le.$d,this.$L=le.$L,this.init();break}te===H&&(this.$d=new Date(""))}else g.call(this,P)}}}))})(La)),La.exports}var An=En();const Bn=la(An),It=["hours","minutes","seconds"],Ge="EP_PICKER_BASE",Xt="ElPopperOptions",en=Symbol("commonPickerContextKey"),$a="HH:mm:ss",ta="YYYY-MM-DD",Ln={date:ta,dates:ta,week:"gggg[w]ww",year:"YYYY",years:"YYYY",month:"YYYY-MM",months:"YYYY-MM",datetime:`${ta} ${$a}`,monthrange:"YYYY-MM",yearrange:"YYYY",daterange:ta,datetimerange:`${ta} ${$a}`},an=(t,d)=>{const{lang:l}=_e(),a=ne(!1),n=ne(!1),c=ne(null),u=E(()=>{const{modelValue:m}=t;return!m||De(m)&&!m.filter(Boolean).length}),y=m=>{if(!Qt(t.modelValue,m)){let k;De(m)?k=m.map(v=>Yt(v,t.valueFormat,l.value)):m&&(k=Yt(m,t.valueFormat,l.value)),d(Va,m&&k,l.value)}},D=E(()=>{var m;let k;if(u.value?M.value.getDefaultValue&&(k=M.value.getDefaultValue()):De(t.modelValue)?k=t.modelValue.map(r=>Ot(r,t.valueFormat,l.value)):k=Ot((m=t.modelValue)!=null?m:"",t.valueFormat,l.value),M.value.getRangeAvailableTime){const r=M.value.getRangeAvailableTime(k);Lt(r,k)||(k=r,u.value||y(Aa(k)))}return De(k)&&k.some(r=>!r)&&(k=[]),k}),M=ne({});return{parsedValue:D,pickerActualVisible:n,pickerOptions:M,pickerVisible:a,userInput:c,valueIsEmpty:u,emitInput:y,onCalendarChange:m=>{d("calendar-change",m)},onPanelChange:(m,k,r)=>{d("panel-change",m,k,r)},onPick:(m="",k=!1)=>{a.value=k;let r;De(m)?r=m.map(v=>v.toDate()):r=m&&m.toDate(),c.value=null,y(r)},onSetPickerOption:m=>{M.value[m[0]]=m[1],M.value.panelReady=!0}}},ht=Ce({disabledHours:{type:de(Function)},disabledMinutes:{type:de(Function)},disabledSeconds:{type:de(Function)}}),Wn=Ce({visible:Boolean,actualVisible:{type:Boolean,default:void 0},format:{type:String,default:""}}),tn=Ce({automaticDropdown:{type:Boolean,default:!0},id:{type:de([Array,String])},name:{type:de([Array,String])},popperClass:Pt.popperClass,popperStyle:Pt.popperStyle,format:String,valueFormat:String,dateFormat:String,timeFormat:String,type:{type:String,default:""},clearable:{type:Boolean,default:!0},clearIcon:{type:de([String,Object]),default:on},editable:{type:Boolean,default:!0},prefixIcon:{type:de([String,Object]),default:""},size:rn,readonly:Boolean,disabled:{type:Boolean,default:void 0},placeholder:{type:String,default:""},popperOptions:{type:de(Object),default:()=>({})},modelValue:{type:de([Date,Array,String,Number]),default:""},rangeSeparator:{type:String,default:"-"},startPlaceholder:String,endPlaceholder:String,defaultValue:{type:de([Date,Array])},defaultTime:{type:de([Date,Array])},isRange:Boolean,...ht,disabledDate:{type:Function},cellClassName:{type:Function},shortcuts:{type:Array,default:()=>[]},arrowControl:Boolean,tabindex:{type:de([String,Number]),default:0},validateEvent:{type:Boolean,default:!0},unlinkPanels:Boolean,placement:{type:de(String),values:Dn,default:"bottom"},fallbackPlacements:{type:de(Array),default:["bottom","top","right","left"]},...sn,...Yn(["ariaLabel"]),showNow:{type:Boolean,default:!0},showConfirm:{type:Boolean,default:!0},showFooter:{type:Boolean,default:!0},showWeekNumber:Boolean}),Kn=Ce({id:{type:de(Array)},name:{type:de(Array)},modelValue:{type:de([Array,String])},startPlaceholder:String,endPlaceholder:String,disabled:Boolean}),Un=["id","name","placeholder","value","disabled"],jn=["id","name","placeholder","value","disabled"],Hn=Te({name:"PickerRangeTrigger",inheritAttrs:!1,__name:"picker-range-trigger",props:Kn,emits:["mouseenter","mouseleave","click","touchstart","focus","blur","startInput","endInput","startChange","endChange"],setup(t,{expose:d,emit:l}){const a=t,n=l,{formItem:c}=qt(),{inputId:u}=Vn(vt({id:E(()=>{var i;return(i=a.id)==null?void 0:i[0]})}),{formItemContext:c}),y=Rn(),D=$e("date"),M=$e("range"),C=ne(),w=ne(),{wrapperRef:T,isFocused:x}=zt(C,{disabled:E(()=>a.disabled)}),m=i=>{n("click",i)},k=i=>{n("mouseenter",i)},r=i=>{n("mouseleave",i)},v=i=>{n("touchstart",i)},B=i=>{n("startInput",i)},p=i=>{n("endInput",i)},g=i=>{n("startChange",i)},P=i=>{n("endChange",i)};return d({focus:()=>{var i;(i=C.value)==null||i.focus()},blur:()=>{var i,O;(i=C.value)==null||i.blur(),(O=w.value)==null||O.blur()}}),(i,O)=>(F(),X("div",{ref_key:"wrapperRef",ref:T,class:S([e(D).is("active",e(x)),i.$attrs.class]),style:rt(i.$attrs.style),onClick:m,onMouseenter:k,onMouseleave:r,onTouchstartPassive:v},[me(i.$slots,"prefix"),Z("input",ya(e(y),{id:e(u),ref_key:"inputRef",ref:C,name:i.name&&i.name[0],placeholder:i.startPlaceholder,value:i.modelValue&&i.modelValue[0],class:e(M).b("input"),disabled:i.disabled,onInput:B,onChange:g}),null,16,Un),me(i.$slots,"range-separator"),Z("input",ya(e(y),{id:i.id&&i.id[1],ref_key:"endInputRef",ref:w,name:i.name&&i.name[1],placeholder:i.endPlaceholder,value:i.modelValue&&i.modelValue[1],class:e(M).b("input"),disabled:i.disabled,onInput:p,onChange:P}),null,16,jn),me(i.$slots,"suffix")],38))}});var zn=Ke(Hn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/common/picker-range-trigger.vue"]]);const qn=Te({name:"Picker",__name:"picker",props:tn,emits:[Va,Za,"focus","blur","clear","calendar-change","panel-change","visible-change","keydown"],setup(t,{expose:d,emit:l}){const a=t,n=l,c=ft(),u=$e("date"),y=$e("input"),D=$e("range"),{formItem:M}=qt(),C=Pe(Xt,{}),w=un(a,null),T=ne(),x=ne(),m=ne(null);let k=!1;const r=Ta(),v=an(a,n),{parsedValue:B,pickerActualVisible:p,userInput:g,pickerVisible:P,pickerOptions:o,valueIsEmpty:$,emitInput:i,onPick:O,onSetPickerOption:V,onCalendarChange:A,onPanelChange:L}=v,{isFocused:W,handleFocus:H,handleBlur:te}=zt(x,{disabled:r,beforeFocus(){return a.readonly},afterFocus(){a.automaticDropdown&&(P.value=!0)},beforeBlur(s){var j;return!k&&((j=T.value)==null?void 0:j.isFocusInsideContent(s))},afterBlur(){oa(),P.value=!1,k=!1,a.validateEvent&&M?.validate("blur").catch(s=>Vt())}}),le=ne(!1),ce=E(()=>[u.b("editor"),u.bm("editor",a.type),y.e("wrapper"),u.is("disabled",r.value),u.is("active",P.value),D.b("editor"),sa?D.bm("editor",sa.value):"",c.class]),K=E(()=>[y.e("icon"),D.e("close-icon"),Ae.value?"":D.em("close-icon","hidden")]);Oe(P,s=>{s?Ye(()=>{s&&(m.value=a.modelValue)}):(g.value=null,Ye(()=>{h(a.modelValue)}))});const h=(s,j)=>{(j||!Qt(s,m.value))&&(n(Za,s),j&&(m.value=s),a.validateEvent&&M?.validate("change").catch(re=>Vt()))},q=s=>{n("keydown",s)},N=E(()=>x.value?Array.from(x.value.$el.querySelectorAll("input")):[]),ee=(s,j,re)=>{const ke=N.value;ke.length&&(!re||re==="min"?(ke[0].setSelectionRange(s,j),ke[0].focus()):re==="max"&&(ke[1].setSelectionRange(s,j),ke[1].focus()))},b=()=>{p.value=!0},Y=()=>{n("visible-change",!0)},I=()=>{p.value=!1,P.value=!1,n("visible-change",!1)},J=()=>{P.value=!0},_=()=>{P.value=!1},se=E(()=>{const s=Ze(B.value);return De(g.value)?[g.value[0]||s&&s[0]||"",g.value[1]||s&&s[1]||""]:g.value!==null?g.value:!pe.value&&$.value||!P.value&&$.value?"":s?Ee.value||Ue.value||je.value?s.join(", "):s:""}),oe=E(()=>a.type.includes("time")),pe=E(()=>a.type.startsWith("time")),Ee=E(()=>a.type==="dates"),Ue=E(()=>a.type==="months"),je=E(()=>a.type==="years"),Ie=E(()=>a.prefixIcon||(oe.value?dn:cn)),Ae=E(()=>a.clearable&&!r.value&&!a.readonly&&!$.value&&(le.value||W.value)),Se=s=>{a.readonly||r.value||(Ae.value&&(s?.stopPropagation(),o.value.handleClear?o.value.handleClear():i(w.valueOnClear.value),h(w.valueOnClear.value,!0),I()),n("clear"))},Me=async s=>{var j;a.readonly||r.value||(((j=s.target)==null?void 0:j.tagName)!=="INPUT"||W.value||!a.automaticDropdown)&&(P.value=!0)},Le=()=>{a.readonly||r.value||!$.value&&a.clearable&&(le.value=!0)},He=()=>{le.value=!1},Be=s=>{var j;a.readonly||r.value||(((j=s.touches[0].target)==null?void 0:j.tagName)!=="INPUT"||W.value||!a.automaticDropdown)&&(P.value=!0)},Da=E(()=>a.type.includes("range")),sa=$n(),ra=E(()=>{var s,j;return(j=(s=e(T))==null?void 0:s.popperRef)==null?void 0:j.contentRef}),ma=vn(x,s=>{const j=e(ra),re=fn(x);j&&(s.target===j||s.composedPath().includes(j))||s.target===re||re&&s.composedPath().includes(re)||(P.value=!1)});Wt(()=>{ma?.()});const oa=()=>{if(g.value){const s=Xe(se.value);s&&(ze(s)&&i(Aa(s)),g.value=null)}g.value===""&&(i(w.valueOnClear.value),h(w.valueOnClear.value,!0),g.value=null)},Xe=s=>s?o.value.parseUserInput(s):null,Ze=s=>s?De(s)?s.map(re=>re.format(a.format)):s.format(a.format):null,ze=s=>o.value.isValidValue(s),ve=async s=>{if(a.readonly||r.value)return;const j=mt(s);if(q(s),j===we.esc){P.value===!0&&(P.value=!1,s.preventDefault(),s.stopPropagation());return}if(j===we.down&&(o.value.handleFocusPicker&&(s.preventDefault(),s.stopPropagation()),P.value===!1&&(P.value=!0,await Ye()),o.value.handleFocusPicker)){o.value.handleFocusPicker();return}if(j===we.tab){k=!0;return}if(j===we.enter||j===we.numpadEnter){P.value?(g.value===null||g.value===""||ze(Xe(se.value)))&&(oa(),P.value=!1):P.value=!0,s.preventDefault(),s.stopPropagation();return}if(g.value){s.stopPropagation();return}o.value.handleKeydownInput&&o.value.handleKeydownInput(s)},ea=s=>{g.value=s,P.value||(P.value=!0)},aa=s=>{const j=s.target;g.value?g.value=[j.value,g.value[1]]:g.value=[j.value,null]},pa=s=>{const j=s.target;g.value?g.value=[g.value[0],j.value]:g.value=[null,j.value]},ia=()=>{var s;const j=g.value,re=Xe(j&&j[0]),ke=e(B);if(re&&re.isValid()){g.value=[Ze(re),((s=se.value)==null?void 0:s[1])||null];const Ne=[re,ke&&(ke[1]||null)];ze(Ne)&&(i(Aa(Ne)),g.value=null)}},xe=()=>{var s;const j=e(g),re=Xe(j&&j[1]),ke=e(B);if(re&&re.isValid()){g.value=[((s=e(se))==null?void 0:s[0])||null,Ze(re)];const Ne=[ke&&ke[0],re];ze(Ne)&&(i(Aa(Ne)),g.value=null)}},f=()=>{var s;(s=x.value)==null||s.focus()},U=()=>{var s;(s=x.value)==null||s.blur()};return ka(Ge,{props:a,emptyValues:w}),ka(en,v),d({focus:f,blur:U,handleOpen:J,handleClose:_,onPick:O}),(s,j)=>(F(),be(e(Cn),ya({ref_key:"refPopper",ref:T,visible:e(P),effect:"light",pure:"",trigger:"click"},s.$attrs,{role:"dialog",teleported:"",transition:`${e(u).namespace.value}-zoom-in-top`,"popper-class":[`${e(u).namespace.value}-picker__popper`,s.popperClass],"popper-style":s.popperStyle,"popper-options":e(C),"fallback-placements":s.fallbackPlacements,"gpu-acceleration":!1,placement:s.placement,"stop-popper-mouse-event":!1,"hide-after":0,persistent:"",onBeforeShow:b,onShow:Y,onHide:I}),{default:ie(()=>[Da.value?(F(),be(zn,{key:1,id:s.id,ref_key:"inputRef",ref:x,"model-value":se.value,name:s.name,disabled:e(r),readonly:!s.editable||s.readonly,"start-placeholder":s.startPlaceholder,"end-placeholder":s.endPlaceholder,class:S(ce.value),style:rt(s.$attrs.style),"aria-label":s.ariaLabel,tabindex:s.tabindex,autocomplete:"off",role:"combobox",onClick:Me,onFocus:e(H),onBlur:e(te),onStartInput:aa,onStartChange:ia,onEndInput:pa,onEndChange:xe,onMousedown:Me,onMouseenter:Le,onMouseleave:He,onTouchstartPassive:Be,onKeydown:ve},{prefix:ie(()=>[Ie.value?(F(),be(e(ye),{key:0,class:S([e(y).e("icon"),e(D).e("icon")])},{default:ie(()=>[(F(),be(Na(Ie.value)))]),_:1},8,["class"])):ue("v-if",!0)]),"range-separator":ie(()=>[me(s.$slots,"range-separator",{},()=>[Z("span",{class:S(e(D).b("separator"))},he(s.rangeSeparator),3)])]),suffix:ie(()=>[s.clearIcon?(F(),be(e(ye),{key:0,class:S(K.value),onMousedown:Je(e(St),["prevent"]),onClick:Se},{default:ie(()=>[(F(),be(Na(s.clearIcon)))]),_:1},8,["class","onMousedown"])):ue("v-if",!0)]),_:3},8,["id","model-value","name","disabled","readonly","start-placeholder","end-placeholder","class","style","aria-label","tabindex","onFocus","onBlur"])):(F(),be(e(ca),{key:0,id:s.id,ref_key:"inputRef",ref:x,"container-role":"combobox","model-value":se.value,name:s.name,size:e(sa),disabled:e(r),placeholder:s.placeholder,class:S([e(u).b("editor"),e(u).bm("editor",s.type),e(u).is("focus",e(P)),s.$attrs.class]),style:rt(s.$attrs.style),readonly:!s.editable||s.readonly||Ee.value||Ue.value||je.value||s.type==="week","aria-label":s.ariaLabel,tabindex:s.tabindex,"validate-event":!1,onInput:ea,onFocus:e(H),onBlur:e(te),onKeydown:ve,onChange:oa,onMousedown:Me,onMouseenter:Le,onMouseleave:He,onTouchstartPassive:Be,onClick:j[0]||(j[0]=Je(()=>{},["stop"]))},{prefix:ie(()=>[Ie.value?(F(),be(e(ye),{key:0,class:S(e(y).e("icon")),onMousedown:Je(Me,["prevent"]),onTouchstartPassive:Be},{default:ie(()=>[(F(),be(Na(Ie.value)))]),_:1},8,["class"])):ue("v-if",!0)]),suffix:ie(()=>[Ae.value&&s.clearIcon?(F(),be(e(ye),{key:0,class:S(`${e(y).e("icon")} clear-icon`),onMousedown:Je(e(St),["prevent"]),onClick:Se},{default:ie(()=>[(F(),be(Na(s.clearIcon)))]),_:1},8,["class","onMousedown"])):ue("v-if",!0)]),_:1},8,["id","model-value","name","size","disabled","placeholder","class","style","readonly","aria-label","tabindex","onFocus","onBlur"]))]),content:ie(()=>[me(s.$slots,"default",{visible:e(P),actualVisible:e(p),parsedValue:e(B),format:s.format,dateFormat:s.dateFormat,timeFormat:s.timeFormat,unlinkPanels:s.unlinkPanels,type:s.type,defaultValue:s.defaultValue,showNow:s.showNow,showConfirm:s.showConfirm,showFooter:s.showFooter,showWeekNumber:s.showWeekNumber,onPick:j[1]||(j[1]=(...re)=>e(O)&&e(O)(...re)),onSelectRange:ee,onSetPickerOption:j[2]||(j[2]=(...re)=>e(V)&&e(V)(...re)),onCalendarChange:j[3]||(j[3]=(...re)=>e(A)&&e(A)(...re)),onClear:Se,onPanelChange:j[4]||(j[4]=(...re)=>e(L)&&e(L)(...re)),onMousedown:j[5]||(j[5]=Je(()=>{},["stop"]))})]),_:3},16,["visible","transition","popper-class","popper-style","popper-options","fallback-placements","placement"]))}});var Gn=Ke(qn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/common/picker.vue"]]);const Zn=Ce({...Wn,datetimeRole:String,parsedValue:{type:de(Object)}}),Jn=({getAvailableHours:t,getAvailableMinutes:d,getAvailableSeconds:l})=>{const a=(u,y,D,M)=>{const C={hour:t,minute:d,second:l};let w=u;return["hour","minute","second"].forEach(T=>{if(C[T]){let x;const m=C[T];switch(T){case"minute":{x=m(w.hour(),y,M);break}case"second":{x=m(w.hour(),w.minute(),y,M);break}default:{x=m(y,M);break}}if(x?.length&&!x.includes(w[T]())){const k=D?0:x.length-1;w=w[T](x[k])}}}),w},n={};return{timePickerOptions:n,getAvailableTime:a,onSetOption:([u,y])=>{n[u]=y}}},st=t=>{const d=(a,n)=>a||n,l=a=>a!==!0;return t.map(d).filter(l)},nn=(t,d,l)=>({getHoursList:(u,y)=>lt(24,t&&(()=>t?.(u,y))),getMinutesList:(u,y,D)=>lt(60,d&&(()=>d?.(u,y,D))),getSecondsList:(u,y,D,M)=>lt(60,l&&(()=>l?.(u,y,D,M)))}),Qn=(t,d,l)=>{const{getHoursList:a,getMinutesList:n,getSecondsList:c}=nn(t,d,l);return{getAvailableHours:(M,C)=>st(a(M,C)),getAvailableMinutes:(M,C,w)=>st(n(M,C,w)),getAvailableSeconds:(M,C,w,T)=>st(c(M,C,w,T))}},Xn=t=>{const d=ne(t.parsedValue);return Oe(()=>t.visible,l=>{l||(d.value=t.parsedValue)}),d},el=Ce({role:{type:String,required:!0},spinnerDate:{type:de(Object),required:!0},showSeconds:{type:Boolean,default:!0},arrowControl:Boolean,amPmMode:{type:de(String),default:""},...ht}),al=["onClick"],tl=["onMouseenter"],nl=Te({__name:"basic-time-spinner",props:el,emits:[Za,"select-range","set-option"],setup(t,{emit:d}){const l=t,a=Pe(Ge),{isRange:n,format:c}=a.props,u=d,y=$e("time"),{getHoursList:D,getMinutesList:M,getSecondsList:C}=nn(l.disabledHours,l.disabledMinutes,l.disabledSeconds);let w=!1;const T=ne(),x=ne(),m=ne(),k=ne(),r={hours:x,minutes:m,seconds:k},v=E(()=>l.showSeconds?It:It.slice(0,2)),B=E(()=>{const{spinnerDate:b}=l,Y=b.hour(),I=b.minute(),J=b.second();return{hours:Y,minutes:I,seconds:J}}),p=E(()=>{const{hours:b,minutes:Y}=e(B),{role:I,spinnerDate:J}=l,_=n?void 0:J;return{hours:D(I,_),minutes:M(b,I,_),seconds:C(b,Y,I,_)}}),g=E(()=>{const{hours:b,minutes:Y,seconds:I}=e(B);return{hours:nt(b,23),minutes:nt(Y,59),seconds:nt(I,59)}}),P=Mn(b=>{w=!1,i(b)},200),o=b=>{if(!!!l.amPmMode)return"";const I=l.amPmMode==="A";let J=b<12?" am":" pm";return I&&(J=J.toUpperCase()),J},$=b=>{let Y=[0,0];const I=c||$a,J=I.indexOf("HH"),_=I.indexOf("mm"),se=I.indexOf("ss");switch(b){case"hours":J!==-1&&(Y=[J,J+2]);break;case"minutes":_!==-1&&(Y=[_,_+2]);break;case"seconds":se!==-1&&(Y=[se,se+2]);break}const[oe,pe]=Y;u("select-range",oe,pe),T.value=b},i=b=>{A(b,e(B)[b])},O=()=>{i("hours"),i("minutes"),i("seconds")},V=b=>b.querySelector(`.${y.namespace.value}-scrollbar__wrap`),A=(b,Y)=>{if(l.arrowControl)return;const I=e(r[b]);I&&I.$el&&(V(I.$el).scrollTop=Math.max(0,Y*L(b)))},L=b=>{const Y=e(r[b]),I=Y?.$el.querySelector("li");return I&&Number.parseFloat(mn(I,"height"))||0},W=()=>{te(1)},H=()=>{te(-1)},te=b=>{T.value||$("hours");const Y=T.value,I=e(B)[Y],J=T.value==="hours"?24:60,_=le(Y,I,b,J);ce(Y,_),A(Y,_),Ye(()=>$(Y))},le=(b,Y,I,J)=>{let _=(Y+I+J)%J;const se=e(p)[b];for(;se[_]&&_!==Y;)_=(_+I+J)%J;return _},ce=(b,Y)=>{if(e(p)[b][Y])return;const{hours:_,minutes:se,seconds:oe}=e(B);let pe;switch(b){case"hours":pe=l.spinnerDate.hour(Y).minute(se).second(oe);break;case"minutes":pe=l.spinnerDate.hour(_).minute(Y).second(oe);break;case"seconds":pe=l.spinnerDate.hour(_).minute(se).second(Y);break}u(Za,pe)},K=(b,{value:Y,disabled:I})=>{I||(ce(b,Y),$(b),A(b,Y))},h=b=>{const Y=e(r[b]);if(!Y)return;w=!0,P(b);const I=Math.min(Math.round((V(Y.$el).scrollTop-(q(b)*.5-10)/L(b)+3)/L(b)),b==="hours"?23:59);ce(b,I)},q=b=>e(r[b]).$el.offsetHeight,N=()=>{const b=Y=>{const I=e(r[Y]);I&&I.$el&&(V(I.$el).onscroll=()=>{h(Y)})};b("hours"),b("minutes"),b("seconds")};pn(()=>{Ye(()=>{!l.arrowControl&&N(),O(),l.role==="start"&&$("hours")})});const ee=(b,Y)=>{r[Y].value=b??void 0};return u("set-option",[`${l.role}_scrollDown`,te]),u("set-option",[`${l.role}_emitSelectRange`,$]),Oe(()=>l.spinnerDate,()=>{w||O()}),(b,Y)=>(F(),X("div",{class:S([e(y).b("spinner"),{"has-seconds":b.showSeconds}])},[b.arrowControl?ue("v-if",!0):(F(!0),X(ge,{key:0},Ve(v.value,I=>(F(),be(e(Pn),{key:I,ref_for:!0,ref:J=>ee(J,I),class:S(e(y).be("spinner","wrapper")),"wrap-style":"max-height: inherit;","view-class":e(y).be("spinner","list"),noresize:"",tag:"ul",onMouseenter:J=>$(I),onMousemove:J=>i(I)},{default:ie(()=>[(F(!0),X(ge,null,Ve(p.value[I],(J,_)=>(F(),X("li",{key:_,class:S([e(y).be("spinner","item"),e(y).is("active",_===B.value[I]),e(y).is("disabled",J)]),onClick:se=>K(I,{value:_,disabled:J})},[I==="hours"?(F(),X(ge,{key:0},[na(he(("0"+(b.amPmMode?_%12||12:_)).slice(-2))+he(o(_)),1)],64)):(F(),X(ge,{key:1},[na(he(("0"+_).slice(-2)),1)],64))],10,al))),128))]),_:2},1032,["class","view-class","onMouseenter","onMousemove"]))),128)),b.arrowControl?(F(!0),X(ge,{key:1},Ve(v.value,I=>(F(),X("div",{key:I,class:S([e(y).be("spinner","wrapper"),e(y).is("arrow")]),onMouseenter:J=>$(I)},[Re((F(),be(e(ye),{class:S(["arrow-up",e(y).be("spinner","arrow")])},{default:ie(()=>[G(e(hn))]),_:1},8,["class"])),[[e(Mt),H]]),Re((F(),be(e(ye),{class:S(["arrow-down",e(y).be("spinner","arrow")])},{default:ie(()=>[G(e(bn))]),_:1},8,["class"])),[[e(Mt),W]]),Z("ul",{class:S(e(y).be("spinner","list"))},[(F(!0),X(ge,null,Ve(g.value[I],(J,_)=>(F(),X("li",{key:_,class:S([e(y).be("spinner","item"),e(y).is("active",J===B.value[I]),e(y).is("disabled",p.value[I][J])])},[e(yn)(J)?(F(),X(ge,{key:0},[I==="hours"?(F(),X(ge,{key:0},[na(he(("0"+(b.amPmMode?J%12||12:J)).slice(-2))+he(o(J)),1)],64)):(F(),X(ge,{key:1},[na(he(("0"+J).slice(-2)),1)],64))],64)):ue("v-if",!0)],2))),128))],2)],42,tl))),128)):ue("v-if",!0)],2))}});var ll=Ke(nl,[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/time-picker-com/basic-time-spinner.vue"]]);const sl=Te({__name:"panel-time-pick",props:Zn,emits:["pick","select-range","set-picker-option"],setup(t,{emit:d}){const l=t,a=d,n=Pe(Ge),{arrowControl:c,disabledHours:u,disabledMinutes:y,disabledSeconds:D,defaultValue:M}=n.props,{getAvailableHours:C,getAvailableMinutes:w,getAvailableSeconds:T}=Qn(u,y,D),x=$e("time"),{t:m,lang:k}=_e(),r=ne([0,2]),v=Xn(l),B=E(()=>Kt(l.actualVisible)?`${x.namespace.value}-zoom-in-top`:""),p=E(()=>l.format.includes("ss")),g=E(()=>l.format.includes("A")?"A":l.format.includes("a")?"a":""),P=K=>{const h=Q(K).locale(k.value),q=te(h);return h.isSame(q)},o=()=>{const K=v.value;a("pick",K,!1),Ye(()=>{v.value=K})},$=(K=!1,h=!1)=>{h||a("pick",l.parsedValue,K)},i=K=>{if(!l.visible)return;const h=te(K).millisecond(0);a("pick",h,!0)},O=(K,h)=>{a("select-range",K,h),r.value=[K,h]},V=K=>{const h=l.format,q=h.indexOf("HH"),N=h.indexOf("mm"),ee=h.indexOf("ss"),b=[],Y=[];q!==-1&&(b.push(q),Y.push("hours")),N!==-1&&(b.push(N),Y.push("minutes")),ee!==-1&&p.value&&(b.push(ee),Y.push("seconds"));const J=(b.indexOf(r.value[0])+K+b.length)%b.length;L.start_emitSelectRange(Y[J])},A=K=>{const h=mt(K),{left:q,right:N,up:ee,down:b}=we;if([q,N].includes(h)){V(h===q?-1:1),K.preventDefault();return}if([ee,b].includes(h)){const Y=h===ee?-1:1;L.start_scrollDown(Y),K.preventDefault();return}},{timePickerOptions:L,onSetOption:W,getAvailableTime:H}=Jn({getAvailableHours:C,getAvailableMinutes:w,getAvailableSeconds:T}),te=K=>H(K,l.datetimeRole||"",!0),le=K=>K?Q(K,l.format).locale(k.value):null,ce=()=>Q(M).locale(k.value);return a("set-picker-option",["isValidValue",P]),a("set-picker-option",["parseUserInput",le]),a("set-picker-option",["handleKeydownInput",A]),a("set-picker-option",["getRangeAvailableTime",te]),a("set-picker-option",["getDefaultValue",ce]),(K,h)=>(F(),be(kn,{name:B.value},{default:ie(()=>[K.actualVisible||K.visible?(F(),X("div",{key:0,class:S(e(x).b("panel"))},[Z("div",{class:S([e(x).be("panel","content"),{"has-seconds":p.value}])},[G(ll,{ref:"spinner",role:K.datetimeRole||"start","arrow-control":e(c),"show-seconds":p.value,"am-pm-mode":g.value,"spinner-date":K.parsedValue,"disabled-hours":e(u),"disabled-minutes":e(y),"disabled-seconds":e(D),onChange:i,onSetOption:e(W),onSelectRange:O},null,8,["role","arrow-control","show-seconds","am-pm-mode","spinner-date","disabled-hours","disabled-minutes","disabled-seconds","onSetOption"])],2),Z("div",{class:S(e(x).be("panel","footer"))},[Z("button",{type:"button",class:S([e(x).be("panel","btn"),"cancel"]),onClick:o},he(e(m)("el.datepicker.cancel")),3),Z("button",{type:"button",class:S([e(x).be("panel","btn"),"confirm"]),onClick:h[0]||(h[0]=q=>$())},he(e(m)("el.datepicker.confirm")),3)],2)],2)):ue("v-if",!0)]),_:1},8,["name"]))}});var dt=Ke(sl,[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/time-picker-com/panel-time-pick.vue"]]),Wa={exports:{}},rl=Wa.exports,xt;function ol(){return xt||(xt=1,(function(t,d){(function(l,a){t.exports=a()})(rl,(function(){return function(l,a){var n=a.prototype,c=n.format;n.format=function(u){var y=this,D=this.$locale();if(!this.isValid())return c.bind(this)(u);var M=this.$utils(),C=(u||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,(function(w){switch(w){case"Q":return Math.ceil((y.$M+1)/3);case"Do":return D.ordinal(y.$D);case"gggg":return y.weekYear();case"GGGG":return y.isoWeekYear();case"wo":return D.ordinal(y.week(),"W");case"w":case"ww":return M.s(y.week(),w==="w"?1:2,"0");case"W":case"WW":return M.s(y.isoWeek(),w==="W"?1:2,"0");case"k":case"kk":return M.s(String(y.$H===0?24:y.$H),w==="k"?1:2,"0");case"X":return Math.floor(y.$d.getTime()/1e3);case"x":return y.$d.getTime();case"z":return"["+y.offsetName()+"]";case"zzz":return"["+y.offsetName("long")+"]";default:return w}}));return c.bind(this)(C)}}}))})(Wa)),Wa.exports}var il=ol();const ul=la(il);var Ka={exports:{}},dl=Ka.exports,Nt;function cl(){return Nt||(Nt=1,(function(t,d){(function(l,a){t.exports=a()})(dl,(function(){var l="week",a="year";return function(n,c,u){var y=c.prototype;y.week=function(D){if(D===void 0&&(D=null),D!==null)return this.add(7*(D-this.week()),"day");var M=this.$locale().yearStart||1;if(this.month()===11&&this.date()>25){var C=u(this).startOf(a).add(1,a).date(M),w=u(this).endOf(l);if(C.isBefore(w))return 1}var T=u(this).startOf(a).date(M).startOf(l).subtract(1,"millisecond"),x=this.diff(T,l,!0);return x<0?u(this).startOf("week").week():Math.ceil(x)},y.weeks=function(D){return D===void 0&&(D=null),this.week(D)}}}))})(Ka)),Ka.exports}var vl=cl();const fl=la(vl);var Ua={exports:{}},ml=Ua.exports,Ft;function pl(){return Ft||(Ft=1,(function(t,d){(function(l,a){t.exports=a()})(ml,(function(){return function(l,a){a.prototype.weekYear=function(){var n=this.month(),c=this.week(),u=this.year();return c===1&&n===11?u+1:n===0&&c>=52?u-1:u}}}))})(Ua)),Ua.exports}var hl=pl();const bl=la(hl);var ja={exports:{}},yl=ja.exports,_t;function kl(){return _t||(_t=1,(function(t,d){(function(l,a){t.exports=a()})(yl,(function(){return function(l,a,n){a.prototype.dayOfYear=function(c){var u=Math.round((n(this).startOf("day")-n(this).startOf("year"))/864e5)+1;return c==null?u:this.add(c-u,"day")}}}))})(ja)),ja.exports}var gl=kl();const wl=la(gl);var Ha={exports:{}},Dl=Ha.exports,Et;function Cl(){return Et||(Et=1,(function(t,d){(function(l,a){t.exports=a()})(Dl,(function(){return function(l,a){a.prototype.isSameOrAfter=function(n,c){return this.isSame(n,c)||this.isAfter(n,c)}}}))})(Ha)),Ha.exports}var Sl=Cl();const Pl=la(Sl);var za={exports:{}},Ml=za.exports,At;function Vl(){return At||(At=1,(function(t,d){(function(l,a){t.exports=a()})(Ml,(function(){return function(l,a){a.prototype.isSameOrBefore=function(n,c){return this.isSame(n,c)||this.isBefore(n,c)}}}))})(za)),za.exports}var $l=Vl();const Ol=la($l),Yl=Ce({valueFormat:String,dateFormat:String,timeFormat:String,disabled:{type:Boolean,default:void 0},modelValue:{type:de([Date,Array,String,Number]),default:""},defaultValue:{type:de([Date,Array])},defaultTime:{type:de([Date,Array])},isRange:Boolean,...ht,disabledDate:{type:Function},cellClassName:{type:Function},shortcuts:{type:Array,default:()=>[]},arrowControl:Boolean,unlinkPanels:Boolean,showNow:{type:Boolean,default:!0},showConfirm:Boolean,showFooter:Boolean,showWeekNumber:Boolean,type:{type:de(String),default:"date"},clearable:{type:Boolean,default:!0},border:{type:Boolean,default:!0},editable:{type:Boolean,default:!0}}),bt=Symbol("rootPickerContextKey"),Ia="ElIsDefaultFormat",Rl=["date","dates","year","years","month","months","week","range"],yt=Ce({cellClassName:{type:de(Function)},disabledDate:{type:de(Function)},date:{type:de(Object),required:!0},minDate:{type:de(Object)},maxDate:{type:de(Object)},parsedValue:{type:de([Object,Array])},rangeState:{type:de(Object),default:()=>({endDate:null,selecting:!1})},disabled:Boolean}),ln=Ce({type:{type:de(String),required:!0,values:Fn},dateFormat:String,timeFormat:String,showNow:{type:Boolean,default:!0},showConfirm:Boolean,showFooter:{type:Boolean,default:!0},showWeekNumber:Boolean,border:Boolean,disabled:Boolean,editable:{type:Boolean,default:!0}}),kt=Ce({unlinkPanels:Boolean,visible:{type:Boolean,default:!0},showConfirm:Boolean,showFooter:{type:Boolean,default:!0},border:Boolean,disabled:Boolean,parsedValue:{type:de(Array)}}),gt=t=>({type:String,values:Rl,default:t}),Tl=Ce({...ln,parsedValue:{type:de([Object,Array])},visible:{type:Boolean,default:!0},format:{type:String,default:""}}),Oa=t=>{if(!De(t))return!1;const[d,l]=t;return Q.isDayjs(d)&&Q.isDayjs(l)&&Q(d).isValid()&&Q(l).isValid()&&d.isSameOrBefore(l)},et=(t,{lang:d,step:l=1,unit:a,unlinkPanels:n})=>{let c;if(De(t)){let[u,y]=t.map(D=>Q(D).locale(d));return n||(y=u.add(l,a)),[u,y]}else t?c=Q(t):c=Q();return c=c.locale(d),[c,c.add(l,a)]},Il=(t,d,{columnIndexOffset:l,startDate:a,nextEndDate:n,now:c,unit:u,relativeDateGetter:y,setCellMetadata:D,setRowMetadata:M})=>{for(let C=0;C<t.row;C++){const w=d[C];for(let T=0;T<t.column;T++){let x=w[T+l];x||(x={row:C,column:T,type:"normal",inRange:!1,start:!1,end:!1});const m=C*t.column+T,k=y(m);x.dayjs=k,x.date=k.toDate(),x.timestamp=k.valueOf(),x.type="normal",x.inRange=!!(a&&k.isSameOrAfter(a,u)&&n&&k.isSameOrBefore(n,u))||!!(a&&k.isSameOrBefore(a,u)&&n&&k.isSameOrAfter(n,u)),a?.isSameOrAfter(n)?(x.start=!!n&&k.isSame(n,u),x.end=a&&k.isSame(a,u)):(x.start=!!a&&k.isSame(a,u),x.end=!!n&&k.isSame(n,u)),k.isSame(c,u)&&(x.type="today"),D?.(x,{rowIndex:C,columnIndex:T}),w[T+l]=x}M?.(w)}},Ja=(t,d,l,a)=>{const n=Q().locale(a).startOf("month").month(l).year(d).hour(t.hour()).minute(t.minute()).second(t.second()),c=n.daysInMonth();return Gt(c).map(u=>n.add(u,"day").toDate())},ga=(t,d,l,a,n)=>{const c=Q().year(d).month(l).startOf("month").hour(t.hour()).minute(t.minute()).second(t.second()),u=Ja(t,d,l,a).find(y=>!n?.(y));return u?Q(u).locale(a):c.locale(a)},Qa=(t,d,l)=>{const a=t.year();if(!l?.(t.toDate()))return t.locale(d);const n=t.month();if(!Ja(t,a,n,d).every(l))return ga(t,a,n,d,l);for(let c=0;c<12;c++)if(!Ja(t,a,c,d).every(l))return ga(t,a,c,d,l);return t},wa=(t,d,l,a)=>{if(De(t))return t.map(n=>wa(n,d,l,a));if(gn(t)){const n=a?.value?Q(t):Q(t,d);if(!n.isValid())return n}return Q(t,d).locale(l)},xl=Ce({...yt,showWeekNumber:Boolean,selectionMode:gt("date")}),Nl=["changerange","pick","select"],Xa=(t="")=>["normal","today"].includes(t),Fl=(t,d)=>{const{lang:l}=_e(),a=ne(),n=ne(),c=ne(),u=ne(),y=ne([[],[],[],[],[],[]]);let D=!1;const M=t.date.$locale().weekStart||7,C=t.date.locale("en").localeData().weekdaysShort().map(h=>h.toLowerCase()),w=E(()=>M>3?7-M:-M),T=E(()=>{const h=t.date.startOf("month");return h.subtract(h.day()||7,"day")}),x=E(()=>C.concat(C).slice(M,M+7)),m=E(()=>Sn(e(g)).some(h=>h.isCurrent)),k=E(()=>{const h=t.date.startOf("month"),q=h.day()||7,N=h.daysInMonth(),ee=h.subtract(1,"month").daysInMonth();return{startOfMonthDay:q,dateCountOfMonth:N,dateCountOfLastMonth:ee}}),r=E(()=>t.selectionMode==="dates"?Fe(t.parsedValue):[]),v=(h,{count:q,rowIndex:N,columnIndex:ee})=>{const{startOfMonthDay:b,dateCountOfMonth:Y,dateCountOfLastMonth:I}=e(k),J=e(w);if(N>=0&&N<=1){const _=b+J<0?7+b+J:b+J;if(ee+N*7>=_)return h.text=q,!0;h.text=I-(_-ee%7)+1+N*7,h.type="prev-month"}else return q<=Y?h.text=q:(h.text=q-Y,h.type="next-month"),!0;return!1},B=(h,{columnIndex:q,rowIndex:N},ee)=>{const{disabledDate:b,cellClassName:Y}=t,I=e(r),J=v(h,{count:ee,rowIndex:N,columnIndex:q}),_=h.dayjs.toDate();return h.selected=I.find(se=>se.isSame(h.dayjs,"day")),h.isSelected=!!h.selected,h.isCurrent=o(h),h.disabled=b?.(_),h.customClass=Y?.(_),J},p=h=>{if(t.selectionMode==="week"){const[q,N]=t.showWeekNumber?[1,7]:[0,6],ee=K(h[q+1]);h[q].inRange=ee,h[q].start=ee,h[N].inRange=ee,h[N].end=ee}},g=E(()=>{const{minDate:h,maxDate:q,rangeState:N,showWeekNumber:ee}=t,b=e(w),Y=e(y),I="day";let J=1;if(Il({row:6,column:7},Y,{startDate:h,columnIndexOffset:ee?1:0,nextEndDate:N.endDate||q||N.selecting&&h||null,now:Q().locale(e(l)).startOf(I),unit:I,relativeDateGetter:_=>e(T).add(_-b,I),setCellMetadata:(..._)=>{B(..._,J)&&(J+=1)},setRowMetadata:p}),ee)for(let _=0;_<6;_++)Y[_][1].dayjs&&(Y[_][0]={type:"week",text:Y[_][1].dayjs.week()});return Y});Oe(()=>t.date,async()=>{var h;(h=e(a))!=null&&h.contains(document.activeElement)&&(await Ye(),await P())});const P=async()=>{var h;return(h=e(n))==null?void 0:h.focus()},o=h=>t.selectionMode==="date"&&Xa(h.type)&&$(h,t.parsedValue),$=(h,q)=>q?Q(q).locale(e(l)).isSame(t.date.date(Number(h.text)),"day"):!1,i=(h,q)=>{const N=h*7+(q-(t.showWeekNumber?1:0))-e(w);return e(T).add(N,"day")},O=h=>{var q;if(!t.rangeState.selecting)return;let N=h.target;if(N.tagName==="SPAN"&&(N=(q=N.parentNode)==null?void 0:q.parentNode),N.tagName==="DIV"&&(N=N.parentNode),N.tagName!=="TD")return;const ee=N.parentNode.rowIndex-1,b=N.cellIndex;e(g)[ee][b].disabled||(ee!==e(c)||b!==e(u))&&(c.value=ee,u.value=b,d("changerange",{selecting:!0,endDate:i(ee,b)}))},V=h=>!e(m)&&h?.text===1&&Xa(h.type)||h.isCurrent,A=h=>{D||e(m)||t.selectionMode!=="date"||ce(h,!0)},L=h=>{h.target.closest("td")&&(D=!0)},W=h=>{h.target.closest("td")&&(D=!1)},H=h=>{!t.rangeState.selecting||!t.minDate?(d("pick",{minDate:h,maxDate:null}),d("select",!0)):(h>=t.minDate?d("pick",{minDate:t.minDate,maxDate:h}):d("pick",{minDate:h,maxDate:t.minDate}),d("select",!1))},te=h=>{const q=h.week(),N=`${h.year()}w${q}`;d("pick",{year:h.year(),week:q,value:N,date:h.startOf("week")})},le=(h,q)=>{const N=q?Fe(t.parsedValue).filter(ee=>ee?.valueOf()!==h.valueOf()):Fe(t.parsedValue).concat([h]);d("pick",N)},ce=(h,q=!1)=>{if(t.disabled)return;const N=h.target.closest("td");if(!N)return;const ee=N.parentNode.rowIndex-1,b=N.cellIndex,Y=e(g)[ee][b];if(Y.disabled||Y.type==="week")return;const I=i(ee,b);switch(t.selectionMode){case"range":{H(I);break}case"date":{d("pick",I,q);break}case"week":{te(I);break}case"dates":{le(I,!!Y.selected);break}}},K=h=>{if(t.selectionMode!=="week")return!1;let q=t.date.startOf("day");if(h.type==="prev-month"&&(q=q.subtract(1,"month")),h.type==="next-month"&&(q=q.add(1,"month")),q=q.date(Number.parseInt(h.text,10)),t.parsedValue&&!De(t.parsedValue)){const N=(t.parsedValue.day()-M+7)%7-1;return t.parsedValue.subtract(N,"day").isSame(q,"day")}return!1};return{WEEKS:x,rows:g,tbodyRef:a,currentCellRef:n,focus:P,isCurrent:o,isWeekActive:K,isSelectedCell:V,handlePickDate:ce,handleMouseUp:W,handleMouseDown:L,handleMouseMove:O,handleFocus:A}},_l=(t,{isCurrent:d,isWeekActive:l})=>{const a=$e("date-table"),{t:n}=_e(),c=E(()=>[a.b(),a.is("week-mode",t.selectionMode==="week"&&!t.disabled)]),u=E(()=>n("el.datepicker.dateTablePrompt")),y=M=>{const C=[];return Xa(M.type)&&!M.disabled?(C.push("available"),M.type==="today"&&C.push("today")):C.push(M.type),d(M)&&C.push("current"),M.inRange&&(Xa(M.type)||t.selectionMode==="week")&&(C.push("in-range"),M.start&&C.push("start-date"),M.end&&C.push("end-date")),(M.disabled||t.disabled)&&C.push("disabled"),M.selected&&C.push("selected"),M.customClass&&C.push(M.customClass),C.join(" ")},D=M=>[a.e("row"),{current:l(M)}];return{tableKls:c,tableLabel:u,weekHeaderClass:a.e("week-header"),getCellClasses:y,getRowKls:D,t:n}},El=Ce({cell:{type:de(Object)}});var wt=Te({name:"ElDatePickerCell",props:El,setup(t){const d=$e("date-table-cell"),{slots:l}=Pe(bt);return()=>{const{cell:a}=t;return me(l,"default",{...a},()=>{var n;return[G("div",{class:d.b()},[G("span",{class:d.e("text")},[(n=a?.renderText)!=null?n:a?.text])])]})}}});const Al=["aria-label"],Bl=["aria-label"],Ll=["aria-current","aria-selected","tabindex","aria-disabled"],Wl=Te({__name:"basic-date-table",props:xl,emits:Nl,setup(t,{expose:d,emit:l}){const a=t,n=l,{WEEKS:c,rows:u,tbodyRef:y,currentCellRef:D,focus:M,isCurrent:C,isWeekActive:w,isSelectedCell:T,handlePickDate:x,handleMouseUp:m,handleMouseDown:k,handleMouseMove:r,handleFocus:v}=Fl(a,n),{tableLabel:B,tableKls:p,getCellClasses:g,getRowKls:P,weekHeaderClass:o,t:$}=_l(a,{isCurrent:C,isWeekActive:w});let i=!1;return Wt(()=>{i=!0}),d({focus:M}),(O,V)=>(F(),X("table",{"aria-label":e(B),class:S(e(p)),cellspacing:"0",cellpadding:"0",role:"grid",onClick:V[1]||(V[1]=(...A)=>e(x)&&e(x)(...A)),onMousemove:V[2]||(V[2]=(...A)=>e(r)&&e(r)(...A)),onMousedown:V[3]||(V[3]=(...A)=>e(k)&&e(k)(...A)),onMouseup:V[4]||(V[4]=(...A)=>e(m)&&e(m)(...A))},[Z("tbody",{ref_key:"tbodyRef",ref:y},[Z("tr",null,[O.showWeekNumber?(F(),X("th",{key:0,scope:"col",class:S(e(o))},null,2)):ue("v-if",!0),(F(!0),X(ge,null,Ve(e(c),(A,L)=>(F(),X("th",{key:L,"aria-label":e($)("el.datepicker.weeksFull."+A),scope:"col"},he(e($)("el.datepicker.weeks."+A)),9,Bl))),128))]),(F(!0),X(ge,null,Ve(e(u),(A,L)=>(F(),X("tr",{key:L,class:S(e(P)(O.showWeekNumber?A[2]:A[1]))},[(F(!0),X(ge,null,Ve(A,(W,H)=>(F(),X("td",{key:`${L}.${H}`,ref_for:!0,ref:te=>!e(i)&&e(T)(W)&&(D.value=te),class:S(e(g)(W)),"aria-current":W.isCurrent?"date":void 0,"aria-selected":W.isCurrent,tabindex:O.disabled?void 0:e(T)(W)?0:-1,"aria-disabled":O.disabled,onFocus:V[0]||(V[0]=(...te)=>e(v)&&e(v)(...te))},[G(e(wt),{cell:W},null,8,["cell"])],42,Ll))),128))],2))),128))],512)],42,Al))}});var ct=Ke(Wl,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker-panel/src/date-picker-com/basic-date-table.vue"]]);const Kl=Ce({...yt,selectionMode:gt("month")}),Ul=["aria-label"],jl=["aria-selected","aria-label","tabindex","onKeydown"],Hl=Te({__name:"basic-month-table",props:Kl,emits:["changerange","pick","select"],setup(t,{expose:d,emit:l}){const a=t,n=l,c=$e("month-table"),{t:u,lang:y}=_e(),D=ne(),M=ne(),C=ne(a.date.locale("en").localeData().monthsShort().map(g=>g.toLowerCase())),w=ne([[],[],[]]),T=ne(),x=ne(),m=E(()=>{var g,P,o;const $=w.value,i=Q().locale(y.value).startOf("month");for(let O=0;O<3;O++){const V=$[O];for(let A=0;A<4;A++){const L=V[A]||(V[A]={row:O,column:A,type:"normal",inRange:!1,start:!1,end:!1,text:-1,disabled:!1,isSelected:!1,customClass:void 0,date:void 0,dayjs:void 0,isCurrent:void 0,selected:void 0,renderText:void 0,timestamp:void 0});L.type="normal";const W=O*4+A,H=a.date.startOf("year").month(W),te=a.rangeState.endDate||a.maxDate||a.rangeState.selecting&&a.minDate||null;L.inRange=!!(a.minDate&&H.isSameOrAfter(a.minDate,"month")&&te&&H.isSameOrBefore(te,"month"))||!!(a.minDate&&H.isSameOrBefore(a.minDate,"month")&&te&&H.isSameOrAfter(te,"month")),(g=a.minDate)!=null&&g.isSameOrAfter(te)?(L.start=!!(te&&H.isSame(te,"month")),L.end=a.minDate&&H.isSame(a.minDate,"month")):(L.start=!!(a.minDate&&H.isSame(a.minDate,"month")),L.end=!!(te&&H.isSame(te,"month"))),i.isSame(H)&&(L.type="today");const ce=H.toDate();L.text=W,L.disabled=((P=a.disabledDate)==null?void 0:P.call(a,ce))||!1,L.date=ce,L.customClass=(o=a.cellClassName)==null?void 0:o.call(a,ce),L.dayjs=H,L.timestamp=H.valueOf(),L.isSelected=v(L)}}return $}),k=()=>{var g;(g=M.value)==null||g.focus()},r=g=>{const P={},o=a.date.year(),$=new Date,i=g.text;return P.disabled=a.disabled||(a.disabledDate?Ja(a.date,o,i,y.value).every(a.disabledDate):!1),P.current=Fe(a.parsedValue).some(O=>Q.isDayjs(O)&&O.year()===o&&O.month()===i),P.today=$.getFullYear()===o&&$.getMonth()===i,g.customClass&&(P[g.customClass]=!0),g.inRange&&(P["in-range"]=!0,g.start&&(P["start-date"]=!0),g.end&&(P["end-date"]=!0)),P},v=g=>{const P=a.date.year(),o=g.text;return Fe(a.date).some($=>$.year()===P&&$.month()===o)},B=g=>{var P;if(!a.rangeState.selecting)return;let o=g.target;if(o.tagName==="SPAN"&&(o=(P=o.parentNode)==null?void 0:P.parentNode),o.tagName==="DIV"&&(o=o.parentNode),o.tagName!=="TD")return;const $=o.parentNode.rowIndex,i=o.cellIndex;m.value[$][i].disabled||($!==T.value||i!==x.value)&&(T.value=$,x.value=i,n("changerange",{selecting:!0,endDate:a.date.startOf("year").month($*4+i)}))},p=g=>{var P;if(a.disabled)return;const o=(P=g.target)==null?void 0:P.closest("td");if(o?.tagName!=="TD"||qa(o,"disabled"))return;const $=o.cellIndex,O=o.parentNode.rowIndex*4+$,V=a.date.startOf("year").month(O);if(a.selectionMode==="months"){if(g.type==="keydown"){n("pick",Fe(a.parsedValue),!1);return}const A=ga(a.date,a.date.year(),O,y.value,a.disabledDate),L=qa(o,"current")?Fe(a.parsedValue).filter(W=>W?.year()!==A.year()||W?.month()!==A.month()):Fe(a.parsedValue).concat([Q(A)]);n("pick",L)}else a.selectionMode==="range"?a.rangeState.selecting?(a.minDate&&V>=a.minDate?n("pick",{minDate:a.minDate,maxDate:V}):n("pick",{minDate:V,maxDate:a.minDate}),n("select",!1)):(n("pick",{minDate:V,maxDate:null}),n("select",!0)):n("pick",O)};return Oe(()=>a.date,async()=>{var g,P;(g=D.value)!=null&&g.contains(document.activeElement)&&(await Ye(),(P=M.value)==null||P.focus())}),d({focus:k}),(g,P)=>(F(),X("table",{role:"grid","aria-label":e(u)("el.datepicker.monthTablePrompt"),class:S(e(c).b()),onClick:p,onMousemove:B},[Z("tbody",{ref_key:"tbodyRef",ref:D},[(F(!0),X(ge,null,Ve(m.value,(o,$)=>(F(),X("tr",{key:$},[(F(!0),X(ge,null,Ve(o,(i,O)=>(F(),X("td",{key:O,ref_for:!0,ref:V=>i.isSelected&&(M.value=V),class:S(r(i)),"aria-selected":!!i.isSelected,"aria-label":e(u)(`el.datepicker.month${+i.text+1}`),tabindex:i.isSelected?0:-1,onKeydown:[qe(Je(p,["prevent","stop"]),["space"]),qe(Je(p,["prevent","stop"]),["enter"])]},[G(e(wt),{cell:{...i,renderText:e(u)("el.datepicker.months."+C.value[i.text])}},null,8,["cell"])],42,jl))),128))]))),128))],512)],42,Ul))}});var Ya=Ke(Hl,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker-panel/src/date-picker-com/basic-month-table.vue"]]);const zl=Ce({...yt,selectionMode:gt("year")}),ql=["aria-label"],Gl=["aria-selected","aria-label","tabindex","onKeydown"],Zl=Te({__name:"basic-year-table",props:zl,emits:["changerange","pick","select"],setup(t,{expose:d,emit:l}){const a=(P,o)=>{const $=Q(String(P)).locale(o).startOf("year"),O=$.endOf("year").dayOfYear();return Gt(O).map(V=>$.add(V,"day").toDate())},n=t,c=l,u=$e("year-table"),{t:y,lang:D}=_e(),M=ne(),C=ne(),w=E(()=>Math.floor(n.date.year()/10)*10),T=ne([[],[],[]]),x=ne(),m=ne(),k=E(()=>{var P,o,$;const i=T.value,O=Q().locale(D.value).startOf("year");for(let V=0;V<3;V++){const A=i[V];for(let L=0;L<4&&!(V*4+L>=10);L++){let W=A[L];W||(W={row:V,column:L,type:"normal",inRange:!1,start:!1,end:!1,text:-1,disabled:!1,isSelected:!1,customClass:void 0,date:void 0,dayjs:void 0,isCurrent:void 0,selected:void 0,renderText:void 0,timestamp:void 0}),W.type="normal";const H=V*4+L+w.value,te=Q().year(H),le=n.rangeState.endDate||n.maxDate||n.rangeState.selecting&&n.minDate||null;W.inRange=!!(n.minDate&&te.isSameOrAfter(n.minDate,"year")&&le&&te.isSameOrBefore(le,"year"))||!!(n.minDate&&te.isSameOrBefore(n.minDate,"year")&&le&&te.isSameOrAfter(le,"year")),(P=n.minDate)!=null&&P.isSameOrAfter(le)?(W.start=!!(le&&te.isSame(le,"year")),W.end=!!(n.minDate&&te.isSame(n.minDate,"year"))):(W.start=!!(n.minDate&&te.isSame(n.minDate,"year")),W.end=!!(le&&te.isSame(le,"year"))),O.isSame(te)&&(W.type="today"),W.text=H;const K=te.toDate();W.disabled=((o=n.disabledDate)==null?void 0:o.call(n,K))||!1,W.date=K,W.customClass=($=n.cellClassName)==null?void 0:$.call(n,K),W.dayjs=te,W.timestamp=te.valueOf(),W.isSelected=B(W),A[L]=W}}return i}),r=()=>{var P;(P=C.value)==null||P.focus()},v=P=>{const o={},$=Q().locale(D.value),i=P.text;return o.disabled=n.disabled||(n.disabledDate?a(i,D.value).every(n.disabledDate):!1),o.today=$.year()===i,o.current=Fe(n.parsedValue).some(O=>O.year()===i),P.customClass&&(o[P.customClass]=!0),P.inRange&&(o["in-range"]=!0,P.start&&(o["start-date"]=!0),P.end&&(o["end-date"]=!0)),o},B=P=>{const o=P.text;return Fe(n.date).some($=>$.year()===o)},p=P=>{var o;if(n.disabled)return;const $=(o=P.target)==null?void 0:o.closest("td");if(!$||!$.textContent||qa($,"disabled"))return;const i=$.cellIndex,V=$.parentNode.rowIndex*4+i+w.value,A=Q().year(V);if(n.selectionMode==="range")n.rangeState.selecting?(n.minDate&&A>=n.minDate?c("pick",{minDate:n.minDate,maxDate:A}):c("pick",{minDate:A,maxDate:n.minDate}),c("select",!1)):(c("pick",{minDate:A,maxDate:null}),c("select",!0));else if(n.selectionMode==="years"){if(P.type==="keydown"){c("pick",Fe(n.parsedValue),!1);return}const L=Qa(A.startOf("year"),D.value,n.disabledDate),W=qa($,"current")?Fe(n.parsedValue).filter(H=>H?.year()!==V):Fe(n.parsedValue).concat([L]);c("pick",W)}else c("pick",V)},g=P=>{var o;if(!n.rangeState.selecting)return;const $=(o=P.target)==null?void 0:o.closest("td");if(!$)return;const i=$.parentNode.rowIndex,O=$.cellIndex;k.value[i][O].disabled||(i!==x.value||O!==m.value)&&(x.value=i,m.value=O,c("changerange",{selecting:!0,endDate:Q().year(w.value).add(i*4+O,"year")}))};return Oe(()=>n.date,async()=>{var P,o;(P=M.value)!=null&&P.contains(document.activeElement)&&(await Ye(),(o=C.value)==null||o.focus())}),d({focus:r}),(P,o)=>(F(),X("table",{role:"grid","aria-label":e(y)("el.datepicker.yearTablePrompt"),class:S(e(u).b()),onClick:p,onMousemove:g},[Z("tbody",{ref_key:"tbodyRef",ref:M},[(F(!0),X(ge,null,Ve(k.value,($,i)=>(F(),X("tr",{key:i},[(F(!0),X(ge,null,Ve($,(O,V)=>(F(),X("td",{key:`${i}_${V}`,ref_for:!0,ref:A=>O.isSelected&&(C.value=A),class:S(["available",v(O)]),"aria-selected":O.isSelected,"aria-label":String(O.text),tabindex:O.isSelected?0:-1,onKeydown:[qe(Je(p,["prevent","stop"]),["space"]),qe(Je(p,["prevent","stop"]),["enter"])]},[G(e(wt),{cell:O},null,8,["cell"])],42,Gl))),128))]))),128))],512)],42,ql))}});var Ra=Ke(Zl,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker-panel/src/date-picker-com/basic-year-table.vue"]]);const Jl=["disabled","onClick"],Ql=["aria-label","disabled"],Xl=["aria-label","disabled"],es=["tabindex","aria-disabled"],as=["tabindex","aria-disabled"],ts=["aria-label","disabled"],ns=["aria-label","disabled"],ls=Te({__name:"panel-date-pick",props:Tl,emits:["pick","set-picker-option","panel-change"],setup(t,{emit:d}){const l=(f,U,s)=>!0,a=t,n=d,c=$e("picker-panel"),u=$e("date-picker"),y=ft(),D=pt(),{t:M,lang:C}=_e(),w=Pe(Ge),T=Pe(Ia,void 0),{shortcuts:x,disabledDate:m,cellClassName:k,defaultTime:r}=w.props,v=We(w.props,"defaultValue"),B=ne(),p=ne(Q().locale(C.value)),g=ne(!1);let P=!1;const o=E(()=>Q(r).locale(C.value)),$=E(()=>p.value.month()),i=E(()=>p.value.year()),O=ne([]),V=ne(null),A=ne(null),L=f=>O.value.length>0?l(f,O.value,a.format||"HH:mm:ss"):!0,W=f=>r&&!Le.value&&!g.value&&!P?o.value.year(f.year()).month(f.month()).date(f.date()):oe.value?f.millisecond(0):f.startOf("day"),H=(f,...U)=>{if(!f)n("pick",f,...U);else if(De(f)){const s=f.map(W);n("pick",s,...U)}else n("pick",W(f),...U);V.value=null,A.value=null,g.value=!1,P=!1},te=async(f,U)=>{if(N.value==="date"&&Q.isDayjs(f)){const s=Pa(a.parsedValue);let j=s?s.year(f.year()).month(f.month()).date(f.date()):f;L(j),p.value=j,H(j,oe.value||U)}else N.value==="week"?H(f.date):N.value==="dates"&&H(f,!0)},le=f=>{const U=f?"add":"subtract";p.value=p.value[U](1,"month"),xe("month")},ce=f=>{const U=p.value,s=f?"add":"subtract";p.value=K.value==="year"?U[s](10,"year"):U[s](1,"year"),xe("year")},K=ne("date"),h=E(()=>{const f=M("el.datepicker.year");if(K.value==="year"){const U=Math.floor(i.value/10)*10;return f?`${U} ${f} - ${U+9} ${f}`:`${U} - ${U+9}`}return`${i.value} ${f}`}),q=f=>{const U=it(f.value)?f.value():f.value;if(U){P=!0,H(Q(U).locale(C.value));return}f.onClick&&f.onClick({attrs:y,slots:D,emit:n})},N=E(()=>{const{type:f}=a;return["week","month","months","year","years","dates"].includes(f)?f:"date"}),ee=E(()=>N.value==="dates"||N.value==="months"||N.value==="years"),b=E(()=>N.value==="date"?K.value:N.value),Y=E(()=>!!x.length),I=async(f,U)=>{N.value==="month"?(p.value=ga(p.value,p.value.year(),f,C.value,m),H(p.value,!1)):N.value==="months"?H(f,U??!0):(p.value=ga(p.value,p.value.year(),f,C.value,m),K.value="date",["month","year","date","week"].includes(N.value)&&(H(p.value,!0),await Ye(),ea())),xe("month")},J=async(f,U)=>{if(N.value==="year"){const s=p.value.startOf("year").year(f);p.value=Qa(s,C.value,m),H(p.value,!1)}else if(N.value==="years")H(f,U??!0);else{const s=p.value.year(f);p.value=Qa(s,C.value,m),K.value="month",["month","year","date","week"].includes(N.value)&&(H(p.value,!0),await Ye(),ea())}xe("year")},_=Ta(),se=async f=>{_.value||(K.value=f,await Ye(),ea())},oe=E(()=>a.type==="datetime"||a.type==="datetimerange"),pe=E(()=>{const f=oe.value||N.value==="dates",U=N.value==="years",s=N.value==="months",j=K.value==="date",re=K.value==="year",ke=K.value==="month";return f&&j||U&&re||s&&ke}),Ee=E(()=>!ee.value&&a.showNow||a.showConfirm),Ue=E(()=>m?a.parsedValue?De(a.parsedValue)?m(a.parsedValue[0].toDate()):m(a.parsedValue.toDate()):!0:!1),je=()=>{if(ee.value)H(a.parsedValue);else{let f=Pa(a.parsedValue);if(!f){const U=Q(r).locale(C.value),s=ve();f=U.year(s.year()).month(s.month()).date(s.date())}p.value=f,H(f)}},Ie=E(()=>m?m(Q().locale(C.value).toDate()):!1),Ae=()=>{const U=Q().locale(C.value).toDate();g.value=!0,(!m||!m(U))&&L(U)&&(p.value=Q().locale(C.value),H(p.value))},Se=E(()=>a.timeFormat||Jt(a.format)||$a),Me=E(()=>a.dateFormat||Zt(a.format)||ta),Le=E(()=>A.value?A.value:!a.parsedValue&&!v.value?void 0:(Pa(a.parsedValue)||p.value).format(Se.value)),He=E(()=>V.value?V.value:!a.parsedValue&&!v.value?void 0:(Pa(a.parsedValue)||p.value).format(Me.value)),Be=ne(!1),Da=()=>{Be.value=!0},sa=()=>{Be.value=!1},ra=f=>({hour:f.hour(),minute:f.minute(),second:f.second(),year:f.year(),month:f.month(),date:f.date()}),ma=(f,U,s)=>{const{hour:j,minute:re,second:ke}=ra(f),Ne=Pa(a.parsedValue),Ca=Ne?Ne.hour(j).minute(re).second(ke):f;p.value=Ca,H(p.value,!0),s||(Be.value=U)},oa=f=>{const U=Q(f,Se.value).locale(C.value);if(U.isValid()&&L(U)){const{year:s,month:j,date:re}=ra(p.value);p.value=U.year(s).month(j).date(re),A.value=null,Be.value=!1,H(p.value,!0)}},Xe=f=>{const U=wa(f,Me.value,C.value,T);if(U.isValid()){if(m&&m(U.toDate()))return;const{hour:s,minute:j,second:re}=ra(p.value);p.value=U.hour(s).minute(j).second(re),V.value=null,H(p.value,!0)}},Ze=f=>Q.isDayjs(f)&&f.isValid()&&(m?!m(f.toDate()):!0),ze=f=>wa(f,a.format,C.value,T),ve=()=>{const f=Q(v.value).locale(C.value);if(!v.value){const U=o.value;return Q().hour(U.hour()).minute(U.minute()).second(U.second()).locale(C.value)}return f},ea=()=>{var f;["week","month","year","date"].includes(N.value)&&((f=B.value)==null||f.focus())},aa=()=>{ea(),N.value==="week"&&ia(we.down)},pa=f=>{const U=mt(f);[we.up,we.down,we.left,we.right,we.home,we.end,we.pageUp,we.pageDown].includes(U)&&(ia(U),f.stopPropagation(),f.preventDefault()),[we.enter,we.space,we.numpadEnter].includes(U)&&V.value===null&&A.value===null&&(f.preventDefault(),H(p.value,!1))},ia=f=>{var U;const{up:s,down:j,left:re,right:ke,home:Ne,end:Ca,pageUp:at,pageDown:tt}=we,xa={year:{[s]:-4,[j]:4,[re]:-1,[ke]:1,offset:(fe,R)=>fe.setFullYear(fe.getFullYear()+R)},month:{[s]:-4,[j]:4,[re]:-1,[ke]:1,offset:(fe,R)=>fe.setMonth(fe.getMonth()+R)},week:{[s]:-1,[j]:1,[re]:-1,[ke]:1,offset:(fe,R)=>fe.setDate(fe.getDate()+R*7)},date:{[s]:-7,[j]:7,[re]:-1,[ke]:1,[Ne]:fe=>-fe.getDay(),[Ca]:fe=>-fe.getDay()+6,[at]:fe=>-new Date(fe.getFullYear(),fe.getMonth(),0).getDate(),[tt]:fe=>new Date(fe.getFullYear(),fe.getMonth()+1,0).getDate(),offset:(fe,R)=>fe.setDate(fe.getDate()+R)}},ua=p.value.toDate();for(;Math.abs(p.value.diff(ua,"year",!0))<1;){const fe=xa[b.value];if(!fe)return;if(fe.offset(ua,it(fe[f])?fe[f](ua):(U=fe[f])!=null?U:0),m&&m(ua))break;const R=Q(ua).locale(C.value);p.value=R,n("pick",R,!0);break}},xe=f=>{n("panel-change",p.value.toDate(),f,K.value)};return Oe(()=>N.value,f=>{if(["month","year"].includes(f)){K.value=f;return}else if(f==="years"){K.value="year";return}else if(f==="months"){K.value="month";return}K.value="date"},{immediate:!0}),Oe(()=>v.value,f=>{f&&(p.value=ve())},{immediate:!0}),Oe(()=>a.parsedValue,f=>{if(f){if(ee.value||De(f))return;p.value=f}else p.value=ve()},{immediate:!0}),n("set-picker-option",["isValidValue",Ze]),n("set-picker-option",["parseUserInput",ze]),n("set-picker-option",["handleFocusPicker",aa]),(f,U)=>(F(),X("div",{class:S([e(c).b(),e(u).b(),e(c).is("border",f.border),e(c).is("disabled",e(_)),{"has-sidebar":f.$slots.sidebar||Y.value,"has-time":oe.value}])},[Z("div",{class:S(e(c).e("body-wrapper"))},[me(f.$slots,"sidebar",{class:S(e(c).e("sidebar"))}),Y.value?(F(),X("div",{key:0,class:S(e(c).e("sidebar"))},[(F(!0),X(ge,null,Ve(e(x),(s,j)=>(F(),X("button",{key:j,type:"button",disabled:e(_),class:S(e(c).e("shortcut")),onClick:re=>q(s)},he(s.text),11,Jl))),128))],2)):ue("v-if",!0),Z("div",{class:S(e(c).e("body"))},[oe.value?(F(),X("div",{key:0,class:S(e(u).e("time-header"))},[Z("span",{class:S(e(u).e("editor-wrap"))},[G(e(ca),{placeholder:e(M)("el.datepicker.selectDate"),"model-value":He.value,size:"small","validate-event":!1,disabled:e(_),readonly:!f.editable,onInput:U[0]||(U[0]=s=>V.value=s),onChange:Xe},null,8,["placeholder","model-value","disabled","readonly"])],2),Re((F(),X("span",{class:S(e(u).e("editor-wrap"))},[G(e(ca),{placeholder:e(M)("el.datepicker.selectTime"),"model-value":Le.value,size:"small","validate-event":!1,disabled:e(_),readonly:!f.editable,onFocus:Da,onInput:U[1]||(U[1]=s=>A.value=s),onChange:oa},null,8,["placeholder","model-value","disabled","readonly"]),G(e(dt),{visible:Be.value,format:Se.value,"parsed-value":p.value,onPick:ma},null,8,["visible","format","parsed-value"])],2)),[[e(ut),sa]])],2)):ue("v-if",!0),Re(Z("div",{class:S([e(u).e("header"),(K.value==="year"||K.value==="month")&&e(u).em("header","bordered")])},[Z("span",{class:S(e(u).e("prev-btn"))},[Z("button",{type:"button","aria-label":e(M)("el.datepicker.prevYear"),class:S(["d-arrow-left",e(c).e("icon-btn")]),disabled:e(_),onClick:U[2]||(U[2]=s=>ce(!1))},[me(f.$slots,"prev-year",{},()=>[G(e(ye),null,{default:ie(()=>[G(e(va))]),_:1})])],10,Ql),Re(Z("button",{type:"button","aria-label":e(M)("el.datepicker.prevMonth"),class:S([e(c).e("icon-btn"),"arrow-left"]),disabled:e(_),onClick:U[3]||(U[3]=s=>le(!1))},[me(f.$slots,"prev-month",{},()=>[G(e(ye),null,{default:ie(()=>[G(e(ot))]),_:1})])],10,Xl),[[Qe,K.value==="date"]])],2),Z("span",{role:"button",class:S(e(u).e("header-label")),"aria-live":"polite",tabindex:f.disabled?void 0:0,"aria-disabled":f.disabled,onKeydown:U[4]||(U[4]=qe(s=>se("year"),["enter"])),onClick:U[5]||(U[5]=s=>se("year"))},he(h.value),43,es),Re(Z("span",{role:"button","aria-live":"polite",tabindex:f.disabled?void 0:0,"aria-disabled":f.disabled,class:S([e(u).e("header-label"),{active:K.value==="month"}]),onKeydown:U[6]||(U[6]=qe(s=>se("month"),["enter"])),onClick:U[7]||(U[7]=s=>se("month"))},he(e(M)(`el.datepicker.month${$.value+1}`)),43,as),[[Qe,K.value==="date"]]),Z("span",{class:S(e(u).e("next-btn"))},[Re(Z("button",{type:"button","aria-label":e(M)("el.datepicker.nextMonth"),class:S([e(c).e("icon-btn"),"arrow-right"]),disabled:e(_),onClick:U[8]||(U[8]=s=>le(!0))},[me(f.$slots,"next-month",{},()=>[G(e(ye),null,{default:ie(()=>[G(e(Ea))]),_:1})])],10,ts),[[Qe,K.value==="date"]]),Z("button",{type:"button","aria-label":e(M)("el.datepicker.nextYear"),class:S([e(c).e("icon-btn"),"d-arrow-right"]),disabled:e(_),onClick:U[9]||(U[9]=s=>ce(!0))},[me(f.$slots,"next-year",{},()=>[G(e(ye),null,{default:ie(()=>[G(e(fa))]),_:1})])],10,ns)],2)],2),[[Qe,K.value!=="time"]]),Z("div",{class:S(e(c).e("content")),onKeydown:pa},[K.value==="date"?(F(),be(ct,{key:0,ref_key:"currentViewRef",ref:B,"selection-mode":N.value,date:p.value,"parsed-value":f.parsedValue,"disabled-date":e(m),disabled:e(_),"cell-class-name":e(k),"show-week-number":f.showWeekNumber,onPick:te},null,8,["selection-mode","date","parsed-value","disabled-date","disabled","cell-class-name","show-week-number"])):ue("v-if",!0),K.value==="year"?(F(),be(Ra,{key:1,ref_key:"currentViewRef",ref:B,"selection-mode":N.value,date:p.value,"disabled-date":e(m),disabled:e(_),"parsed-value":f.parsedValue,"cell-class-name":e(k),onPick:J},null,8,["selection-mode","date","disabled-date","disabled","parsed-value","cell-class-name"])):ue("v-if",!0),K.value==="month"?(F(),be(Ya,{key:2,ref_key:"currentViewRef",ref:B,"selection-mode":N.value,date:p.value,"parsed-value":f.parsedValue,"disabled-date":e(m),disabled:e(_),"cell-class-name":e(k),onPick:I},null,8,["selection-mode","date","parsed-value","disabled-date","disabled","cell-class-name"])):ue("v-if",!0)],34)],2)],2),f.showFooter&&pe.value&&Ee.value?(F(),X("div",{key:0,class:S(e(c).e("footer"))},[Re(G(e(Ga),{text:"",size:"small",class:S(e(c).e("link-btn")),disabled:Ie.value,onClick:Ae},{default:ie(()=>[na(he(e(M)("el.datepicker.now")),1)]),_:1},8,["class","disabled"]),[[Qe,!ee.value&&f.showNow]]),f.showConfirm?(F(),be(e(Ga),{key:0,plain:"",size:"small",class:S(e(c).e("link-btn")),disabled:Ue.value,onClick:je},{default:ie(()=>[na(he(e(M)("el.datepicker.confirm")),1)]),_:1},8,["class","disabled"])):ue("v-if",!0)],2)):ue("v-if",!0)],2))}});var ss=Ke(ls,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker-panel/src/date-picker-com/panel-date-pick.vue"]]);const rs=Ce({...ln,...kt}),os=t=>{const{emit:d}=Ut(),l=ft(),a=pt();return c=>{const u=it(c.value)?c.value():c.value;if(u){d("pick",[Q(u[0]).locale(t.value),Q(u[1]).locale(t.value)]);return}c.onClick&&c.onClick({attrs:l,slots:a,emit:d})}},Dt=(t,{defaultValue:d,defaultTime:l,leftDate:a,rightDate:n,step:c,unit:u,sortDates:y})=>{const{emit:D}=Ut(),{pickerNs:M}=Pe(bt),C=$e("date-range-picker"),{t:w,lang:T}=_e(),x=os(T),m=ne(),k=ne(),r=ne({endDate:null,selecting:!1}),v=o=>{r.value=o},B=(o=!1)=>{const $=e(m),i=e(k);Oa([$,i])&&D("pick",[$,i],o)},p=o=>{r.value.selecting=o,o||(r.value.endDate=null)},g=o=>{if(De(o)&&o.length===2){const[$,i]=o;m.value=$,a.value=$,k.value=i,y(e(m),e(k))}else P()},P=()=>{let[o,$]=et(e(d),{lang:e(T),step:c,unit:u,unlinkPanels:t.unlinkPanels});const i=V=>V.diff(V.startOf("d"),"ms"),O=e(l);if(O){let V=0,A=0;if(De(O)){const[L,W]=O.map(Q);V=i(L),A=i(W)}else{const L=i(Q(O));V=L,A=L}o=o.startOf("d").add(V,"ms"),$=$.startOf("d").add(A,"ms")}m.value=void 0,k.value=void 0,a.value=o,n.value=$};return Oe(d,o=>{o&&P()},{immediate:!0}),Oe(()=>t.parsedValue,o=>{(!o?.length||!Lt(o,[m.value,k.value]))&&g(o)},{immediate:!0}),Oe(()=>t.visible,()=>{t.visible&&g(t.parsedValue)},{immediate:!0}),{minDate:m,maxDate:k,rangeState:r,lang:T,ppNs:M,drpNs:C,handleChangeRange:v,handleRangeConfirm:B,handleShortcutClick:x,onSelect:p,parseValue:g,t:w}},is=(t,d,l,a)=>{const n=ne("date"),c=ne(),u=ne("date"),y=ne(),D=Pe(Ge),{disabledDate:M}=D.props,{t:C,lang:w}=_e(),T=E(()=>l.value.year()),x=E(()=>l.value.month()),m=E(()=>a.value.year()),k=E(()=>a.value.month());function r(o,$){const i=C("el.datepicker.year");if(o.value==="year"){const O=Math.floor($.value/10)*10;return i?`${O} ${i} - ${O+9} ${i}`:`${O} - ${O+9}`}return`${$.value} ${i}`}function v(o){o?.focus()}async function B(o,$){if(t.disabled)return;const i=o==="left"?n:u,O=o==="left"?c:y;i.value=$,await Ye(),v(O.value)}async function p(o,$,i){if(t.disabled)return;const O=$==="left",V=O?l:a,A=O?a:l,L=O?n:u,W=O?c:y;if(o==="year"){const H=V.value.year(i);V.value=Qa(H,w.value,M)}o==="month"&&(V.value=ga(V.value,V.value.year(),i,w.value,M)),t.unlinkPanels||(A.value=$==="left"?V.value.add(1,"month"):V.value.subtract(1,"month")),L.value=o==="year"?"month":"date",await Ye(),v(W.value),g(o)}function g(o){d("panel-change",[l.value.toDate(),a.value.toDate()],o)}function P(o,$,i){const O=i?"add":"subtract";return o==="year"?$[O](10,"year"):$[O](1,"year")}return{leftCurrentView:n,rightCurrentView:u,leftCurrentViewRef:c,rightCurrentViewRef:y,leftYear:T,rightYear:m,leftMonth:x,rightMonth:k,leftYearLabel:E(()=>r(n,T)),rightYearLabel:E(()=>r(u,m)),showLeftPicker:o=>B("left",o),showRightPicker:o=>B("right",o),handleLeftYearPick:o=>p("year","left",o),handleRightYearPick:o=>p("year","right",o),handleLeftMonthPick:o=>p("month","left",o),handleRightMonthPick:o=>p("month","right",o),handlePanelChange:g,adjustDateByView:P}},us=["disabled","onClick"],ds=["aria-label","disabled"],cs=["aria-label","disabled"],vs=["disabled","aria-label"],fs=["disabled","aria-label"],ms=["tabindex","aria-disabled"],ps=["tabindex","aria-disabled"],hs=["disabled","aria-label"],bs=["disabled","aria-label"],ys=["aria-label","disabled"],ks=["disabled","aria-label"],gs=["tabindex","aria-disabled"],ws=["tabindex","aria-disabled"],Fa="month",Ds=Te({__name:"panel-date-range",props:rs,emits:["pick","set-picker-option","calendar-change","panel-change","clear"],setup(t,{emit:d}){const l=t,a=d,n=Pe(Ge),c=Pe(Ia,void 0),{disabledDate:u,cellClassName:y,defaultTime:D,clearable:M}=n.props,C=We(n.props,"format"),w=We(n.props,"shortcuts"),T=We(n.props,"defaultValue"),{lang:x}=_e(),m=ne(Q().locale(x.value)),k=ne(Q().locale(x.value).add(1,Fa)),{minDate:r,maxDate:v,rangeState:B,ppNs:p,drpNs:g,handleChangeRange:P,handleRangeConfirm:o,handleShortcutClick:$,onSelect:i,parseValue:O,t:V}=Dt(l,{defaultValue:T,defaultTime:D,leftDate:m,rightDate:k,unit:Fa,sortDates:fe});Oe(()=>l.visible,R=>{!R&&B.value.selecting&&(O(l.parsedValue),i(!1))});const A=ne({min:null,max:null}),L=ne({min:null,max:null}),{leftCurrentView:W,rightCurrentView:H,leftCurrentViewRef:te,rightCurrentViewRef:le,leftYear:ce,rightYear:K,leftMonth:h,rightMonth:q,leftYearLabel:N,rightYearLabel:ee,showLeftPicker:b,showRightPicker:Y,handleLeftYearPick:I,handleRightYearPick:J,handleLeftMonthPick:_,handleRightMonthPick:se,handlePanelChange:oe,adjustDateByView:pe}=is(l,a,m,k),Ee=E(()=>!!w.value.length),Ue=E(()=>A.value.min!==null?A.value.min:r.value?r.value.format(Me.value):""),je=E(()=>A.value.max!==null?A.value.max:v.value||r.value?(v.value||r.value).format(Me.value):""),Ie=E(()=>L.value.min!==null?L.value.min:r.value?r.value.format(Se.value):""),Ae=E(()=>L.value.max!==null?L.value.max:v.value||r.value?(v.value||r.value).format(Se.value):""),Se=E(()=>l.timeFormat||Jt(C.value||"")||$a),Me=E(()=>l.dateFormat||Zt(C.value||"")||ta),Le=R=>Oa(R)&&(u?!u(R[0].toDate())&&!u(R[1].toDate()):!0),He=()=>{m.value=pe(W.value,m.value,!1),l.unlinkPanels||(k.value=m.value.add(1,"month")),oe("year")},Be=()=>{m.value=m.value.subtract(1,"month"),l.unlinkPanels||(k.value=m.value.add(1,"month")),oe("month")},Da=()=>{l.unlinkPanels?k.value=pe(H.value,k.value,!0):(m.value=pe(H.value,m.value,!0),k.value=m.value.add(1,"month")),oe("year")},sa=()=>{l.unlinkPanels?k.value=k.value.add(1,"month"):(m.value=m.value.add(1,"month"),k.value=m.value.add(1,"month")),oe("month")},ra=()=>{m.value=pe(W.value,m.value,!0),oe("year")},ma=()=>{m.value=m.value.add(1,"month"),oe("month")},oa=()=>{k.value=pe(H.value,k.value,!1),oe("year")},Xe=()=>{k.value=k.value.subtract(1,"month"),oe("month")},Ze=E(()=>{const R=(h.value+1)%12,z=h.value+1>=12?1:0;return l.unlinkPanels&&new Date(ce.value+z,R)<new Date(K.value,q.value)}),ze=E(()=>l.unlinkPanels&&K.value*12+q.value-(ce.value*12+h.value+1)>=12),ve=Ta(),ea=E(()=>!(r.value&&v.value&&!B.value.selecting&&Oa([r.value,v.value])&&!ve.value)),aa=E(()=>l.type==="datetime"||l.type==="datetimerange"),pa=(R,z)=>{if(R)return D?Q(D[z]||D).locale(x.value).year(R.year()).month(R.month()).date(R.date()):R},ia=(R,z=!0)=>{const ae=R.minDate,da=R.maxDate,ha=pa(ae,0),Sa=pa(da,1);v.value===Sa&&r.value===ha||(a("calendar-change",[ae.toDate(),da&&da.toDate()]),v.value=Sa,r.value=ha,!aa.value&&z&&(z=!ha||!Sa),o(z))},xe=ne(!1),f=ne(!1),U=()=>{xe.value=!1},s=()=>{f.value=!1},j=(R,z)=>{A.value[z]=R;const ae=Q(R,Me.value).locale(x.value);if(ae.isValid()){if(u&&u(ae.toDate()))return;z==="min"?(m.value=ae,r.value=(r.value||m.value).year(ae.year()).month(ae.month()).date(ae.date()),!l.unlinkPanels&&(!v.value||v.value.isBefore(r.value))&&(k.value=ae.add(1,"month"),v.value=r.value.add(1,"month"))):(k.value=ae,v.value=(v.value||k.value).year(ae.year()).month(ae.month()).date(ae.date()),!l.unlinkPanels&&(!r.value||r.value.isAfter(v.value))&&(m.value=ae.subtract(1,"month"),r.value=v.value.subtract(1,"month"))),fe(r.value,v.value),o(!0)}},re=(R,z)=>{A.value[z]=null},ke=(R,z)=>{L.value[z]=R;const ae=Q(R,Se.value).locale(x.value);ae.isValid()&&(z==="min"?(xe.value=!0,r.value=(r.value||m.value).hour(ae.hour()).minute(ae.minute()).second(ae.second()),m.value=r.value):(f.value=!0,v.value=(v.value||k.value).hour(ae.hour()).minute(ae.minute()).second(ae.second()),k.value=v.value))},Ne=(R,z)=>{L.value[z]=null,z==="min"?(m.value=r.value,xe.value=!1,(!v.value||v.value.isBefore(r.value))&&(v.value=r.value)):(k.value=v.value,f.value=!1,v.value&&v.value.isBefore(r.value)&&(r.value=v.value)),o(!0)},Ca=(R,z,ae)=>{L.value.min||(R&&(r.value=(r.value||m.value).hour(R.hour()).minute(R.minute()).second(R.second())),ae||(xe.value=z),(!v.value||v.value.isBefore(r.value))&&(v.value=r.value,k.value=R,Ye(()=>{O(l.parsedValue)})),o(!0))},at=(R,z,ae)=>{L.value.max||(R&&(v.value=(v.value||k.value).hour(R.hour()).minute(R.minute()).second(R.second())),ae||(f.value=z),v.value&&v.value.isBefore(r.value)&&(r.value=v.value),o(!0))},tt=()=>{xa(),a("clear")},xa=()=>{let R=null;n?.emptyValues&&(R=n.emptyValues.valueOnClear.value),m.value=et(e(T),{lang:e(x),unit:"month",unlinkPanels:l.unlinkPanels})[0],k.value=m.value.add(1,"month"),v.value=void 0,r.value=void 0,o(!0),a("pick",R)},ua=R=>wa(R,C.value||"",x.value,c);function fe(R,z){if(l.unlinkPanels&&z){const ae=R?.year()||0,da=R?.month()||0,ha=z.year(),Sa=z.month();k.value=ae===ha&&da===Sa?z.add(1,Fa):z}else k.value=m.value.add(1,Fa),z&&(k.value=k.value.hour(z.hour()).minute(z.minute()).second(z.second()))}return a("set-picker-option",["isValidValue",Le]),a("set-picker-option",["parseUserInput",ua]),a("set-picker-option",["handleClear",xa]),(R,z)=>(F(),X("div",{class:S([e(p).b(),e(g).b(),e(p).is("border",R.border),e(p).is("disabled",e(ve)),{"has-sidebar":R.$slots.sidebar||Ee.value,"has-time":aa.value}])},[Z("div",{class:S(e(p).e("body-wrapper"))},[me(R.$slots,"sidebar",{class:S(e(p).e("sidebar"))}),Ee.value?(F(),X("div",{key:0,class:S(e(p).e("sidebar"))},[(F(!0),X(ge,null,Ve(w.value,(ae,da)=>(F(),X("button",{key:da,type:"button",disabled:e(ve),class:S(e(p).e("shortcut")),onClick:ha=>e($)(ae)},he(ae.text),11,us))),128))],2)):ue("v-if",!0),Z("div",{class:S(e(p).e("body"))},[aa.value?(F(),X("div",{key:0,class:S(e(g).e("time-header"))},[Z("span",{class:S(e(g).e("editors-wrap"))},[Z("span",{class:S(e(g).e("time-picker-wrap"))},[G(e(ca),{size:"small",disabled:e(B).selecting||e(ve),placeholder:e(V)("el.datepicker.startDate"),class:S(e(g).e("editor")),"model-value":Ue.value,"validate-event":!1,readonly:!R.editable,onInput:z[0]||(z[0]=ae=>j(ae,"min")),onChange:z[1]||(z[1]=ae=>re(ae,"min"))},null,8,["disabled","placeholder","class","model-value","readonly"])],2),Re((F(),X("span",{class:S(e(g).e("time-picker-wrap"))},[G(e(ca),{size:"small",class:S(e(g).e("editor")),disabled:e(B).selecting||e(ve),placeholder:e(V)("el.datepicker.startTime"),"model-value":Ie.value,"validate-event":!1,readonly:!R.editable,onFocus:z[2]||(z[2]=ae=>xe.value=!0),onInput:z[3]||(z[3]=ae=>ke(ae,"min")),onChange:z[4]||(z[4]=ae=>Ne(ae,"min"))},null,8,["class","disabled","placeholder","model-value","readonly"]),G(e(dt),{visible:xe.value,format:Se.value,"datetime-role":"start","parsed-value":e(r)||m.value,onPick:Ca},null,8,["visible","format","parsed-value"])],2)),[[e(ut),U]])],2),Z("span",null,[G(e(ye),null,{default:ie(()=>[G(e(Ea))]),_:1})]),Z("span",{class:S([e(g).e("editors-wrap"),"is-right"])},[Z("span",{class:S(e(g).e("time-picker-wrap"))},[G(e(ca),{size:"small",class:S(e(g).e("editor")),disabled:e(B).selecting||e(ve),placeholder:e(V)("el.datepicker.endDate"),"model-value":je.value,readonly:!e(r)||!R.editable,"validate-event":!1,onInput:z[5]||(z[5]=ae=>j(ae,"max")),onChange:z[6]||(z[6]=ae=>re(ae,"max"))},null,8,["class","disabled","placeholder","model-value","readonly"])],2),Re((F(),X("span",{class:S(e(g).e("time-picker-wrap"))},[G(e(ca),{size:"small",class:S(e(g).e("editor")),disabled:e(B).selecting||e(ve),placeholder:e(V)("el.datepicker.endTime"),"model-value":Ae.value,readonly:!e(r)||!R.editable,"validate-event":!1,onFocus:z[7]||(z[7]=ae=>e(r)&&(f.value=!0)),onInput:z[8]||(z[8]=ae=>ke(ae,"max")),onChange:z[9]||(z[9]=ae=>Ne(ae,"max"))},null,8,["class","disabled","placeholder","model-value","readonly"]),G(e(dt),{"datetime-role":"end",visible:f.value,format:Se.value,"parsed-value":e(v)||k.value,onPick:at},null,8,["visible","format","parsed-value"])],2)),[[e(ut),s]])],2)],2)):ue("v-if",!0),Z("div",{class:S([[e(p).e("content"),e(g).e("content")],"is-left"])},[Z("div",{class:S(e(g).e("header"))},[Z("button",{type:"button",class:S([e(p).e("icon-btn"),"d-arrow-left"]),"aria-label":e(V)("el.datepicker.prevYear"),disabled:e(ve),onClick:He},[me(R.$slots,"prev-year",{},()=>[G(e(ye),null,{default:ie(()=>[G(e(va))]),_:1})])],10,ds),Re(Z("button",{type:"button",class:S([e(p).e("icon-btn"),"arrow-left"]),"aria-label":e(V)("el.datepicker.prevMonth"),disabled:e(ve),onClick:Be},[me(R.$slots,"prev-month",{},()=>[G(e(ye),null,{default:ie(()=>[G(e(ot))]),_:1})])],10,cs),[[Qe,e(W)==="date"]]),R.unlinkPanels?(F(),X("button",{key:0,type:"button",disabled:!ze.value||e(ve),class:S([[e(p).e("icon-btn"),e(p).is("disabled",!ze.value||e(ve))],"d-arrow-right"]),"aria-label":e(V)("el.datepicker.nextYear"),onClick:ra},[me(R.$slots,"next-year",{},()=>[G(e(ye),null,{default:ie(()=>[G(e(fa))]),_:1})])],10,vs)):ue("v-if",!0),R.unlinkPanels&&e(W)==="date"?(F(),X("button",{key:1,type:"button",disabled:!Ze.value||e(ve),class:S([[e(p).e("icon-btn"),e(p).is("disabled",!Ze.value||e(ve))],"arrow-right"]),"aria-label":e(V)("el.datepicker.nextMonth"),onClick:ma},[me(R.$slots,"next-month",{},()=>[G(e(ye),null,{default:ie(()=>[G(e(Ea))]),_:1})])],10,fs)):ue("v-if",!0),Z("div",null,[Z("span",{role:"button",class:S(e(g).e("header-label")),"aria-live":"polite",tabindex:R.disabled?void 0:0,"aria-disabled":R.disabled,onKeydown:z[10]||(z[10]=qe(ae=>e(b)("year"),["enter"])),onClick:z[11]||(z[11]=ae=>e(b)("year"))},he(e(N)),43,ms),Re(Z("span",{role:"button","aria-live":"polite",tabindex:R.disabled?void 0:0,"aria-disabled":R.disabled,class:S([e(g).e("header-label"),{active:e(W)==="month"}]),onKeydown:z[12]||(z[12]=qe(ae=>e(b)("month"),["enter"])),onClick:z[13]||(z[13]=ae=>e(b)("month"))},he(e(V)(`el.datepicker.month${m.value.month()+1}`)),43,ps),[[Qe,e(W)==="date"]])])],2),e(W)==="date"?(F(),be(ct,{key:0,ref_key:"leftCurrentViewRef",ref:te,"selection-mode":"range",date:m.value,"min-date":e(r),"max-date":e(v),"range-state":e(B),"disabled-date":e(u),"cell-class-name":e(y),"show-week-number":R.showWeekNumber,disabled:e(ve),onChangerange:e(P),onPick:ia,onSelect:e(i)},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","show-week-number","disabled","onChangerange","onSelect"])):ue("v-if",!0),e(W)==="year"?(F(),be(Ra,{key:1,ref_key:"leftCurrentViewRef",ref:te,"selection-mode":"year",date:m.value,"disabled-date":e(u),"parsed-value":R.parsedValue,disabled:e(ve),onPick:e(I)},null,8,["date","disabled-date","parsed-value","disabled","onPick"])):ue("v-if",!0),e(W)==="month"?(F(),be(Ya,{key:2,ref_key:"leftCurrentViewRef",ref:te,"selection-mode":"month",date:m.value,"parsed-value":R.parsedValue,"disabled-date":e(u),disabled:e(ve),onPick:e(_)},null,8,["date","parsed-value","disabled-date","disabled","onPick"])):ue("v-if",!0)],2),Z("div",{class:S([[e(p).e("content"),e(g).e("content")],"is-right"])},[Z("div",{class:S(e(g).e("header"))},[R.unlinkPanels?(F(),X("button",{key:0,type:"button",disabled:!ze.value||e(ve),class:S([e(p).e("icon-btn"),"d-arrow-left"]),"aria-label":e(V)("el.datepicker.prevYear"),onClick:oa},[me(R.$slots,"prev-year",{},()=>[G(e(ye),null,{default:ie(()=>[G(e(va))]),_:1})])],10,hs)):ue("v-if",!0),R.unlinkPanels&&e(H)==="date"?(F(),X("button",{key:1,type:"button",disabled:!Ze.value||e(ve),class:S([e(p).e("icon-btn"),"arrow-left"]),"aria-label":e(V)("el.datepicker.prevMonth"),onClick:Xe},[me(R.$slots,"prev-month",{},()=>[G(e(ye),null,{default:ie(()=>[G(e(ot))]),_:1})])],10,bs)):ue("v-if",!0),Z("button",{type:"button","aria-label":e(V)("el.datepicker.nextYear"),class:S([e(p).e("icon-btn"),"d-arrow-right"]),disabled:e(ve),onClick:Da},[me(R.$slots,"next-year",{},()=>[G(e(ye),null,{default:ie(()=>[G(e(fa))]),_:1})])],10,ys),Re(Z("button",{type:"button",class:S([e(p).e("icon-btn"),"arrow-right"]),disabled:e(ve),"aria-label":e(V)("el.datepicker.nextMonth"),onClick:sa},[me(R.$slots,"next-month",{},()=>[G(e(ye),null,{default:ie(()=>[G(e(Ea))]),_:1})])],10,ks),[[Qe,e(H)==="date"]]),Z("div",null,[Z("span",{role:"button",class:S(e(g).e("header-label")),"aria-live":"polite",tabindex:R.disabled?void 0:0,"aria-disabled":R.disabled,onKeydown:z[14]||(z[14]=qe(ae=>e(Y)("year"),["enter"])),onClick:z[15]||(z[15]=ae=>e(Y)("year"))},he(e(ee)),43,gs),Re(Z("span",{role:"button","aria-live":"polite",tabindex:R.disabled?void 0:0,"aria-disabled":R.disabled,class:S([e(g).e("header-label"),{active:e(H)==="month"}]),onKeydown:z[16]||(z[16]=qe(ae=>e(Y)("month"),["enter"])),onClick:z[17]||(z[17]=ae=>e(Y)("month"))},he(e(V)(`el.datepicker.month${k.value.month()+1}`)),43,ws),[[Qe,e(H)==="date"]])])],2),e(H)==="date"?(F(),be(ct,{key:0,ref_key:"rightCurrentViewRef",ref:le,"selection-mode":"range",date:k.value,"min-date":e(r),"max-date":e(v),"range-state":e(B),"disabled-date":e(u),"cell-class-name":e(y),"show-week-number":R.showWeekNumber,disabled:e(ve),onChangerange:e(P),onPick:ia,onSelect:e(i)},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","show-week-number","disabled","onChangerange","onSelect"])):ue("v-if",!0),e(H)==="year"?(F(),be(Ra,{key:1,ref_key:"rightCurrentViewRef",ref:le,"selection-mode":"year",date:k.value,"disabled-date":e(u),"parsed-value":R.parsedValue,disabled:e(ve),onPick:e(J)},null,8,["date","disabled-date","parsed-value","disabled","onPick"])):ue("v-if",!0),e(H)==="month"?(F(),be(Ya,{key:2,ref_key:"rightCurrentViewRef",ref:le,"selection-mode":"month",date:k.value,"parsed-value":R.parsedValue,"disabled-date":e(u),disabled:e(ve),onPick:e(se)},null,8,["date","parsed-value","disabled-date","disabled","onPick"])):ue("v-if",!0)],2)],2)],2),R.showFooter&&aa.value&&(R.showConfirm||e(M))?(F(),X("div",{key:0,class:S(e(p).e("footer"))},[e(M)?(F(),be(e(Ga),{key:0,text:"",size:"small",class:S(e(p).e("link-btn")),onClick:tt},{default:ie(()=>[na(he(e(V)("el.datepicker.clear")),1)]),_:1},8,["class"])):ue("v-if",!0),R.showConfirm?(F(),be(e(Ga),{key:1,plain:"",size:"small",class:S(e(p).e("link-btn")),disabled:ea.value,onClick:z[18]||(z[18]=ae=>e(o)(!1))},{default:ie(()=>[na(he(e(V)("el.datepicker.confirm")),1)]),_:1},8,["class","disabled"])):ue("v-if",!0)],2)):ue("v-if",!0)],2))}});var Cs=Ke(Ds,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker-panel/src/date-picker-com/panel-date-range.vue"]]);const Ss=Ce({...kt}),Ps=["pick","set-picker-option","calendar-change"],Ms=({unlinkPanels:t,leftDate:d,rightDate:l})=>{const{t:a}=_e(),n=()=>{d.value=d.value.subtract(1,"year"),t.value||(l.value=l.value.subtract(1,"year"))},c=()=>{t.value||(d.value=d.value.add(1,"year")),l.value=l.value.add(1,"year")},u=()=>{d.value=d.value.add(1,"year")},y=()=>{l.value=l.value.subtract(1,"year")},D=E(()=>`${d.value.year()} ${a("el.datepicker.year")}`),M=E(()=>`${l.value.year()} ${a("el.datepicker.year")}`),C=E(()=>d.value.year()),w=E(()=>l.value.year()===d.value.year()?d.value.year()+1:l.value.year());return{leftPrevYear:n,rightNextYear:c,leftNextYear:u,rightPrevYear:y,leftLabel:D,rightLabel:M,leftYear:C,rightYear:w}},Vs=["disabled","onClick"],$s=["disabled"],Os=["disabled"],Ys=["disabled"],Rs=["disabled"],_a="year",Ts=Te({name:"DatePickerMonthRange",__name:"panel-month-range",props:Ss,emits:Ps,setup(t,{emit:d}){const l=t,a=d,{lang:n}=_e(),c=Pe(Ge),u=Pe(Ia,void 0),{shortcuts:y,disabledDate:D,cellClassName:M}=c.props,C=We(c.props,"format"),w=We(c.props,"defaultValue"),T=ne(Q().locale(n.value)),x=ne(Q().locale(n.value).add(1,_a)),{minDate:m,maxDate:k,rangeState:r,ppNs:v,drpNs:B,handleChangeRange:p,handleRangeConfirm:g,handleShortcutClick:P,onSelect:o,parseValue:$}=Dt(l,{defaultValue:w,leftDate:T,rightDate:x,unit:_a,sortDates:N}),i=E(()=>!!y.length),{leftPrevYear:O,rightNextYear:V,leftNextYear:A,rightPrevYear:L,leftLabel:W,rightLabel:H,leftYear:te,rightYear:le}=Ms({unlinkPanels:We(l,"unlinkPanels"),leftDate:T,rightDate:x}),ce=E(()=>l.unlinkPanels&&le.value>te.value+1),K=(b,Y=!0)=>{const I=b.minDate,J=b.maxDate;k.value===J&&m.value===I||(a("calendar-change",[I.toDate(),J&&J.toDate()]),k.value=J,m.value=I,Y&&g())},h=()=>{let b=null;c?.emptyValues&&(b=c.emptyValues.valueOnClear.value),T.value=et(e(w),{lang:e(n),unit:"year",unlinkPanels:l.unlinkPanels})[0],x.value=T.value.add(1,"year"),a("pick",b)},q=b=>wa(b,C.value,n.value,u);function N(b,Y){if(l.unlinkPanels&&Y){const I=b?.year()||0,J=Y.year();x.value=I===J?Y.add(1,_a):Y}else x.value=T.value.add(1,_a)}const ee=Ta();return Oe(()=>l.visible,b=>{!b&&r.value.selecting&&($(l.parsedValue),o(!1))}),a("set-picker-option",["isValidValue",Oa]),a("set-picker-option",["parseUserInput",q]),a("set-picker-option",["handleClear",h]),(b,Y)=>(F(),X("div",{class:S([e(v).b(),e(B).b(),e(v).is("border",b.border),e(v).is("disabled",e(ee)),{"has-sidebar":!!b.$slots.sidebar||i.value}])},[Z("div",{class:S(e(v).e("body-wrapper"))},[me(b.$slots,"sidebar",{class:S(e(v).e("sidebar"))}),i.value?(F(),X("div",{key:0,class:S(e(v).e("sidebar"))},[(F(!0),X(ge,null,Ve(e(y),(I,J)=>(F(),X("button",{key:J,type:"button",class:S(e(v).e("shortcut")),disabled:e(ee),onClick:_=>e(P)(I)},he(I.text),11,Vs))),128))],2)):ue("v-if",!0),Z("div",{class:S(e(v).e("body"))},[Z("div",{class:S([[e(v).e("content"),e(B).e("content")],"is-left"])},[Z("div",{class:S(e(B).e("header"))},[Z("button",{type:"button",class:S([e(v).e("icon-btn"),"d-arrow-left"]),disabled:e(ee),onClick:Y[0]||(Y[0]=(...I)=>e(O)&&e(O)(...I))},[me(b.$slots,"prev-year",{},()=>[G(e(ye),null,{default:ie(()=>[G(e(va))]),_:1})])],10,$s),b.unlinkPanels?(F(),X("button",{key:0,type:"button",disabled:!ce.value||e(ee),class:S([[e(v).e("icon-btn"),e(v).is("disabled",!ce.value||e(ee))],"d-arrow-right"]),onClick:Y[1]||(Y[1]=(...I)=>e(A)&&e(A)(...I))},[me(b.$slots,"next-year",{},()=>[G(e(ye),null,{default:ie(()=>[G(e(fa))]),_:1})])],10,Os)):ue("v-if",!0),Z("div",null,he(e(W)),1)],2),G(Ya,{"selection-mode":"range",date:T.value,"min-date":e(m),"max-date":e(k),"range-state":e(r),"disabled-date":e(D),disabled:e(ee),"cell-class-name":e(M),onChangerange:e(p),onPick:K,onSelect:e(o)},null,8,["date","min-date","max-date","range-state","disabled-date","disabled","cell-class-name","onChangerange","onSelect"])],2),Z("div",{class:S([[e(v).e("content"),e(B).e("content")],"is-right"])},[Z("div",{class:S(e(B).e("header"))},[b.unlinkPanels?(F(),X("button",{key:0,type:"button",disabled:!ce.value||e(ee),class:S([[e(v).e("icon-btn"),e(v).is("disabled",!ce.value||e(ee))],"d-arrow-left"]),onClick:Y[2]||(Y[2]=(...I)=>e(L)&&e(L)(...I))},[me(b.$slots,"prev-year",{},()=>[G(e(ye),null,{default:ie(()=>[G(e(va))]),_:1})])],10,Ys)):ue("v-if",!0),Z("button",{type:"button",class:S([e(v).e("icon-btn"),"d-arrow-right"]),disabled:e(ee),onClick:Y[3]||(Y[3]=(...I)=>e(V)&&e(V)(...I))},[me(b.$slots,"next-year",{},()=>[G(e(ye),null,{default:ie(()=>[G(e(fa))]),_:1})])],10,Rs),Z("div",null,he(e(H)),1)],2),G(Ya,{"selection-mode":"range",date:x.value,"min-date":e(m),"max-date":e(k),"range-state":e(r),"disabled-date":e(D),disabled:e(ee),"cell-class-name":e(M),onChangerange:e(p),onPick:K,onSelect:e(o)},null,8,["date","min-date","max-date","range-state","disabled-date","disabled","cell-class-name","onChangerange","onSelect"])],2)],2)],2)],2))}});var Is=Ke(Ts,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker-panel/src/date-picker-com/panel-month-range.vue"]]);const xs=Ce({...kt}),Ns=["pick","set-picker-option","calendar-change"],Fs=({unlinkPanels:t,leftDate:d,rightDate:l})=>{const a=()=>{d.value=d.value.subtract(10,"year"),t.value||(l.value=l.value.subtract(10,"year"))},n=()=>{t.value||(d.value=d.value.add(10,"year")),l.value=l.value.add(10,"year")},c=()=>{d.value=d.value.add(10,"year")},u=()=>{l.value=l.value.subtract(10,"year")},y=E(()=>{const w=Math.floor(d.value.year()/10)*10;return`${w}-${w+9}`}),D=E(()=>{const w=Math.floor(l.value.year()/10)*10;return`${w}-${w+9}`}),M=E(()=>Math.floor(d.value.year()/10)*10+9),C=E(()=>Math.floor(l.value.year()/10)*10);return{leftPrevYear:a,rightNextYear:n,leftNextYear:c,rightPrevYear:u,leftLabel:y,rightLabel:D,leftYear:M,rightYear:C}},_s=["disabled","onClick"],Es=["disabled"],As=["disabled"],Bs=["disabled"],Ls=["disabled"],ba=10,Ma="year",Ws=Te({name:"DatePickerYearRange",__name:"panel-year-range",props:xs,emits:Ns,setup(t,{emit:d}){const l=t,a=d,{lang:n}=_e(),c=ne(Q().locale(n.value)),u=ne(Q().locale(n.value).add(ba,Ma)),y=Pe(Ia,void 0),D=Pe(Ge),{shortcuts:M,disabledDate:C,cellClassName:w}=D.props,T=We(D.props,"format"),x=We(D.props,"defaultValue"),{minDate:m,maxDate:k,rangeState:r,ppNs:v,drpNs:B,handleChangeRange:p,handleRangeConfirm:g,handleShortcutClick:P,onSelect:o,parseValue:$}=Dt(l,{defaultValue:x,leftDate:c,rightDate:u,step:ba,unit:Ma,sortDates:J}),{leftPrevYear:i,rightNextYear:O,leftNextYear:V,rightPrevYear:A,leftLabel:L,rightLabel:W,leftYear:H,rightYear:te}=Fs({unlinkPanels:We(l,"unlinkPanels"),leftDate:c,rightDate:u}),le=Ta(),ce=E(()=>!!M.length),K=E(()=>[v.b(),B.b(),v.is("border",l.border),v.is("disabled",le.value),{"has-sidebar":!!pt().sidebar||ce.value}]),h=E(()=>({content:[v.e("content"),B.e("content"),"is-left"],arrowLeftBtn:[v.e("icon-btn"),"d-arrow-left"],arrowRightBtn:[v.e("icon-btn"),v.is("disabled",!N.value||le.value),"d-arrow-right"]})),q=E(()=>({content:[v.e("content"),B.e("content"),"is-right"],arrowLeftBtn:[v.e("icon-btn"),v.is("disabled",!N.value||le.value),"d-arrow-left"],arrowRightBtn:[v.e("icon-btn"),"d-arrow-right"]})),N=E(()=>l.unlinkPanels&&te.value>H.value+1),ee=(_,se=!0)=>{const oe=_.minDate,pe=_.maxDate;k.value===pe&&m.value===oe||(a("calendar-change",[oe.toDate(),pe&&pe.toDate()]),k.value=pe,m.value=oe,se&&g())},b=_=>wa(_,T.value,n.value,y),Y=_=>Oa(_)&&(C?!C(_[0].toDate())&&!C(_[1].toDate()):!0),I=()=>{let _=null;D?.emptyValues&&(_=D.emptyValues.valueOnClear.value);const se=et(e(x),{lang:e(n),step:ba,unit:Ma,unlinkPanels:l.unlinkPanels});c.value=se[0],u.value=se[1],a("pick",_)};function J(_,se){if(l.unlinkPanels&&se){const oe=_?.year()||0,pe=se.year();u.value=oe+ba>pe?se.add(ba,Ma):se}else u.value=c.value.add(ba,Ma)}return Oe(()=>l.visible,_=>{!_&&r.value.selecting&&($(l.parsedValue),o(!1))}),a("set-picker-option",["isValidValue",Y]),a("set-picker-option",["parseUserInput",b]),a("set-picker-option",["handleClear",I]),(_,se)=>(F(),X("div",{class:S(K.value)},[Z("div",{class:S(e(v).e("body-wrapper"))},[me(_.$slots,"sidebar",{class:S(e(v).e("sidebar"))}),ce.value?(F(),X("div",{key:0,class:S(e(v).e("sidebar"))},[(F(!0),X(ge,null,Ve(e(M),(oe,pe)=>(F(),X("button",{key:pe,type:"button",class:S(e(v).e("shortcut")),disabled:e(le),onClick:Ee=>e(P)(oe)},he(oe.text),11,_s))),128))],2)):ue("v-if",!0),Z("div",{class:S(e(v).e("body"))},[Z("div",{class:S(h.value.content)},[Z("div",{class:S(e(B).e("header"))},[Z("button",{type:"button",class:S(h.value.arrowLeftBtn),disabled:e(le),onClick:se[0]||(se[0]=(...oe)=>e(i)&&e(i)(...oe))},[me(_.$slots,"prev-year",{},()=>[G(e(ye),null,{default:ie(()=>[G(e(va))]),_:1})])],10,Es),_.unlinkPanels?(F(),X("button",{key:0,type:"button",disabled:!N.value||e(le),class:S(h.value.arrowRightBtn),onClick:se[1]||(se[1]=(...oe)=>e(V)&&e(V)(...oe))},[me(_.$slots,"next-year",{},()=>[G(e(ye),null,{default:ie(()=>[G(e(fa))]),_:1})])],10,As)):ue("v-if",!0),Z("div",null,he(e(L)),1)],2),G(Ra,{"selection-mode":"range",date:c.value,"min-date":e(m),"max-date":e(k),"range-state":e(r),"disabled-date":e(C),disabled:e(le),"cell-class-name":e(w),onChangerange:e(p),onPick:ee,onSelect:e(o)},null,8,["date","min-date","max-date","range-state","disabled-date","disabled","cell-class-name","onChangerange","onSelect"])],2),Z("div",{class:S(q.value.content)},[Z("div",{class:S(e(B).e("header"))},[_.unlinkPanels?(F(),X("button",{key:0,type:"button",disabled:!N.value||e(le),class:S(q.value.arrowLeftBtn),onClick:se[2]||(se[2]=(...oe)=>e(A)&&e(A)(...oe))},[me(_.$slots,"prev-year",{},()=>[G(e(ye),null,{default:ie(()=>[G(e(va))]),_:1})])],10,Bs)):ue("v-if",!0),Z("button",{type:"button",class:S(q.value.arrowRightBtn),disabled:e(le),onClick:se[3]||(se[3]=(...oe)=>e(O)&&e(O)(...oe))},[me(_.$slots,"next-year",{},()=>[G(e(ye),null,{default:ie(()=>[G(e(fa))]),_:1})])],10,Ls),Z("div",null,he(e(W)),1)],2),G(Ra,{"selection-mode":"range",date:u.value,"min-date":e(m),"max-date":e(k),"range-state":e(r),"disabled-date":e(C),disabled:e(le),"cell-class-name":e(w),onChangerange:e(p),onPick:ee,onSelect:e(o)},null,8,["date","min-date","max-date","range-state","disabled-date","disabled","cell-class-name","onChangerange","onSelect"])],2)],2)],2)],2))}});var Ks=Ke(Ws,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker-panel/src/date-picker-com/panel-year-range.vue"]]);const Us=function(t){switch(t){case"daterange":case"datetimerange":return Cs;case"monthrange":return Is;case"yearrange":return Ks;default:return ss}};function js(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!jt(t)}Q.extend(Nn);Q.extend(ul);Q.extend(Bn);Q.extend(fl);Q.extend(bl);Q.extend(wl);Q.extend(Pl);Q.extend(Ol);var Hs=Te({name:"ElDatePickerPanel",install:null,inheritAttrs:!1,props:Yl,emits:[Va,"calendar-change","panel-change","visible-change","clear"],setup(t,{slots:d,emit:l,attrs:a}){const n=$e("picker-panel"),c=Pe(Ge,void 0);if(Kt(c)){const w=vt({...wn(t)});ka(Ge,{props:w})}ka(bt,{slots:d,pickerNs:n});const{parsedValue:u,onCalendarChange:y,onPanelChange:D,onSetPickerOption:M,onPick:C}=Pe(en,()=>an(t,l),!0);return()=>{const w=Us(t.type);return G(w,ya(On(a,"onPick"),t,{parsedValue:u.value,"onSet-picker-option":M,"onCalendar-change":y,"onPanel-change":D,onClear:()=>l("clear"),onPick:C}),js(d)?d:{default:()=>[d]})}}});const zs=Ht(Hs),qs=Ce({...tn,type:{type:de(String),default:"date"}});function Gs(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!jt(t)}var Zs=Te({name:"ElDatePicker",install:null,props:qs,emits:[Va],setup(t,{expose:d,emit:l,slots:a}){const n=E(()=>!t.format);ka(Ia,n),ka(Xt,vt(We(t,"popperOptions")));const c=ne();d({focus:()=>{var D;(D=c.value)==null||D.focus()},blur:()=>{var D;(D=c.value)==null||D.blur()},handleOpen:()=>{var D;(D=c.value)==null||D.handleOpen()},handleClose:()=>{var D;(D=c.value)==null||D.handleClose()}});const y=D=>{l(Va,D)};return()=>{var D;const M=(D=t.format)!=null?D:Ln[t.type]||ta;return G(Gn,ya(t,{format:M,type:t.type,ref:c,"onUpdate:modelValue":y}),{default:C=>G(zs,ya({disabled:t.disabled,editable:t.editable,border:!1},C),Gs(a)?a:{default:()=>[a]}),"range-separator":a["range-separator"]})}}});const pr=Ht(Zs);export{Gn as C,ta as D,pr as E,Ge as P,bt as R,dt as T,mr as W,Ia as a,Yl as b,zs as c,qs as d,nt as e,$t as f,Aa as g,Zt as h,Jt as i,Yt as j,Ln as k,$a as l,lt as m,Xt as n,en as o,Ot as p,tn as q,Gt as r,Kn as s,It as t,Fn as u,Qt as v};
