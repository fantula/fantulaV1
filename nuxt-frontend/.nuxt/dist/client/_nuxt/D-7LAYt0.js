import{bk as W,cm as X,dd as F,b_ as Z,b6 as L,g as h,cl as G,b4 as ee,J as le,K as ae,r as z,bt as B,dR as $,br as Se,dx as Y,ds as te,c0 as U,f as K,bV as oe,b$ as M,G as P,o as V,w as ne,a as I,c as _,D as A,n as S,i as se,c1 as R,l as c,cz as ue,aD as re,al as ie,aF as j,F as ce,d as de,t as be,M as O,aA as Le,bX as Ee,bY as D,c2 as Be,ce as _e,k as Ie,c3 as Ne,c4 as ve}from"./CEI0siaN.js";import{u as me,p as De}from"./97-vZjNt.js";import{U as N,C as T}from"./BB_Ol6Sd.js";import{f as we}from"./Dnj8X3EN.js";import{c as fe,a as q,b as Q,d as pe,u as w}from"./Cp1EI20B.js";import{d as he}from"./Cq9Fpw4b.js";import{o as Fe}from"./DE5qJ7kT.js";const ke={modelValue:{type:[Number,String,Boolean],default:void 0},label:{type:[String,Boolean,Number,Object],default:void 0},value:{type:[String,Boolean,Number,Object],default:void 0},indeterminate:Boolean,disabled:{type:Boolean,default:void 0},checked:Boolean,name:{type:String,default:void 0},trueValue:{type:[String,Number],default:void 0},falseValue:{type:[String,Number],default:void 0},trueLabel:{type:[String,Number],default:void 0},falseLabel:{type:[String,Number],default:void 0},id:{type:String,default:void 0},border:Boolean,size:Z,tabindex:[String,Number],validateEvent:{type:Boolean,default:!0},ariaLabel:String,...me(["ariaControls"])},xe={[N]:e=>W(e)||X(e)||F(e),change:e=>W(e)||X(e)||F(e)},E=Symbol("checkboxGroupContextKey"),Ge=({model:e,isChecked:t})=>{const i=L(E,void 0),a=L(we,void 0),m=h(()=>{var d,n;const p=(d=i?.max)==null?void 0:d.value,v=(n=i?.min)==null?void 0:n.value;return!G(p)&&e.value.length>=p&&!t.value||!G(v)&&e.value.length<=v&&t.value});return{isDisabled:fe(h(()=>{var d,n;return i===void 0?(d=a?.disabled)!=null?d:m.value:((n=i.disabled)==null?void 0:n.value)||m.value})),isLimitDisabled:m}},ze=(e,{model:t,isLimitExceeded:i,hasOwnLabel:a,isDisabled:m,isLabeledByFormItem:f})=>{const d=L(E,void 0),{formItem:n}=q(),{emit:p}=ee();function v(o){var l,s,b,r;return[!0,e.trueValue,e.trueLabel].includes(o)?(s=(l=e.trueValue)!=null?l:e.trueLabel)!=null?s:!0:(r=(b=e.falseValue)!=null?b:e.falseLabel)!=null?r:!1}function u(o,l){p(T,v(o),l)}function g(o){if(i.value)return;const l=o.target;p(T,v(l.checked),o)}async function x(o){i.value||!a.value&&!m.value&&f.value&&(o.composedPath().some(b=>b.tagName==="LABEL")||(t.value=v([!1,e.falseValue,e.falseLabel].includes(t.value)),await ae(),u(t.value,o)))}const y=h(()=>d?.validateEvent||e.validateEvent);return le(()=>e.modelValue,()=>{y.value&&n?.validate("change").catch(o=>he())}),{handleChange:g,onClickRoot:x}},$e=e=>{const t=z(!1),{emit:i}=ee(),a=L(E,void 0),m=h(()=>G(a)===!1),f=z(!1),d=h({get(){var n,p;return m.value?(n=a?.modelValue)==null?void 0:n.value:(p=e.modelValue)!=null?p:t.value},set(n){var p,v;m.value&&B(n)?(f.value=((p=a?.max)==null?void 0:p.value)!==void 0&&n.length>a?.max.value&&n.length>d.value.length,f.value===!1&&((v=a?.changeEvent)==null||v.call(a,n))):(i(N,n),t.value=n)}});return{model:d,isGroup:m,isLimitExceeded:f}},Pe=(e,t,{model:i})=>{const a=L(E,void 0),m=z(!1),f=h(()=>$(e.value)?e.label:e.value),d=h(()=>{const u=i.value;return F(u)?u:B(u)?Se(f.value)?u.map(Y).some(g=>te(g,f.value)):u.map(Y).includes(f.value):u!=null?u===e.trueValue||u===e.trueLabel:!!u}),n=Q(h(()=>{var u;return(u=a?.size)==null?void 0:u.value}),{prop:!0}),p=Q(h(()=>{var u;return(u=a?.size)==null?void 0:u.value})),v=h(()=>!!t.default||!$(f.value));return{checkboxButtonSize:n,isChecked:d,isFocused:m,checkboxSize:p,hasOwnLabel:v,actualValue:f}},ge=(e,t)=>{const{formItem:i}=q(),{model:a,isGroup:m,isLimitExceeded:f}=$e(e),{isFocused:d,isChecked:n,checkboxButtonSize:p,checkboxSize:v,hasOwnLabel:u,actualValue:g}=Pe(e,t,{model:a}),{isDisabled:x}=Ge({model:a,isChecked:n}),{inputId:y,isLabeledByFormItem:o}=pe(e,{formItemContext:i,disableIdGeneration:u,disableIdManagement:m}),{handleChange:l,onClickRoot:s}=ze(e,{model:a,isLimitExceeded:f,hasOwnLabel:u,isDisabled:x,isLabeledByFormItem:o});return(()=>{function r(){var k,C;B(a.value)&&!a.value.includes(g.value)?a.value.push(g.value):a.value=(C=(k=e.trueValue)!=null?k:e.trueLabel)!=null?C:!0}e.checked&&r()})(),w({from:"label act as value",replacement:"value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},h(()=>m.value&&$(e.value))),w({from:"true-label",replacement:"true-value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},h(()=>!!e.trueLabel)),w({from:"false-label",replacement:"false-value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},h(()=>!!e.falseLabel)),{inputId:y,isLabeledByFormItem:o,isChecked:n,isDisabled:x,isFocused:d,checkboxButtonSize:p,checkboxSize:v,hasOwnLabel:u,model:a,actualValue:g,handleChange:l,onClickRoot:s}},Ae=["id","indeterminate","name","tabindex","disabled"],Oe=K({name:"ElCheckbox",__name:"checkbox",props:ke,emits:xe,setup(e){const t=e,i=oe(),{inputId:a,isLabeledByFormItem:m,isChecked:f,isDisabled:d,isFocused:n,checkboxSize:p,hasOwnLabel:v,model:u,actualValue:g,handleChange:x,onClickRoot:y}=ge(t,i),o=h(()=>{var r,k,C,J;return t.trueValue||t.falseValue||t.trueLabel||t.falseLabel?{"true-value":(k=(r=t.trueValue)!=null?r:t.trueLabel)!=null?k:!0,"false-value":(J=(C=t.falseValue)!=null?C:t.falseLabel)!=null?J:!1}:{value:g.value}}),l=M("checkbox"),s=h(()=>[l.b(),l.m(p.value),l.is("disabled",d.value),l.is("bordered",t.border),l.is("checked",f.value)]),b=h(()=>[l.e("input"),l.is("disabled",d.value),l.is("checked",f.value),l.is("indeterminate",t.indeterminate),l.is("focus",n.value)]);return(r,k)=>(V(),P(O(!c(v)&&c(m)?"span":"label"),{for:!c(v)&&c(m)?null:c(a),class:S(s.value),"aria-controls":r.indeterminate?r.ariaControls:null,"aria-checked":r.indeterminate?"mixed":void 0,"aria-label":r.ariaLabel,onClick:c(y)},{default:ne(()=>[I("span",{class:S(b.value)},[se(I("input",R({id:c(a),"onUpdate:modelValue":k[0]||(k[0]=C=>ue(u)?u.value=C:null),class:c(l).e("original"),type:"checkbox",indeterminate:r.indeterminate,name:r.name,tabindex:r.tabindex,disabled:c(d)},o.value,{onChange:k[1]||(k[1]=(...C)=>c(x)&&c(x)(...C)),onFocus:k[2]||(k[2]=C=>n.value=!0),onBlur:k[3]||(k[3]=C=>n.value=!1),onClick:k[4]||(k[4]=re(()=>{},["stop"]))}),null,16,Ae),[[ie,c(u)]]),I("span",{class:S(c(l).e("inner"))},null,2)],2),c(v)?(V(),_("span",{key:0,class:S(c(l).e("label"))},[j(r.$slots,"default"),r.$slots.default?A("v-if",!0):(V(),_(ce,{key:0},[de(be(r.label),1)],64))],2)):A("v-if",!0)]),_:3},8,["for","class","aria-controls","aria-checked","aria-label","onClick"]))}});var Ce=U(Oe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/checkbox/src/checkbox.vue"]]);const Te=["name","tabindex","disabled"],Ue=K({name:"ElCheckboxButton",__name:"checkbox-button",props:ke,emits:xe,setup(e){const t=e,i=oe(),{isFocused:a,isChecked:m,isDisabled:f,checkboxButtonSize:d,model:n,actualValue:p,handleChange:v}=ge(t,i),u=h(()=>{var l,s,b,r;return t.trueValue||t.falseValue||t.trueLabel||t.falseLabel?{"true-value":(s=(l=t.trueValue)!=null?l:t.trueLabel)!=null?s:!0,"false-value":(r=(b=t.falseValue)!=null?b:t.falseLabel)!=null?r:!1}:{value:p.value}}),g=L(E,void 0),x=M("checkbox"),y=h(()=>{var l,s,b,r;const k=(s=(l=g?.fill)==null?void 0:l.value)!=null?s:"";return{backgroundColor:k,borderColor:k,color:(r=(b=g?.textColor)==null?void 0:b.value)!=null?r:"",boxShadow:k?`-1px 0 0 0 ${k}`:void 0}}),o=h(()=>[x.b("button"),x.bm("button",d.value),x.is("disabled",f.value),x.is("checked",m.value),x.is("focus",a.value)]);return(l,s)=>(V(),_("label",{class:S(o.value)},[se(I("input",R({"onUpdate:modelValue":s[0]||(s[0]=b=>ue(n)?n.value=b:null),class:c(x).be("button","original"),type:"checkbox",name:l.name,tabindex:l.tabindex,disabled:c(f)},u.value,{onChange:s[1]||(s[1]=(...b)=>c(v)&&c(v)(...b)),onFocus:s[2]||(s[2]=b=>a.value=!0),onBlur:s[3]||(s[3]=b=>a.value=!1),onClick:s[4]||(s[4]=re(()=>{},["stop"]))}),null,16,Te),[[ie,c(n)]]),l.$slots.default||l.label?(V(),_("span",{key:0,class:S(c(x).be("button","inner")),style:Le(c(m)?y.value:void 0)},[j(l.$slots,"default",{},()=>[de(be(l.label),1)])],6)):A("v-if",!0)],2))}});var H=U(Ue,[["__file","/home/runner/work/element-plus/element-plus/packages/components/checkbox/src/checkbox-button.vue"]]);const Ke=Ee({modelValue:{type:D(Array),default:()=>[]},disabled:{type:Boolean,default:void 0},min:Number,max:Number,size:Z,fill:String,textColor:String,tag:{type:String,default:"div"},validateEvent:{type:Boolean,default:!0},options:{type:D(Array)},props:{type:D(Object),default:()=>ye},type:{type:String,values:["checkbox","button"],default:"checkbox"},...me(["ariaLabel"])}),Me={[N]:e=>B(e),change:e=>B(e)},ye={label:"label",value:"value",disabled:"disabled"},Re=K({name:"ElCheckboxGroup",__name:"checkbox-group",props:Ke,emits:Me,setup(e,{emit:t}){const i=e,a=t,m=M("checkbox"),f=fe(),{formItem:d}=q(),{inputId:n,isLabeledByFormItem:p}=pe(i,{formItemContext:d}),v=async o=>{a(N,o),await ae(),a(T,o)},u=h({get(){return i.modelValue},set(o){v(o)}}),g=h(()=>({...ye,...i.props})),x=o=>{const{label:l,value:s,disabled:b}=g.value,r={label:o[l],value:o[s],disabled:o[b]};return{...Fe(o,[l,s,b]),...r}},y=h(()=>i.type==="button"?H:Ce);return Be(E,{...De(_e(i),["size","min","max","validateEvent","fill","textColor"]),disabled:f,modelValue:u,changeEvent:v}),le(()=>i.modelValue,(o,l)=>{i.validateEvent&&!te(o,l)&&d?.validate("change").catch(s=>he())}),(o,l)=>{var s;return V(),P(O(o.tag),{id:c(n),class:S(c(m).b("group")),role:"group","aria-label":c(p)?void 0:o.ariaLabel||"checkbox-group","aria-labelledby":c(p)?(s=c(d))==null?void 0:s.labelId:void 0},{default:ne(()=>[j(o.$slots,"default",{},()=>[(V(!0),_(ce,null,Ie(o.options,(b,r)=>(V(),P(O(y.value),R({key:r},{ref_for:!0},x(b)),null,16))),128))])]),_:3},8,["id","class","aria-label","aria-labelledby"])}}});var Ve=U(Re,[["__file","/home/runner/work/element-plus/element-plus/packages/components/checkbox/src/checkbox-group.vue"]]);const Qe=Ne(Ce,{CheckboxButton:H,CheckboxGroup:Ve});ve(H);const Ze=ve(Ve);export{Ze as E,Qe as a,Me as b,ye as c,Ke as d,xe as e,ke as f,E as g};
